{"version":3,"sources":["../src/main.ts","../src/components/channels.ts","../src/components/file.ts","../src/utils/index.ts","../src/components/readme.ts","../src/api/epg_pw.ts","../src/api/iptv_org.ts","../src/api/yang_m3u.ts","../src/api/yuechan_live.ts","../src/api/fanmingming_live.ts","../src/api/qwerttvv_bj_iptv.ts","../src/api/joevess_iptv.ts","../src/api/hotel_ multicast.ts","../src/api/adultiptv_net.ts","../src/api/ChinaIPTV.ts","../src/api/index.ts","../src/components/rollback.ts","../src/api/epgs.ts","../src/api/movie.ts","../src/components/tvbox.ts","../src/task/custom.ts"],"sourcesContent":["import { hrtime } from \"node:process\";\r\nimport { updateChannelsJson } from \"./components/channels\";\r\nimport {\r\n  cleanFiles,\r\n  copyFiles,\r\n  getContent,\r\n  mergeSources,\r\n  mergeTxts,\r\n  writeEpgXML,\r\n  writeMovieJson,\r\n  writeM3u,\r\n  writeM3uToTxt,\r\n  writeSources,\r\n} from \"./components/file\";\r\n\r\nimport { updateChannelList, updateReadme } from \"./components/readme\";\r\nimport { sources } from \"./api\";\r\nimport {\r\n  updateByRollback,\r\n  updateEPGByRollback,\r\n  updateDATAByRollback,\r\n} from \"./components/rollback\";\r\nimport { epgs_sources } from \"./api/epgs\";\r\nimport { ApiJson } from \"./api/movie\";\r\nimport { writeTvBoxJson } from \"./components/tvbox\";\r\nimport { Collector } from \"./utils\";\r\nimport { runCustomTask } from \"./task/custom\";\r\n\r\ncleanFiles();\r\ncopyFiles();\r\n\r\n// 执行脚本\r\nPromise.allSettled(\r\n  sources.map(async (sr) => {\r\n    console.log(`[TASK] Fetch ${sr.name}`);\r\n    try {\r\n      const [ok, text, now] = await getContent(sr);\r\n      if (ok && !!text) {\r\n        console.log(\r\n          `Fetch m3u from ${sr.name} finished, cost ${(parseInt(hrtime.bigint().toString()) - parseInt(now.toString())) /\r\n          10e6\r\n          } ms`\r\n        );\r\n        const sourcesCollector = Collector(\r\n          undefined,\r\n          (v) => !/^([a-z]+)\\:\\/\\//.test(v)\r\n        );\r\n        let [m3u, count] = sr.filter(\r\n          text as string,\r\n          [\"o_all\", \"all\"].includes(sr.f_name) ? \"skip\" : \"normal\",\r\n          sourcesCollector.collect\r\n        );\r\n        writeM3u(sr.f_name, m3u);\r\n        writeM3uToTxt(sr.name, sr.f_name, m3u);\r\n        writeSources(sr.name, sr.f_name, sourcesCollector.result());\r\n        writeTvBoxJson(\r\n          sr.f_name,\r\n          [{ name: sr.name, f_name: sr.f_name }],\r\n          sr.name\r\n        );\r\n        updateChannelList(sr.name, sr.f_name, m3u);\r\n        return [\"normal\", count];\r\n      } else {\r\n        return undefined;\r\n      }\r\n    } catch (e) {\r\n      const res = await updateByRollback(sr, sr.filter);\r\n      if (!!res) {\r\n        const [m3u, count] = res;\r\n        writeM3u(sr.f_name, m3u);\r\n        writeM3uToTxt(sr.name, sr.f_name, m3u);\r\n        writeTvBoxJson(\r\n          sr.f_name,\r\n          [{ name: sr.name, f_name: sr.f_name }],\r\n          sr.name\r\n        );\r\n        updateChannelList(sr.name, sr.f_name, m3u);\r\n        return [\"rollback\", count];\r\n      } else {\r\n        return [\"rollback\", void 0];\r\n      }\r\n    }\r\n  })\r\n)\r\n  .then(async (result) => {\r\n    const epgs = await Promise.allSettled(\r\n      epgs_sources.map(async (epg_sr) => {\r\n        console.log(`[TASK] Fetch EPG ${epg_sr.name}`);\r\n        try {\r\n          const [ok, text, now] = await getContent(epg_sr);\r\n\r\n          if (ok && !!text) {\r\n            console.log(\r\n              `Fetch EPG from ${epg_sr.name} finished, cost ${(parseInt(hrtime.bigint().toString()) -\r\n                parseInt(now.toString())) /\r\n              10e6\r\n              } ms`\r\n            );\r\n            writeEpgXML(epg_sr.f_name, text as string);\r\n            return [\"normal\"];\r\n          } else {\r\n            // rollback\r\n            const text = await updateEPGByRollback(epg_sr);\r\n            if (!!text) {\r\n              writeEpgXML(epg_sr.f_name, text as string);\r\n              return [\"rollback\"];\r\n            } else {\r\n              // rollback failed\r\n              console.log(`[WARNING] EPG ${epg_sr.name} get failed!`);\r\n              return [void 0];\r\n            }\r\n          }\r\n        } catch (e) {\r\n          const text = await updateEPGByRollback(epg_sr);\r\n          if (!!text) {\r\n            writeEpgXML(epg_sr.f_name, text as string);\r\n            return [\"rollback\"];\r\n          } else {\r\n            // rollback failed\r\n            console.log(`[WARNING] EPG ${epg_sr.name} get failed!`);\r\n            return [void 0];\r\n          }\r\n        }\r\n      })\r\n    );\r\n\r\n    return {\r\n      sources: result,\r\n      epgs: epgs,\r\n    };\r\n  })\r\n\r\n  .then((result) => {\r\n    console.log(`[TASK] Write important files`);\r\n    const sources_res = result.sources.map((r) => (<any>r).value);\r\n    const epgs_res = result.epgs.map((r) => (<any>r).value);\r\n    mergeTxts();\r\n    mergeSources();\r\n    writeTvBoxJson(\"tvbox\", sources, \"Channels\");\r\n    updateChannelsJson(sources, sources_res, epgs_sources);\r\n    updateReadme(sources, sources_res, epgs_sources, epgs_res);\r\n  })\r\n\r\n  .then(async (result) => {\r\n    const movie = await Promise.allSettled(\r\n      ApiJson.map(async (data_sr) => {\r\n        console.log(`[TASK] Fetch DATA ${data_sr.name}`);\r\n        try {\r\n          const [ok, text, now] = await getContent(data_sr);\r\n\r\n          if (ok && !!text) {\r\n            console.log(\r\n              `Fetch DATA from ${data_sr.name} finished, cost ${(parseInt(hrtime.bigint().toString()) -\r\n                parseInt(now.toString())) /\r\n              10e6\r\n              } ms`\r\n            );\r\n            writeMovieJson(data_sr.f_name, text as string);\r\n            return [\"normal\"];\r\n          } else {\r\n            // rollback\r\n            const text = await updateDATAByRollback(data_sr);\r\n            if (!!text) {\r\n              writeMovieJson(data_sr.f_name, text as string);\r\n              return [\"rollback\"];\r\n            } else {\r\n              // rollback failed\r\n              console.log(`[WARNING] DATA ${data_sr.name} get failed!`);\r\n              return [void 0];\r\n            }\r\n          }\r\n        } catch (e) {\r\n          const text = await updateDATAByRollback(data_sr);\r\n          if (!!text) {\r\n            writeMovieJson(data_sr.f_name, text as string);\r\n            return [\"rollback\"];\r\n          } else {\r\n            // rollback failed\r\n            console.log(`[WARNING] DATA ${data_sr.name} get failed!`);\r\n            return [void 0];\r\n          }\r\n        }\r\n      })\r\n    );\r\n    return {\r\n      sources: result,\r\n      movie: movie,\r\n    };\r\n  })\r\n\r\n  .then(() => {\r\n    console.log(`[TASK] Make custom sources`);\r\n    runCustomTask();\r\n  })\r\n  .catch((err) => {\r\n    console.error(err);\r\n  });\r\n","import path from \"node:path\";\r\nimport fs from \"node:fs\";\r\nimport type { TChannelsSources, IChannelsResult } from \"../types\";\r\n\r\nexport const updateChannelsJson = (\r\n  sources: TChannelsSources,\r\n  sources_res: Array<[string, number | undefined]>,\r\n  epgs: TChannelsSources\r\n) => {\r\n  const json_p = path.resolve(\"dist\", \"channels.json\");\r\n  const result: IChannelsResult = {\r\n    builderVersion: 1,\r\n    channels: sources?.map((source, idx) => ({\r\n      name: source.name,\r\n      m3u: `./${source.f_name}.m3u`,\r\n      count: sources_res?.[idx]?.[1],\r\n    })),\r\n    epgs: epgs?.map((epg) => ({\r\n      name: epg.name,\r\n      epg: `./epg/${epg.f_name}.xml`,\r\n    })),\r\n    updated_at: new Date().getTime(),\r\n  };\r\n  if (!fs.existsSync(path.resolve(\"dist\"))) {\r\n    fs.mkdirSync(path.resolve(\"dist\"));\r\n  }\r\n  fs.writeFileSync(json_p, JSON.stringify(result));\r\n};","import fs from \"node:fs\";\r\nimport path from \"node:path\";\r\nimport { hrtime } from \"node:process\";\r\nimport type { TEPGSource, ISource } from \"../types\";\r\nimport { with_github_raw_url_proxy, m3u2txt } from \"../utils\";\r\n\r\nexport const getContent = async (src: ISource | TEPGSource) => {\r\n  const now = hrtime.bigint();\r\n  const url = /^https:\\/\\/raw.githubusercontent.com\\//.test(src.url)\r\n    ? with_github_raw_url_proxy(src.url)\r\n    : src.url;\r\n  const res = await fetch(url);\r\n  return [res.ok, await res.text(), now];\r\n};\r\n\r\nexport const writeM3u = (name: string, m3u: string) => {\r\n  if (!fs.existsSync(path.join(path.resolve(), \"dist\"))) {\r\n    fs.mkdirSync(path.join(path.resolve(), \"dist\"));\r\n  }\r\n  fs.writeFileSync(path.join(path.resolve(), \"dist\", `${name}.m3u`), m3u);\r\n};\r\n\r\nexport const writeSources = (\r\n  name: string,\r\n  f_name: string,\r\n  sources: Map<string, string[]>\r\n) => {\r\n  let srcs = {};\r\n  for (const [k, v] of sources) {\r\n    srcs[k] = v;\r\n  }\r\n  if (!fs.existsSync(path.resolve(\"dist\", \"sources\"))) {\r\n    fs.mkdirSync(path.resolve(\"dist\", \"sources\"));\r\n  }\r\n  fs.writeFileSync(\r\n    path.resolve(\"dist\", \"sources\", `${f_name}.json`),\r\n    JSON.stringify({\r\n      name,\r\n      sources: srcs,\r\n    })\r\n  );\r\n};\r\n\r\nexport const writeM3uToTxt = (name: string, f_name: string, m3u: string) => {\r\n  const m3uArray = m3u.split(\"\\n\");\r\n  let txt = m3u2txt(m3uArray);\r\n  if (!fs.existsSync(path.join(path.resolve(), \"dist\", \"txt\"))) {\r\n    fs.mkdirSync(path.join(path.resolve(), \"dist\", \"txt\"));\r\n  }\r\n  fs.writeFileSync(\r\n    path.join(path.resolve(), \"dist\", \"txt\", `${f_name}.txt`),\r\n    txt\r\n  );\r\n};\r\n\r\nexport const mergeTxts = () => {\r\n  const txts_p = path.resolve(\"dist\", \"txt\");\r\n  const files = fs.readdirSync(txts_p);\r\n  const txts = files\r\n    .map((d) => fs.readFileSync(path.join(txts_p, d).toString()))\r\n    .join(\"\\n\");\r\n  fs.writeFileSync(path.join(txts_p, \"merged.txt\"), txts);\r\n};\r\n\r\nexport const mergeSources = () => {\r\n  const sources_p = path.resolve(\"dist\", \"sources\");\r\n  const files = fs.readdirSync(sources_p);\r\n  const res = {\r\n    name: \"Sources\",\r\n    sources: {},\r\n  };\r\n  files.forEach((f) => {\r\n    const so = JSON.parse(\r\n      fs.readFileSync(path.join(sources_p, f), \"utf-8\")\r\n    ).sources;\r\n    Object.keys(so).forEach((k) => {\r\n      if (!res.sources[k]) {\r\n        res.sources[k] = so[k];\r\n      } else {\r\n        res.sources[k] = [...new Set([...res.sources[k], ...so[k]])];\r\n      }\r\n    });\r\n  });\r\n  fs.writeFileSync(path.join(sources_p, \"sources.json\"), JSON.stringify(res));\r\n};\r\n\r\nexport const writeEpgXML = (f_name: string, xml: string) => {\r\n  if (!fs.existsSync(path.join(path.resolve(), \"dist\", \"epg\"))) {\r\n    fs.mkdirSync(path.join(path.resolve(), \"dist\", \"epg\"));\r\n  }\r\n  fs.writeFileSync(path.resolve(\"dist\", \"epg\", `${f_name}.xml`), xml);\r\n};\r\n\r\nexport const writeMovieJson = (f_name: string, json: string) => {\r\n  if (!fs.existsSync(path.join(path.resolve(), \"dist\", \"movie\"))) {\r\n    fs.mkdirSync(path.join(path.resolve(), \"dist\", \"movie\"));\r\n  }\r\n  fs.writeFileSync(path.resolve(\"dist\", \"movie\", `${f_name}`), json);\r\n};\r\n\r\nconst cleanDir = (p: string) => {\r\n  if (fs.existsSync(p)) {\r\n    fs.readdirSync(p).forEach((file) => {\r\n      const isDir = fs.statSync(path.join(p, file)).isDirectory();\r\n      if (isDir) {\r\n        cleanDir(path.join(p, file));\r\n      } else {\r\n        fs.unlinkSync(path.join(p, file));\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nconst copyDir = (src: string, dest: fs.PathLike, callback: { (): void; (arg0: NodeJS.ErrnoException): void; }) => {\r\n  const copy = (copySrc: any, copyDest: any) => {\r\n    fs.readdir(copySrc, (err, list) => {\r\n      if (err) {\r\n        callback(err);\r\n        return;\r\n      }\r\n      list.forEach((item) => {\r\n        const ss = path.resolve(copySrc, item);\r\n        fs.stat(ss, (err, stat) => {\r\n          if (err) {\r\n            callback(err);\r\n          } else {\r\n            const curSrc = path.resolve(copySrc, item);\r\n            const curDest = path.resolve(copyDest, item);\r\n            if (stat.isFile()) {\r\n              fs.createReadStream(curSrc).pipe(fs.createWriteStream(curDest));\r\n            } else if (stat.isDirectory()) {\r\n              fs.mkdirSync(curDest, { recursive: true });\r\n              copy(curSrc, curDest);\r\n            }\r\n          }\r\n        });\r\n      });\r\n    });\r\n  };\r\n\r\n  fs.access(dest, (err) => {\r\n    if (err) {\r\n      fs.mkdirSync(dest, { recursive: true });\r\n    }\r\n    copy(src, dest);\r\n  });\r\n};\r\n\r\nexport const cleanFiles = () => cleanDir(path.join(path.resolve(), \"dist\"));\r\nexport const copyFiles = () =>\r\n  copyDir(\r\n    path.join(path.resolve(), \"src/public\"),\r\n    path.join(path.resolve(), \"dist\"),\r\n    () => { }\r\n  );","import type { TREADMEMirrorSitesMatrix, ISource } from \"../types\";\r\n\r\nimport * as OpenCC from \"opencc-js\";\r\n\r\nimport { existsSync } from 'node:fs'\r\n\r\nimport path from \"node:path\";\r\n\r\nexport const config_path = path.resolve(\"config\");\r\n\r\nexport const config_custom_path = path.join(config_path, \"custom\");\r\n\r\nexport const dist_path = path.resolve(\"dist\");\r\n\r\nexport const TMPL_DIR = process.env.TMPL_DIR || \"src/tmpl\";\r\n\r\nexport const txt_path = path.join(dist_path, \"txt\");\r\n\r\nexport const epg_path = path.join(dist_path, \"epg\");\r\n\r\nexport const list_path = path.join(dist_path, \"list\");\r\n\r\nexport const sources_path = path.join(dist_path, \"sources\");\r\n\r\nexport const tvbox_path = path.join(dist_path, \"tvbox\");\r\n\r\nexport const write_custom_path = path.join(dist_path, \"custom\");\r\n\r\nexport const README_DIR = path.join(\".readme\");\r\n\r\nexport const PUBLIC_DIR = process.env.PUBLIC_DIR || \"./.gh-pages\";\r\n\r\nexport const OWNER = \"vodtv\";\r\n\r\nexport const REPO = \"iptv-source\";\r\n\r\n/**\r\n * 检查文件是否可用\r\n * @param f\r\n * @returns\r\n */\r\nexport const canIUseM3uFile = (f: string) => {\r\n  const m3u_p = path.resolve(\"dist\", f)\r\n  return existsSync(m3u_p)\r\n}\r\n\r\n/**\r\n * 检查 iptv-checker 环境\r\n * @returns\r\n */\r\nexport const canIUseIPTVChecker = async () => {\r\n  const { ENABLE_IPTV_CHECKER, IPTV_CHECKER_URL } = process.env\r\n\r\n  if (ENABLE_IPTV_CHECKER !== \"true\" || !IPTV_CHECKER_URL) return false\r\n\r\n  try {\r\n    const res = await fetch(IPTV_CHECKER_URL)\r\n    if (/^[2]/.test(res.status.toString())) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  } catch (err) {\r\n    return false\r\n  }\r\n}\r\n\r\nexport const update_time =\r\n  new Date().toLocaleDateString() + \" \" + new Date().toLocaleTimeString();\r\n\r\nexport const converter = OpenCC.Converter({ from: \"hk\", to: \"cn\" });\r\n\r\nexport const get_custom_url = () =>\r\n  !!process.env.CUSTOM_URL ? process.env.CUSTOM_URL : \"https://iptv.vodtv.cn\";\r\n\r\nexport const sites_matrix: TREADMEMirrorSitesMatrix = [\r\n  {\r\n    protocol: \"https\",\r\n    url: \"https://raw.viptv.work\",\r\n    frequence: \"viptv.work\",\r\n    idc: \"官方云\",\r\n    provider: \"[viptv](https://github.com/viptv-work)\",\r\n  }\r\n]\r\n\r\nexport const get_rollback_urls = () => {\r\n  const matrix_url = sites_matrix.map((m) => m.url)\r\n  if (!process.env.ROLLBACK_URLS) {\r\n    return [\"https://iptv.vodtv.cn\", ...matrix_url];\r\n  }\r\n  return process.env.ROLLBACK_URLS.split(\",\")\r\n    .map((url) => url.trim())\r\n    .concat([\"https://iptv.vodtv.cn\", ...matrix_url]);\r\n};\r\n\r\nexport const get_github_raw_proxy_url = () => {\r\n  const custom = process.env.CUSTOM_GITHUB_RAW_SOURCE_PROXY_URL;\r\n  return !!custom ? custom : `https://gh.con.sh/`;\r\n};\r\n\r\nexport const replace_github_raw_proxy_url = (s: string) => {\r\n  const proxy_url = get_github_raw_proxy_url();\r\n  return s.replace(\r\n    /tvg\\-logo=\"https:\\/\\/raw\\.githubusercontent\\.com\\//g,\r\n    `tvg-logo=\"${proxy_url}/https://raw.githubusercontent.com/`\r\n  );\r\n};\r\n\r\nexport const is_filted_channels = (s: string) => {\r\n  if (s.includes(\"ABN\")) {\r\n    return true;\r\n  }\r\n  if (s.includes(\"NTD\")) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const handle_m3u = (r: string) => {\r\n  const raw = r\r\n    .trim()\r\n    .replace(/\\r/g, \"\")\r\n    .split(\"\\n\")\r\n    .filter((r) => !!r);\r\n  let result: string[] = [];\r\n  const extM3uRegExp = /#EXTM3U/;\r\n  const extinfRegExp = /#EXTINF:-1([^,]*),(.*)/;\r\n  const hostRegExp = /^([^:]+):\\/\\/([^/]+)/;\r\n  for (let i = 0; i < raw.length; i++) {\r\n    if (extM3uRegExp.test(raw[i])) {\r\n      result.push(raw[i]);\r\n      continue;\r\n    }\r\n    if (extinfRegExp.test(raw[i]) && hostRegExp.test(raw[i + 1])) {\r\n      result = result.concat([raw[i], raw[i + 1]]);\r\n      i++;\r\n      continue;\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const with_github_raw_url_proxy = (u: string) => {\r\n  return process.env.CLOSE_SOURCE_PROXY?.trim() === \"true\"\r\n    ? u\r\n    : `${get_github_raw_proxy_url()}/${u}`;\r\n};\r\n\r\nexport const replace_github_rawcontent = (url: string) => {\r\n  return url.replace(\r\n    \"https://raw.githubusercontent.com/\",\r\n    \"https://mirror.ghproxy.com/https://raw.githubusercontent.com/\"\r\n  );\r\n};\r\n\r\nexport const get_channel_id = (extinf: string) => {\r\n  const regExp = /\\#EXTINF:-1([^,]*),(.*)/;\r\n  const name = converter(regExp.exec(extinf)![2]).toLowerCase();\r\n  return name\r\n    .replace(/\\[([^\\]]*)\\]/g, \"\")\r\n    .replace(/\\(([^\\)]*)\\)/g, \"\")\r\n    .replace(/（([^）]*)）/g, \"\")\r\n    .replace(/「([^」]+)」/g, \"\")\r\n    .replace(/\\-/g, \"\")\r\n    .replace(/\\@\\@[0-9]*/g, \"\")\r\n    .replace(/Ⅰ/g, \"\")\r\n    .replace(/ 8m/g, \"\")\r\n    .replace(/([^\\|]+)\\|/g, \"\")\r\n    .replace(/([^ⅰ]+)ⅰ/g, \"\")\r\n    .replace(/([\\u4e00-\\u9fff]+)\\s+([\\u4e00-\\u9fff]+)/g, \"$1$2\")\r\n    .replace(/ +/g, \" \")\r\n    .trim();\r\n};\r\n\r\nexport const collectM3uSource = (\r\n  extinf: string,\r\n  url: string,\r\n  fn: (k: string, v: string) => void\r\n) => {\r\n  const id = get_channel_id(extinf);\r\n  fn(id, url);\r\n};\r\n\r\nexport const filter: ISource[\"filter\"] = (\r\n  raw,\r\n  caller,\r\n  collectFn\r\n): [string, number] => {\r\n  const rawArray = handle_m3u(replace_github_raw_proxy_url(raw)).filter(\r\n    (r) => !/#[^E]/.test(r)\r\n  );\r\n  if (!/#EXTM3U/.test(rawArray[0])) {\r\n    rawArray.unshift(\"#EXTM3U\");\r\n  }\r\n  if (caller === \"normal\" && collectFn) {\r\n    for (let i = 1; i < rawArray.length; i += 2) {\r\n      collectM3uSource(rawArray[i], rawArray[i + 1], collectFn);\r\n    }\r\n  }\r\n  return [converter(rawArray.join(\"\\n\")), (rawArray.length - 1) / 2];\r\n};\r\n\r\nexport const Collector = (\r\n  keyFilter?: (k: string) => boolean,\r\n  valueFilter?: (v: string) => boolean\r\n) => {\r\n  let data = new Map<string, string[]>();\r\n  return {\r\n    collect: (k: string, v: string) => {\r\n      if (!!keyFilter && keyFilter(k)) {\r\n        return;\r\n      }\r\n      if (!!valueFilter && valueFilter(v)) {\r\n        return;\r\n      }\r\n      if (data.has(k)) {\r\n        const vb = data.get(k);\r\n        if (!vb) {\r\n          data.set(k, [v]);\r\n          return;\r\n        }\r\n        if (!vb.includes(v)) {\r\n          data.set(k, [...vb, v]);\r\n          return;\r\n        }\r\n      } else {\r\n        data.set(k, [v]);\r\n      }\r\n    },\r\n    result: () => {\r\n      return data;\r\n    },\r\n  };\r\n};\r\n\r\nexport const m3u2txt = (m3uArray: string[]) => {\r\n  let groups = new Map<string, string>();\r\n  const channelRegExp = /\\#EXTINF:-1([^,]*),(.*)/;\r\n  const groupRegExp = /group-title=\"([^\"]*)\"/;\r\n  for (let i = 1; i < m3uArray.length; i += 2) {\r\n    const reg = channelRegExp.exec(m3uArray[i]) as RegExpExecArray;\r\n    const group = groupRegExp.exec(reg[1].trim());\r\n    let g = \"\";\r\n    if (!group) {\r\n      g = \"Undefined\";\r\n    } else {\r\n      g = group[1].trim();\r\n    }\r\n    if (groups.has(g)) {\r\n      groups.set(\r\n        g,\r\n        `${groups.get(g)}${reg[2].trim().replace(/\\s+/g, \"_\")},${m3uArray[i + 1]\r\n        }\\n`\r\n      );\r\n    } else {\r\n      groups.set(\r\n        g,\r\n        `${reg[2].trim().replace(/\\s+/g, \"_\")},${m3uArray[i + 1]}\\n`\r\n      );\r\n    }\r\n  }\r\n  let txt = \"\";\r\n  groups.forEach((v, k) => {\r\n    txt += `${k},#genre#\\n${v}\\n`;\r\n  });\r\n  return txt.substring(0, txt.length - 2);\r\n};\r\n\r\nconst from_infos = new Map([\r\n  [\"sn.chinamobile.com\", \"中国移动陕西\"],\r\n  [\"sh.chinamobile.com\", \"中国移动上海\"],\r\n  [\"hl.chinamobile.com\", \"中国移动黑龙江\"],\r\n  [\"js.chinamobile.com\", \"中国移动江苏\"],\r\n  [\"cztv.com\", \"浙江广播电视集团\"],\r\n  [\"mobaibox.com\", \"中国移动江苏\"],\r\n  [\"shaoxing.com.cn\", \"绍兴网\"],\r\n  [\"cztvcloud.com\", \"新蓝云\"],\r\n  [\"btzx.com.cn\", \"兵团在线网站\"],\r\n  [\"hznet.tv\", \"菏泽网络电视台\"],\r\n  [\"xntv.tv\", \"西宁网络电视台\"],\r\n  [\"jlntv.cn\", \"吉林广播电视台\"],\r\n  [\"ybtvyun.com\", \"延边广播电视台\"],\r\n  [\"dxhmt.cn\", \"河南大象融媒体\"],\r\n  [\"hebyun.com.cn\", \"冀云\"],\r\n  [\"nntv.cn\", \"老友网\"],\r\n  [\"sjzntv.cn\", \"燕赵名城网\"],\r\n  [\"yjtvw.com\", \"阳江广播电视台\"],\r\n  [\"amazonaws.com\", \"亚马逊AWS\"],\r\n  [\"jstv.com\", \"荔枝网\"],\r\n  [\"sgmsw.cn\", \"韶关民声网\"],\r\n  [\"grtn.cn\", \"广东网络广播电视台\"],\r\n  [\"nbs.cn\", \"南京广播电视台\"],\r\n  [\"lsrmw.cn\", \"溧水融媒网\"],\r\n  [\"zohi.tv\", \"福州明珠\"],\r\n  [\"qingting.fm\", \"蜻蜓FM\"],\r\n  [\"hhtv.cc\", \"云南红河发布\"],\r\n  [\"wsrtv.com.cn\", \"文山州广播电视台\"],\r\n  [\"xsbnrtv.cn\", \"西双版纳广播电视网\"],\r\n  [\"live.yantaitv.cn\", \"烟台网络广播电视台\"],\r\n  [\"cgtn.com\", \"CGTN\"],\r\n  [\"cctv.com\", \"CCTV\"],\r\n  [\"cctvplus.com\", \"CCTV+\"],\r\n  [\"cnr.cn\", \"央广网\"],\r\n  [\"cmvideo.cn\", \"咪咕\"],\r\n  [\"douyucdn\", \"斗鱼\"],\r\n  [\"cri.cn\", \"国际在线\"],\r\n  [\"hndt.com\", \"河南广播网\"],\r\n  [\"qxndt.com\", \"黔西南广播网\"],\r\n  [\"olelive.com\", \"欧乐影院\"],\r\n  [\"chinashadt.com\", \"千城云科\"],\r\n  [\"aodianyun.com\", \"奥点云\"],\r\n  [\"xiancity.cn\", \"西安网\"],\r\n  [\"raw.githubusercontent.com\", \"Github Raw\"],\r\n]);\r\n\r\nexport const get_from_info = (url: string) => {\r\n  for (const [k, v] of from_infos) {\r\n    if (url.includes(k)) {\r\n      return v;\r\n    }\r\n  }\r\n  const hostRegExp = /([^:]+):\\/\\/([^/]+)/;\r\n  const host = hostRegExp.exec(url)![2];\r\n  if (/^\\[/.test(host)) {\r\n    return \"IPv6 直链\";\r\n  }\r\n  if (/^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d+)?$/.test(host)) {\r\n    return \"IPv4 直链\";\r\n  }\r\n  return host;\r\n};\r\n\r\nexport const trimAny = (any: any) => {\r\n  if (Array.isArray(any)) {\r\n    return any.map((a: any) => {\r\n      if (typeof a === \"string\") {\r\n        return a.trim();\r\n      }\r\n      if (typeof a === \"object\") {\r\n        return trimAny(a);\r\n      }\r\n    });\r\n  }\r\n\r\n  if (typeof any === \"object\") {\r\n    return Object.fromEntries(\r\n      Object.entries(any).map(([key, value]) => {\r\n        if (typeof value === \"string\") {\r\n          return [key, value.trim()];\r\n        }\r\n        if (typeof value === \"object\") {\r\n          return [key, trimAny(value)];\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  if (typeof any === \"string\") {\r\n    return any.trim();\r\n  }\r\n\r\n  return any;\r\n};\r\n","import fs from \"node:fs\";\r\nimport path from \"node:path\";\r\nimport type { TREADMESources, TREADMEEPGSources } from \"../types\";\r\nimport { handle_m3u, get_from_info, update_time } from \"../utils\";\r\n\r\nexport const updateChannelList = (\r\n  name: string,\r\n  f_name: string,\r\n  m3u: string,\r\n  rollback: boolean = false\r\n) => {\r\n  const list_temp_p = path.join(path.resolve(), \"src/tmpl/LIST.tmpl.md\");\r\n  const list = fs.readFileSync(list_temp_p, \"utf8\").toString();\r\n  const m3uArray = handle_m3u(m3u);\r\n  const channelRegExp = /\\#EXTINF:-1([^,]*),(.*)/;\r\n  let i = 1;\r\n  let channels: Array<string>[] = [];\r\n  while (i < m3uArray.length) {\r\n    const reg = channelRegExp.exec(m3uArray[i]) as RegExpExecArray;\r\n    channels.push([\r\n      reg[2].replace(/\\|/g, \"\").trim(),\r\n      get_from_info(m3uArray[i + 1]),\r\n      m3uArray[i + 1],\r\n    ]);\r\n    i += 2;\r\n  }\r\n  const after = list\r\n    .replace(\r\n      \"{list_title}\",\r\n      `# List for **${name}**${rollback ? \"(Rollback)\" : \"\"\r\n      }\\n\\n> M3U: [${f_name}.m3u](./${f_name}.m3u ), TXT: [${f_name}.txt](./txt/${f_name}.txt )`\r\n    )\r\n    .replace(\r\n      \"{update_channels}\",\r\n      `${channels\r\n        ?.map(\r\n          (c, idx) =>\r\n            `| ${idx + 1} | ${c[0].replace(\"|\", \"\")} | ${c[1]} | <${c[2]}> |`\r\n        )\r\n        .join(\"\\n\")}\\n\\nUpdated at **${update_time}**`\r\n    );\r\n  const list_p = path.join(path.resolve(), \"dist\", \"list\");\r\n  if (!fs.existsSync(list_p)) {\r\n    fs.mkdirSync(list_p);\r\n  }\r\n  fs.writeFileSync(path.join(list_p, `${f_name}.list.md`), after);\r\n};\r\n\r\nexport const updateReadme = (\r\n  sources: TREADMESources,\r\n  sources_res: Array<[string, number | undefined]>,\r\n  epgs: TREADMEEPGSources,\r\n  epgs_res: Array<[string | undefined]>\r\n) => {\r\n  const readme_temp_p = path.join(path.resolve(), \"src/tmpl/README.tmpl.md\");\r\n  const readme = fs.readFileSync(readme_temp_p, \"utf8\").toString();\r\n\r\n  const after = readme\r\n    .replace(\r\n      \"{update_channels}\",\r\n      `${sources\r\n        ?.map(\r\n          (s, idx) =>\r\n            `| ${s.name} | [${s.f_name}.m3u](./${s.f_name}.m3u ) <br> [${s.f_name\r\n            }.txt](./txt/${s.f_name}.txt ) | [List for ${s.name}](./list/${s.f_name\r\n            }.list ) | ${sources_res?.[idx]?.[1] === undefined\r\n              ? \"update failed\"\r\n              : sources_res[idx][1]\r\n            } | ${sources_res?.[idx]?.[0] === \"rollback\" ? \"✅\" : \"-\"} |`\r\n        )\r\n        .join(\"\\n\")}\\n\\n > Updated at **${update_time}**`\r\n    )\r\n\r\n    .replace(\r\n      \"{update_epgs}\",\r\n      `${epgs\r\n        ?.map(\r\n          (e, idx) =>\r\n            `| ${e.name} | [${e.f_name}.xml](./epg/${e.f_name}.xml ) | ${!!epgs_res?.[idx]?.[0]\r\n              ? epgs_res?.[idx]?.[0] === \"rollback\"\r\n                ? \"✅\"\r\n                : \"-\"\r\n              : \"update failed\"\r\n            } |`\r\n        )\r\n        .join(\"\\n\")}\\n\\n > Updated at **${update_time}**`\r\n    );\r\n  if (!fs.existsSync(path.join(path.resolve(), \"dist\"))) {\r\n    fs.mkdirSync(path.join(path.resolve(), \"dist\"));\r\n  }\r\n  fs.writeFileSync(path.join(path.resolve(), \"dist\", \"README.md\"), after);\r\n  fs.writeFileSync(path.join(path.resolve(), \"README.md\"), after);\r\n};","import { ISource, TSources } from \"../types\";\r\nimport { collectM3uSource, converter, handle_m3u } from \"../utils\";\r\n\r\nexport const epg_pw_filter: ISource[\"filter\"] = (\r\n  raw,\r\n  caller,\r\n  collectFn\r\n): [string, number] => {\r\n  const rawArray = handle_m3u(raw);\r\n  const regExp = /\\#EXTINF:-1\\s+tvg\\-name\\=\\\"([^\"]+)\\\"/;\r\n\r\n  let i = 1;\r\n  let sourced: string[] = [];\r\n  let result = [rawArray[0]];\r\n\r\n  while (i < rawArray.length) {\r\n    const reg = regExp.exec(rawArray[i]) as RegExpExecArray;\r\n\r\n    if (!!reg) {\r\n      if (caller === \"normal\" && collectFn) {\r\n        collectM3uSource(rawArray[i], rawArray[i + 1], collectFn);\r\n      }\r\n\r\n      if (!sourced.includes(reg[1])) {\r\n        sourced.push(reg[1]);\r\n        result.push(\r\n          rawArray[i]\r\n            .replace(/\\@\\@[0-9]*/g, \"\")\r\n            .replace(/\\[geo\\-blocked\\]/, \"\")\r\n            .replace(/\\[Geo\\-blocked\\]/, \"\")\r\n            .trim()\r\n        );\r\n        result.push(rawArray[i + 1]);\r\n      }\r\n    }\r\n\r\n    i += 2;\r\n  }\r\n\r\n  return [converter(result.join(\"\\n\")), (result.length - 1) / 2];\r\n};\r\n\r\nexport const epg_pw_sources: TSources = [\r\n  {\r\n    name: \"epg.pw 央视\",\r\n    f_name: \"ew_cc\",\r\n    url: \"https://epg.pw/test_channels_china_national.m3u\",\r\n    filter: epg_pw_filter,\r\n  },\r\n  {\r\n    name: \"epg.pw 卫视\",\r\n    f_name: \"ew_ws\",\r\n    url: \"https://epg.pw/test_channels_china_province.m3u\",\r\n    filter: epg_pw_filter,\r\n  },\r\n  {\r\n    name: \"epg.pw 国内\",\r\n    f_name: \"ew_cn\",\r\n    url: \"https://epg.pw/test_channels_china.m3u\",\r\n    filter: epg_pw_filter,\r\n  },\r\n  {\r\n    name: \"epg.pw 香港\",\r\n    f_name: \"ew_hk\",\r\n    url: \"https://epg.pw/test_channels_hong_kong.m3u\",\r\n    filter: epg_pw_filter,\r\n  },\r\n  {\r\n    name: \"epg.pw 澳門\",\r\n    f_name: \"ew_om\",\r\n    url: \"https://epg.pw/test_channels_macau.m3u\",\r\n    filter: epg_pw_filter,\r\n  },\r\n  {\r\n    name: \"epg.pw 台灣\",\r\n    f_name: \"ew_tw\",\r\n    url: \"https://epg.pw/test_channels_taiwan.m3u\",\r\n    filter: epg_pw_filter,\r\n  },\r\n  {\r\n    name: \"epg.pw 全部\",\r\n    f_name: \"ew_all\",\r\n    url: \"https://epg.pw/test_channels_all.m3u\",\r\n    filter: epg_pw_filter,\r\n  },\r\n  {\r\n    name: \"epg.pw ipv6\",\r\n    f_name: \"ew_all\",\r\n    url: \"https://epg.pw/test_channels_ipv6.m3u\",\r\n    filter: epg_pw_filter,\r\n  },\r\n];\r\n","import {\r\n  converter,\r\n  handle_m3u,\r\n  is_filted_channels,\r\n  collectM3uSource,\r\n  get_channel_id,\r\n} from \"../utils\";\r\nimport type { ISource, TSources } from \"../types\";\r\n\r\nexport const iptv_org_filter: ISource[\"filter\"] = (\r\n  raw,\r\n  caller,\r\n  collectFn\r\n): [string, number] => {\r\n  const rawArray = handle_m3u(raw);\r\n  const invalidExp = /\\#EXTVLCOPT:/;\r\n\r\n  const arr = rawArray.filter((r) => !invalidExp.test(r));\r\n\r\n  let sourced: string[] = [];\r\n  let result = [arr[0]];\r\n\r\n  for (let i = 1; i < arr.length; i += 2) {\r\n    const id = get_channel_id(arr[i]);\r\n\r\n    if (is_filted_channels(id.trim())) {\r\n      continue;\r\n    }\r\n\r\n    if (caller === \"normal\" && collectFn) {\r\n      collectM3uSource(arr[i], arr[i + 1], collectFn);\r\n    }\r\n\r\n    if (!sourced.includes(id)) {\r\n      sourced.push(id);\r\n      result.push(\r\n        arr[i]\r\n          .replace(/\\@\\@[0-9]*/g, \"\")\r\n          .replace(/\\[geo\\-blocked\\]/, \"\")\r\n          .replace(/\\[Geo\\-blocked\\]/, \"\")\r\n          .trim()\r\n      );\r\n      result.push(arr[i + 1]);\r\n    }\r\n  }\r\n\r\n  return [converter(result.join(\"\\n\")), (result.length - 1) / 2];\r\n};\r\n\r\nexport const iptv_org_sources: TSources = [\r\n  {\r\n    name: \"iptv.org China\",\r\n    f_name: \"o_cn\",\r\n    url: \"https://raw.githubusercontent.com/iptv-org/iptv/gh-pages/countries/cn.m3u\",\r\n    filter: iptv_org_filter,\r\n  },\r\n];\r\n\r\nexport const iptv_org_stream_sources: TSources = [\r\n  {\r\n    name: \"iptv.org stream China\",\r\n    f_name: \"o_s_cn\",\r\n    url: \"https://raw.githubusercontent.com/iptv-org/iptv/master/streams/cn.m3u\",\r\n    filter: iptv_org_filter,\r\n  },\r\n  {\r\n    name: \"iptv.org stream China 112114\",\r\n    f_name: \"o_s_cn_112114\",\r\n    url: \"https://raw.githubusercontent.com/iptv-org/iptv/master/streams/cn_112114.m3u\",\r\n    filter: iptv_org_filter,\r\n  },\r\n  {\r\n    name: \"iptv.org stream China CCTV\",\r\n    f_name: \"o_s_cn_cctv\",\r\n    url: \"https://raw.githubusercontent.com/iptv-org/iptv/master/streams/cn_cctv.m3u\",\r\n    filter: iptv_org_filter,\r\n  },\r\n  {\r\n    name: \"iptv.org stream China CGTN\",\r\n    f_name: \"o_s_cn_cgtn\",\r\n    url: \"https://raw.githubusercontent.com/iptv-org/iptv/master/streams/cn_cgtn.m3u\",\r\n    filter: iptv_org_filter,\r\n  },\r\n];\r\n","import { filter } from \"../utils\";\r\nimport type { TSources } from \"../types\";\r\n\r\nexport const yang_m3u_sources: TSources = [\r\n  {\r\n    name: \"YanG-1989 Gather\",\r\n    f_name: \"y_g\",\r\n    url: \"https://raw.githubusercontent.com/YanG-1989/m3u/main/Gather.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"熊猫直播\",\r\n    f_name: \"xiongmao\",\r\n    url: \"https://raw.githubusercontent.com/huangsuming/iptv/main/list/ipanda.txt\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"HBv4\",\r\n    f_name: \"hbv4\",\r\n    url: \"https://raw.githubusercontent.com/huangsuming/iptv/main/list/hbv4.txt\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"HBv6\",\r\n    f_name: \"hbv6\",\r\n    url: \"https://raw.githubusercontent.com/huangsuming/iptv/main/list/hbv4.txt\",\r\n    filter: filter,\r\n  },\r\n];\r\n","import { filter } from \"../utils\";\r\nimport type { TSources } from \"../types\";\r\n\r\nexport const yuechan_live_sources: TSources = [\r\n  {\r\n    name: \"YueChan-Live IPTV\",\r\n    f_name: \"ycl_iptv\",\r\n    url: \"https://raw.githubusercontent.com/YueChan/Live/main/IPTV.m3u\",\r\n    filter: filter,\r\n  },\r\n];\r\n","import { filter } from \"../utils\";\r\nimport type { TSources } from \"../types\";\r\n\r\nexport const fanmingming_live_sources: TSources = [\r\n  {\r\n    name: \"fanmingming/live demo\",\r\n    f_name: \"fmml_demo\",\r\n    url: \"https://raw.githubusercontent.com/fanmingming/live/main/tv/m3u/demo.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"fanmingming/live ipv6\",\r\n    f_name: \"fmml_ipv6\",\r\n    url: \"https://raw.githubusercontent.com/fanmingming/live/main/tv/m3u/ipv6.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"fanmingming/live ipv6plus\",\r\n    f_name: \"fmml_ipv6plus\",\r\n    url: \"https://raw.githubusercontent.com/fanmingming/live/main/tv/m3u/ipv6plus.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"fanmingming/live domainv6(Invalid)\",\r\n    f_name: \"fmml_bst\",\r\n    url: \"https://raw.githubusercontent.com/fanmingming/live/main/tv/m3u/Invalid/bst.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"fanmingming/live domainv6(Invalid)\",\r\n    f_name: \"fmml_cbn\",\r\n    url: \"https://raw.githubusercontent.com/fanmingming/live/main/tv/m3u/Invalid/cbn.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"fanmingming/live domainv6(Invalid)\",\r\n    f_name: \"fmml_dv6\",\r\n    url: \"https://raw.githubusercontent.com/fanmingming/live/main/tv/m3u/Invalid/domainv6.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"fanmingming/live domainv6(Invalid)\",\r\n    f_name: \"fmml_ipv6\",\r\n    url: \"https://raw.githubusercontent.com/fanmingming/live/main/tv/m3u/Invalid/ipv6.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"fanmingming/live domainv6(Invalid)\",\r\n    f_name: \"fmml_ysp\",\r\n    url: \"https://raw.githubusercontent.com/fanmingming/live/main/tv/m3u/Invalid/ysp.m3u\",\r\n    filter: filter,\r\n  },\r\n];\r\n","import { filter } from \"../utils\";\r\nimport type { TSources } from \"../types\";\r\n\r\nexport const qwerttvv_bj_iptv_sources: TSources = [\r\n  {\r\n    name: \"北京联通 单播列表\",\r\n    f_name: \"q_bj_iptv_unicom\",\r\n    url: \"https://cdn.jsdelivr.net/gh/qwerttvv/Beijing-IPTV@master/IPTV-Unicom.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"北京联通 组播列表\",\r\n    f_name: \"q_bj_iptv_unicom_m\",\r\n    url: \"https://cdn.jsdelivr.net/gh/qwerttvv/Beijing-IPTV@master/IPTV-Unicom-Multicast.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"北京移动 单播列表\",\r\n    f_name: \"q_bj_iptv_mobile\",\r\n    url: \"https://cdn.jsdelivr.net/gh/qwerttvv/Beijing-IPTV@master/IPTV-Mobile.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"北京移动 组播列表\",\r\n    f_name: \"q_bj_iptv_mobile_m\",\r\n    url: \"https://cdn.jsdelivr.net/gh/qwerttvv/Beijing-IPTV@master/IPTV-Mobile-Multicast.m3u\",\r\n    filter: filter,\r\n  },\r\n];\r\n","import { filter } from \"../utils\";\r\nimport type { TSources } from \"../types\";\r\n\r\nexport const joevess_iptv_sources: TSources = [\r\n  {\r\n    name: \"joevess/IPTV home\",\r\n    f_name: \"j_main_home\",\r\n    url: \"https://raw.githubusercontent.com/joevess/IPTV/main/home.m3u8\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"joevess/IPTV iptv\",\r\n    f_name: \"j_main_iptv\",\r\n    url: \"https://raw.githubusercontent.com/joevess/IPTV/main/iptv.m3u8\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"joevess/IPTV sources\",\r\n    f_name: \"j_sources_home\",\r\n    url: \"https://raw.githubusercontent.com/joevess/IPTV/main/sources/home_sources.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"joevess/IPTV iptv\",\r\n    f_name: \"j_sources_iptv\",\r\n    url: \"https://raw.githubusercontent.com/joevess/IPTV/main/sources/iptv_sources.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"joevess/IPTV sources\",\r\n    f_name: \"j_m3u_home\",\r\n    url: \"https://raw.githubusercontent.com/joevess/IPTV/main/m3u/home.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"joevess/IPTV iptv\",\r\n    f_name: \"j_m3u_iptv\",\r\n    url: \"https://raw.githubusercontent.com/joevess/IPTV/main/m3u/iptv.m3u\",\r\n    filter: filter,\r\n  },\r\n];\r\n","import { filter } from \"../utils\";\r\nimport type { TSources } from \"../types\";\r\n\r\nexport const ss_sources: TSources = [\r\n  {\r\n    name: \"全国 酒店组播源\",\r\n    f_name: \"ss_itv\",\r\n    url: \"https://cdn.jsdelivr.net/gh/ssili126/tv@main/itvlist.m3u\",\r\n    filter: filter,\r\n  },\r\n];\r\n","import { filter } from \"../utils\";\r\nimport type { TSources } from \"../types\";\r\n//https://zhuan.dnwx.vip/?url=https://mpimg.cn%2Fdown.php/F67ed75e5d3486a5dd1122bc6a197cb49.txt 挂了\r\nexport const adultiptv_sources: TSources = [\r\n  {\r\n    name: \"adultiptv.net\",\r\n    f_name: \"adultiptv_chs\",\r\n    url: \"http://adultiptv.net/chs.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"adultiptv.net\",\r\n    f_name: \"adultiptv_all\",\r\n    url: \"http://adultiptv.net/all.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"vbskycn/iptv\",\r\n    f_name: \"vbskycn_ipv4\",\r\n    url: \"https://live.zhoujie218.top/tv/iptv4.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"vbskycn/iptv\",\r\n    f_name: \"vbskycn_ipv6\",\r\n    url: \"https://live.zhoujie218.top/tv/iptv6.m3u\",\r\n    filter: filter,\r\n  },\r\n  {\r\n    name: \"hujingguang/ChinaIPTV\",\r\n    f_name: \"hujingguang_cnTV_AutoUpdate\",\r\n    url: \"https://raw.githubusercontent.com/hujingguang/ChinaIPTV/main/cnTV_AutoUpdate.m3u8\",\r\n    filter: filter,\r\n  },\r\n]\r\n","import { filter } from \"../utils\";\r\nimport type { TSources } from \"../types\";\r\n\r\nexport const cn_sources: TSources = [\r\n  {\r\n    name: \"稳定 最新源\",\r\n    f_name: \"hc_cntv\",\r\n    url: \"https://cdn.jsdelivr.net/gh/hujingguang/ChinaIPTV@main/cnTV_AutoUpdate.m3u8\",\r\n    filter: filter,\r\n  },\r\n];\r\n","export * from \"./epg_pw\";\r\nexport * from \"./iptv_org\";\r\nexport * from \"./yang_m3u\";\r\nexport * from \"./yuechan_live\";\r\nexport * from \"./fanmingming_live\";\r\nexport * from \"./qwerttvv_bj_iptv\";\r\nexport * from \"./joevess_iptv\";\r\nexport * from \"./hotel_ multicast\";\r\nexport * from \"./adultiptv_net\";\r\nexport * from \"./ChinaIPTV\";\r\nimport {\r\n  adultiptv_sources,\r\n  epg_pw_sources,\r\n  iptv_org_sources,\r\n  iptv_org_stream_sources,\r\n  yang_m3u_sources,\r\n  yuechan_live_sources,\r\n  fanmingming_live_sources,\r\n  qwerttvv_bj_iptv_sources,\r\n  joevess_iptv_sources,\r\n  ss_sources,\r\n  cn_sources,\r\n} from \".\";\r\n\r\nexport const sources = [\r\n  ...adultiptv_sources,\r\n  ...fanmingming_live_sources,\r\n  ...yuechan_live_sources,\r\n  ...yang_m3u_sources,\r\n  ...joevess_iptv_sources,\r\n  ...iptv_org_sources,\r\n  ...iptv_org_stream_sources,\r\n  ...epg_pw_sources,\r\n  ...qwerttvv_bj_iptv_sources,\r\n  ...ss_sources,\r\n  ...cn_sources,\r\n];\r\n","import { hrtime } from \"node:process\";\r\nimport { ISource, TEPGSource } from \"../types\";\r\nimport { get_rollback_urls } from \"../utils\";\r\n\r\nexport const updateByRollback = async (\r\n  sr: ISource,\r\n  sr_filter: ISource[\"filter\"],\r\n  idx: number = 0\r\n): Promise<[string, number] | undefined> => {\r\n  const rollback_urls = get_rollback_urls();\r\n  try {\r\n    const now = hrtime.bigint();\r\n    const res = await fetch(`${rollback_urls[idx]}/${sr.f_name}.m3u`);\r\n    if (res.ok) {\r\n      console.log(\r\n        `Fetch m3u from ${sr.name} with ROLLBACK from ${rollback_urls[idx]\r\n        } finished, cost ${(parseInt(hrtime.bigint().toString()) - parseInt(now.toString())) /\r\n        10e6\r\n        } ms`\r\n      );\r\n      const text = await res.text();\r\n      return sr_filter(text as string, \"rollback\");\r\n    }\r\n    console.log(\r\n      `Fetch m3u Rollback from ${rollback_urls[idx]} FAILED, try next...`\r\n    );\r\n    if (++idx < rollback_urls.length) {\r\n      return updateByRollback(sr, sr_filter, idx);\r\n    }\r\n    console.log(`All failed, give up ${sr.name}!`);\r\n    return undefined;\r\n  } catch (e) {\r\n    console.log(\r\n      `Fetch m3u Rollback from ${rollback_urls[idx]} FAILED, try next...`\r\n    );\r\n    if (++idx < rollback_urls.length) {\r\n      return updateByRollback(sr, sr_filter, idx);\r\n    }\r\n    console.log(`All failed, give up ${sr.name}!`);\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const updateEPGByRollback = async (\r\n  sr: TEPGSource,\r\n  idx: number = 0\r\n): Promise<string | undefined> => {\r\n  const rollback_urls = get_rollback_urls();\r\n  try {\r\n    const now = hrtime.bigint();\r\n    const res = await fetch(`${rollback_urls[idx]}/${sr.f_name}.xml`);\r\n    if (res.ok) {\r\n      console.log(\r\n        `Fetch EPG from ${sr.name} with ROLLBACK from ${rollback_urls[idx]\r\n        } finished, cost ${(parseInt(hrtime.bigint().toString()) - parseInt(now.toString())) /\r\n        10e6\r\n        } ms`\r\n      );\r\n      return await res.text();\r\n    }\r\n    console.log(\r\n      `Fetch EPG Rollback from ${rollback_urls[idx]} FAILED, try next...`\r\n    );\r\n    if (++idx < rollback_urls.length) {\r\n      return updateEPGByRollback(sr, idx);\r\n    }\r\n    console.log(`All failed, give up ${sr.name}!`);\r\n    return undefined;\r\n  } catch (e) {\r\n    console.log(\r\n      `Fetch EPG Rollback from ${rollback_urls[idx]} FAILED, try next...`\r\n    );\r\n    if (++idx < rollback_urls.length) {\r\n      return updateEPGByRollback(sr, idx);\r\n    }\r\n    console.log(`All failed, give up ${sr.name}!`);\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const updateDATAByRollback = async (\r\n  sr: TEPGSource,\r\n  idx: number = 0\r\n): Promise<string | undefined> => {\r\n  const rollback_urls = get_rollback_urls();\r\n  try {\r\n    const now = hrtime.bigint();\r\n    const res = await fetch(`${rollback_urls[idx]}/data/${sr.f_name}`);\r\n    if (res.ok) {\r\n      console.log(\r\n        `Fetch DATA from ${sr.name} with ROLLBACK from ${rollback_urls[idx]\r\n        } finished, cost ${(parseInt(hrtime.bigint().toString()) - parseInt(now.toString())) /\r\n        10e6\r\n        } ms`\r\n      );\r\n      return await res.text();\r\n    }\r\n    console.log(\r\n      `Fetch DATA Rollback from ${rollback_urls[idx]} FAILED, try next...`\r\n    );\r\n    if (++idx < rollback_urls.length) {\r\n      return updateDATAByRollback(sr, idx);\r\n    }\r\n    console.log(`All failed, give up ${sr.name}!`);\r\n    return undefined;\r\n  } catch (e) {\r\n    console.log(\r\n      `Fetch DATA Rollback from ${rollback_urls[idx]} FAILED, try next...`\r\n    );\r\n    if (++idx < rollback_urls.length) {\r\n      return updateDATAByRollback(sr, idx);\r\n    }\r\n    console.log(`All failed, give up ${sr.name}!`);\r\n    return undefined;\r\n  }\r\n};\r\n","import { DSource } from \"../types\";\r\n\r\nexport const epgs_sources: DSource[] = [\r\n  {\r\n    name: \"EPG接口1\",\r\n    f_name: \"fmml\",\r\n    url: \"https://raw.githubusercontent.com/fanmingming/live/main/e.xml\",\r\n  },\r\n  {\r\n    name: \"EPG接口2\",\r\n    f_name: \"51zmt\",\r\n    url: \"http://epg.51zmt.top:8000/e.xml\",\r\n  },\r\n  {\r\n    name: \"EPG接口3\",\r\n    f_name: \"51zmt_cc\",\r\n    url: \"http://epg.51zmt.top:8000/cc.xml\",\r\n  },\r\n  {\r\n    name: \"EPG接口4\",\r\n    f_name: \"51zmt_df\",\r\n    url: \"http://epg.51zmt.top:8000/difang.xml\",\r\n  },\r\n];\r\n","import { DSource } from \"../types\";\r\nexport const ApiJson: DSource[] = [\r\n  {\r\n    name: \"弹幕库接口\",\r\n    f_name: \"artdm-1.xml\",\r\n    url: \"https://gcore.jsdelivr.net/gh/zhw2590582/assets-cdn@master/danmuku/one-more-time-one-more-chance.xml\",\r\n  },\r\n  {\r\n    name: \"弹幕库接口\",\r\n    f_name: \"artdm-2.xml\",\r\n    url: \"https://gcore.jsdelivr.net/gh/zhw2590582/assets-cdn@master/danmuku/your-name.xml\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-6.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=6\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-7.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=7\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-8.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=8\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-9.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=9\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-10.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=10\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-11.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=11\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-12.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=12\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-13.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=13\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-14.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=14\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-15.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=15\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv \",\r\n    f_name: \"lzzy-16.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=16\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv \",\r\n    f_name: \"lzzy-23.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=23\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv \",\r\n    f_name: \"lzzy-24.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=24\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-25.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=25\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-26.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=26\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-27.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=27\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-28.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=28\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-29.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=29\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-30.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=30\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-31.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=31\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-32.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=32\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-33.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=33\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-34.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=34\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-37.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=37\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-38.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=38\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-39.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=39\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-40.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=40\",\r\n  },\r\n  {\r\n    name: \"量子资源-lzzy.tv\",\r\n    f_name: \"lzzy-46.json\",\r\n    url: \"http://cj.lziapi.com/api.php/provide/vod/from/lzm3u8/at/json/?ac=videolist&t=46\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-49.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=49\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-50.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=50\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-54.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=54\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-64.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=64\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-67.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=67\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-66.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=66\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-68.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=68\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-69.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=69\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-29.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=29\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-30.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=30\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-56.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=56\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-57.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=57\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-58.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=58\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-59.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=59\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-25.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=25\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-26.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=26\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-27.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=27\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-6.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=6\",\r\n  },\r\n  {\r\n    name: \"索尼资源 - suonizy.com\",\r\n    f_name: \"snzy-7.json\",\r\n    url: \"https://suoniapi.com/api.php/provide/vod/from/snm3u8/at/json/?ac=videolist&t=7\",\r\n  },\r\n  {\r\n    name: \"魔都资源 - moduzy.net\",\r\n    f_name: \"mdzy-1.json\",\r\n    url: \"https://www.mdzyapi.com/api.php/provide/vod/from/modum3u8/at/json?ac=videolist&t=1\",\r\n  },\r\n  {\r\n    name: \"魔都资源 - moduzy.net\",\r\n    f_name: \"mdzy-2.json\",\r\n    url: \"https://www.mdzyapi.com/api.php/provide/vod/from/modum3u8/at/json?ac=videolist&t=2\",\r\n  },\r\n  {\r\n    name: \"魔都资源 - moduzy.net\",\r\n    f_name: \"mdzy-3.json\",\r\n    url: \"https://www.mdzyapi.com/api.php/provide/vod/from/modum3u8/at/json?ac=videolist&t=3\",\r\n  },\r\n  {\r\n    name: \"魔都资源 - moduzy.net\",\r\n    f_name: \"mdzy-4.json\",\r\n    url: \"https://www.mdzyapi.com/api.php/provide/vod/from/modum3u8/at/json?ac=videolist&t=4\",\r\n  },\r\n  {\r\n    name: \"魔都资源 - moduzy.net\",\r\n    f_name: \"mdzy-5.json\",\r\n    url: \"https://www.mdzyapi.com/api.php/provide/vod/from/modum3u8/at/json?ac=videolist&t=5\",\r\n  },\r\n  {\r\n    name: \"魔都资源 - moduzy.net\",\r\n    f_name: \"mdzy-6.json\",\r\n    url: \"https://www.mdzyapi.com/api.php/provide/vod/from/modum3u8/at/json?ac=videolist&t=6\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-6.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=6\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-7.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=7\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-8.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=8\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-9.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=9\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-10.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=10\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-11.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=11\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-12.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=12\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-20.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=20\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-13.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=13\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-14.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=14\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-15.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=15\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-16.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=16\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-17.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=17\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-18.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=18\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-25.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=25\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-26.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=26\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-27.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=27\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-28.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=28\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-49.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=49\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-50.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=50\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-54.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=54\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-63.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=63\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-64.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=64\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-65.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=65\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-66.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=66\",\r\n  },\r\n  {\r\n    name: \"鱼乐资源- ylzy[11-20].com\",\r\n    f_name: \"ylzy-67.json\",\r\n    url: \"https://api.ylzy.me/api.php/provide/vod/?ac=videolist&t=67\",\r\n  },\r\n  {\r\n    name: \"美女小姐姐\",\r\n    f_name: \"ks.txt\",\r\n    url: \"https://v.591meta.com/ks.txt\",\r\n  },\r\n  {\r\n    name: \"美女小姐姐\",\r\n    f_name: \"ks-xjj.txt\",\r\n    url: \"https://gcore.jsdelivr.net/gh/maintell/xjj@master/video/ks.txt\",\r\n  },\r\n  {\r\n    name: \"tiktok小姐姐\",\r\n    f_name: \"tiktok.txt\",\r\n    url: \"https://gcore.jsdelivr.net/gh/maintell/xjj@master/video/tiktok.txt\",\r\n  },\r\n  {\r\n    name: \"跳舞小姐姐\",\r\n    f_name: \"ks-dance.txt\",\r\n    url: \"https://gcore.jsdelivr.net/gh/maintell/xjj@master/video/ks.dance.txt\",\r\n  },\r\n  {\r\n    name: \"快手小姐姐\",\r\n    f_name: \"ks-meinv.txt\",\r\n    url: \"https://gcore.jsdelivr.net/gh/maintell/xjj@master/video/ks.meinv.txt\",\r\n  },\r\n  {\r\n    name: \"美腿小姐姐\",\r\n    f_name: \"ks-meitui.txt\",\r\n    url: \"https://gcore.jsdelivr.net/gh/maintell/xjj@master/video/ks.meitui.txt\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-31.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=31\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-32.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=32\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv \",\r\n    f_name: \"bfzy-33.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=33\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-34.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=34\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-35.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=35\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-36.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=36\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-37.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=37\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-38.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=38\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-40.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=40\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-41.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=41\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-42.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=42\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-43.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=43\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-44.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=44\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-46.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=46\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-47.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=47\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-48.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=48\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-49.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=49\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-21.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=21\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-22.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=22\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-23.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=23\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-24.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=24\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-25.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=25\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-26.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=26\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-27.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=27\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-54.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=54\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-55.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=55\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-57.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=57\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-59.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=59\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-60.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=60\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-61.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=61\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-62.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=62\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-63.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=63\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-64.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=64\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-65.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=65\",\r\n  },\r\n  {\r\n    name: \"暴风资源-bfzy.tv\",\r\n    f_name: \"bfzy-66.json\",\r\n    url: \"https://bfzyapi.com/api.php/provide/vod/from/bfzym3u8/at/json/?ac=videolist&t=66\",\r\n  },\r\n  {\r\n    name: \"虎牙直播\",\r\n    f_name: \"huya.txt\",\r\n    url: \"https://pastebin.com/raw/cxpKT8Mw\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-1.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=1\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-2.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=2\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-3.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=3\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-4.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=4\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-5.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=5\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-6.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=6\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-7.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=7\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-8.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=8\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-9.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=9\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-10.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=10\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-20.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=20\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-21.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=21\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-22.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=22\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-23.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=23\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-24.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=24\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-25.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=25\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-26.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=26\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-27.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=27\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-28.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=28\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-29.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=29\",\r\n  },\r\n  {\r\n    name: \"麻豆视频-91md.me\",\r\n    f_name: \"mdsp-30.json\",\r\n    url: \"https://cors.eu.org/http://md91.cc/api.php/provide/vod/from/mdm3u8/at/json?ac=videolist&t=30\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-5.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=5\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-6.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=6\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-7.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=7\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-8.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=8\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-9.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=9\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-10.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=10\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-11.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=11\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-12.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=12\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-13.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=13\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-14.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=14\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-15.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=15\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-16.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=16\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-17.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=17\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-18.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=18\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-19.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=19\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-62.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=62\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-63.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=63\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-64.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=64\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-65.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=65\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-66.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=66\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-67.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=67\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-68.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=68\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-69.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=69\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-70.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=70\",\r\n  },\r\n  {\r\n    name: \"优质资源-api.1080zyku.com\",\r\n    f_name: \"yzzy-83.json\",\r\n    url: \"https://api.1080zyku.com/inc/apijson.php?ac=videolist&t=83\",\r\n  },\r\n  {\r\n    name: \"xgsp.tv\",\r\n    f_name: \"xgsp-girls.json\",\r\n    url: \"https://zh.xgsp.tv/api/front/models?limit=60&offset=0&primaryTag=girls&filterGroupTags=%5B%5B%22autoTagNew%22%5D%5D&sortBy=trending&parentTag=autoTagNew&userRole=guest&groupId=9&uniq=re6jctvzay4ok2gp\",\r\n  },\r\n  {\r\n    name: \"xgsp.tv\",\r\n    f_name: \"xgsp-couples.json\",\r\n    url: \"https://zh.xgsp.tv/api/front/models?limit=60&offset=0&primaryTag=couples&filterGroupTags=%5B%5B%22autoTagNew%22%5D%5D&sortBy=trending&parentTag=autoTagNew&userRole=guest&groupId=9&uniq=gav5eqwy8kfiz4to\",\r\n  },\r\n  {\r\n    name: \"xgsp.tv\",\r\n    f_name: \"xgsp-man.json\",\r\n    url: \"https://zh.xgsp.tv/api/front/models?limit=60&offset=0&primaryTag=men&filterGroupTags=%5B%5B%22autoTagNew%22%5D%5D&sortBy=trending&parentTag=autoTagNew&userRole=guest&groupId=9&uniq=gzf5db2v68wn7yls\",\r\n  },\r\n  {\r\n    name: \"xgsp.tv\",\r\n    f_name: \"xgsp-trans.json\",\r\n    url: \"https://zh.xgsp.tv/api/front/models?limit=60&offset=0&primaryTag=trans&filterGroupTags=%5B%5B%22autoTagNew%22%5D%5D&sortBy=trending&parentTag=autoTagNew&userRole=guest&groupId=9&uniq=tezacdfq1mlrhkx7\",\r\n  },\r\n];","import fs from \"node:fs\";\r\nimport path from \"node:path\";\r\nimport {\r\n  ITvBoxLiveSrc,\r\n  ITvBoxJson,\r\n  ITvBoxLiveChannel,\r\n  ITvBoxLive,\r\n} from \"../types\";\r\n\r\nconst gen_tvbox_json = (srcs: ITvBoxLiveSrc[], group?: string): ITvBoxJson => {\r\n  if (srcs.length < 1) {\r\n    throw new Error(\"No sources for tvbox found!\");\r\n  }\r\n  const j = {\r\n    lives: [],\r\n  } as ITvBoxJson;\r\n  const live = {\r\n    group: !!group ? group : srcs[0].name,\r\n    channels: srcs.map(\r\n      ({ name, f_name }) =>\r\n      ({\r\n        name,\r\n        urls: [`./txt/${f_name}.txt`],\r\n      } as ITvBoxLiveChannel)\r\n    ),\r\n  } as ITvBoxLive;\r\n  j.lives.push(live);\r\n  return j;\r\n};\r\n\r\nexport const writeTvBoxJson = (\r\n  f_name: string,\r\n  srcs: ITvBoxLiveSrc[],\r\n  group?: string\r\n) => {\r\n  const tvbox_p = path.resolve(\"dist\", \"tvbox\");\r\n  if (!fs.existsSync(tvbox_p)) {\r\n    fs.mkdirSync(tvbox_p);\r\n  }\r\n  fs.writeFileSync(\r\n    path.join(tvbox_p, `/${f_name}.json`),\r\n    JSON.stringify(gen_tvbox_json(srcs, group))\r\n  );\r\n};","import fs from \"node:fs\";\r\nimport path from \"node:path\";\r\n\r\nimport type { ICustom } from \"../types\";\r\nimport {\r\n  config_path,\r\n  dist_path,\r\n  write_custom_path,\r\n  m3u2txt,\r\n  trimAny,\r\n} from \"../utils\";\r\n\r\nconst loadConfigCustom = (): ICustom | undefined => {\r\n  if (!fs.existsSync(config_path)) {\r\n    return void 0;\r\n  }\r\n\r\n  if (fs.readdirSync(config_path).length === 0) {\r\n    return void 0;\r\n  }\r\n\r\n  const cfg = JSON.parse(\r\n    fs.readFileSync(path.join(config_path, \"custom.json\"), \"utf-8\")\r\n  ) as ICustom;\r\n\r\n  // 去除不必要的空格\r\n  cfg.rules = trimAny(cfg.rules);\r\n\r\n  return cfg;\r\n};\r\n\r\nconst getFilenames = () => {\r\n  return fs\r\n    .readdirSync(path.join(dist_path, \"txt\"))\r\n    .map((f) => f.replace(\".txt\", \"\"))\r\n    .filter((f) => f !== \"channels\");\r\n};\r\n\r\nexport const runCustomTask = () => {\r\n  const cfg = loadConfigCustom();\r\n\r\n  if (!cfg) return;\r\n\r\n  if (!cfg.rules || cfg.rules.length === 0) return;\r\n\r\n  if (!fs.existsSync(write_custom_path)) {\r\n    fs.mkdirSync(write_custom_path);\r\n  }\r\n\r\n  const files = getFilenames();\r\n\r\n  const rules = cfg.rules.filter((r) => files.includes(r.upstream.trim()));\r\n\r\n  const ruled = rules.map((r) => r.upstream);\r\n\r\n  files.forEach((f) => {\r\n    if (!ruled.includes(f)) return;\r\n\r\n    const r = rules.filter((ru) => ru.upstream === f);\r\n\r\n    if (r.length === 0) return;\r\n\r\n    console.log(`Customize Source ${f}`);\r\n\r\n    const arr = fs\r\n      .readFileSync(path.join(dist_path, `${f}.m3u`), \"utf-8\")\r\n      .split(\"\\n\");\r\n    let res = [arr[0]];\r\n\r\n    r.forEach((rr) => {\r\n      for (let i = 1; i < arr.length; i += 2) {\r\n        const regExp = /\\#EXTINF:-1([^,]*),(.*)/;\r\n\r\n        const name = regExp.exec(arr[i])![2].trim();\r\n\r\n        // include 的优先级高于 exclude\r\n        if (!!rr.include && Array.isArray(rr.include)) {\r\n          if (rr.include.includes(name)) {\r\n            res.push(arr[i]);\r\n            res.push(arr[i + 1]);\r\n          }\r\n        } else if (!!rr.exclude && Array.isArray(rr.exclude)) {\r\n          if (!rr.exclude.includes(name)) {\r\n            res.push(arr[i]);\r\n            res.push(arr[i + 1]);\r\n          }\r\n        } else {\r\n          res.push(arr[i]);\r\n          res.push(arr[i + 1]);\r\n        }\r\n      }\r\n\r\n      if (!!rr.append && Array.isArray(rr.append)) {\r\n        rr.append.forEach(({ name, url, extinf }) => {\r\n          if (!!extinf) {\r\n            res.push(extinf);\r\n          } else {\r\n            let _name = name.trim();\r\n            res.push(\r\n              `#EXTINF:-1 tvg-name=\"${_name}\" tvg-id=\"${_name}\" group-title=\"Custom\",${_name}`\r\n            );\r\n          }\r\n\r\n          res.push(url);\r\n        });\r\n      }\r\n    });\r\n\r\n    fs.writeFileSync(path.join(write_custom_path, `${f}.m3u`), res.join(\"\\n\"));\r\n\r\n    fs.writeFileSync(path.join(write_custom_path, `${f}.txt`), m3u2txt(res));\r\n  });\r\n};"],"mappings":"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AAM,oCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,eACR,IAAK,iFACP,EACA,CACE,KAAM,yCACN,OAAQ,cACR,IAAK,gFACP,EACA,CACE,KAAM,yCACN,OAAQ,cACR,IAAK,gFACP,EACA,CACE,KAAM,wCACN,OAAQ,cACR,IAAK,oFACP,EACA,CACE,KAAM,wCACN,OAAQ,cACR,IAAK,oFACP,EACA,CACE,KAAM,wCACN,OAAQ,cACR,IAAK,oFACP,EACA,CACE,KAAM,wCACN,OAAQ,cACR,IAAK,oFACP,EACA,CACE,KAAM,wCACN,OAAQ,cACR,IAAK,oFACP,EACA,CACE,KAAM,wCACN,OAAQ,cACR,IAAK,oFACP,EACA,CACE,KAAM,4CACN,OAAQ,cACR,IAAK,2DACP,EACA,CACE,KAAM,4CACN,OAAQ,cACR,IAAK,2DACP,EACA,CACE,KAAM,4CACN,OAAQ,cACR,IAAK,2DACP,EACA,CACE,KAAM,4CACN,OAAQ,cACR,IAAK,2DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,iCACN,OAAQ,SACR,IAAK,8BACP,EACA,CACE,KAAM,iCACN,OAAQ,aACR,IAAK,gEACP,EACA,CACE,KAAM,2BACN,OAAQ,aACR,IAAK,oEACP,EACA,CACE,KAAM,iCACN,OAAQ,eACR,IAAK,sEACP,EACA,CACE,KAAM,iCACN,OAAQ,eACR,IAAK,sEACP,EACA,CACE,KAAM,iCACN,OAAQ,gBACR,IAAK,uEACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,oCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,kFACP,EACA,CACE,KAAM,2BACN,OAAQ,WACR,IAAK,mCACP,EACA,CACE,KAAM,mCACN,OAAQ,cACR,IAAK,6FACP,EACA,CACE,KAAM,mCACN,OAAQ,cACR,IAAK,6FACP,EACA,CACE,KAAM,mCACN,OAAQ,cACR,IAAK,6FACP,EACA,CACE,KAAM,mCACN,OAAQ,cACR,IAAK,6FACP,EACA,CACE,KAAM,mCACN,OAAQ,cACR,IAAK,6FACP,EACA,CACE,KAAM,mCACN,OAAQ,cACR,IAAK,6FACP,EACA,CACE,KAAM,mCACN,OAAQ,cACR,IAAK,6FACP,EACA,CACE,KAAM,mCACN,OAAQ,cACR,IAAK,6FACP,EACA,CACE,KAAM,mCACN,OAAQ,cACR,IAAK,6FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,mCACN,OAAQ,eACR,IAAK,8FACP,EACA,CACE,KAAM,4CACN,OAAQ,cACR,IAAK,2DACP,EACA,CACE,KAAM,4CACN,OAAQ,cACR,IAAK,2DACP,EACA,CACE,KAAM,4CACN,OAAQ,cACR,IAAK,2DACP,EACA,CACE,KAAM,4CACN,OAAQ,cACR,IAAK,2DACP,EACA,CACE,KAAM,4CACN,OAAQ,cACR,IAAK,2DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA,CACE,KAAM,4CACN,OAAQ,eACR,IAAK,4DACP,EACA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","names":["hrtime","path","fs","updateChannelsJson","sources","sources_res","epgs","json_p","result","source","idx","epg","fs","path","hrtime","OpenCC","path","config_path","config_custom_path","dist_path","TMPL_DIR","txt_path","epg_path","list_path","sources_path","tvbox_path","write_custom_path","README_DIR","PUBLIC_DIR","update_time","converter","sites_matrix","get_rollback_urls","matrix_url","m","url","get_github_raw_proxy_url","custom","replace_github_raw_proxy_url","s","proxy_url","is_filted_channels","handle_m3u","r","raw","result","extM3uRegExp","extinfRegExp","hostRegExp","i","with_github_raw_url_proxy","u","get_channel_id","extinf","converter","collectM3uSource","url","fn","id","filter","raw","caller","collectFn","rawArray","handle_m3u","replace_github_raw_proxy_url","r","Collector","keyFilter","valueFilter","data","k","v","vb","m3u2txt","m3uArray","groups","channelRegExp","groupRegExp","i","reg","group","g","txt","from_infos","get_from_info","host","trimAny","any","a","key","value","getContent","src","now","hrtime","url","with_github_raw_url_proxy","res","writeM3u","name","m3u","fs","path","writeSources","f_name","sources","srcs","k","v","writeM3uToTxt","m3uArray","txt","m3u2txt","mergeTxts","txts_p","txts","d","mergeSources","sources_p","files","f","so","writeEpgXML","xml","writeMovieJson","json","cleanDir","p","file","copyDir","dest","callback","copy","copySrc","copyDest","err","list","item","ss","stat","curSrc","curDest","cleanFiles","copyFiles","fs","path","updateChannelList","name","f_name","m3u","rollback","list_temp_p","path","list","fs","m3uArray","handle_m3u","channelRegExp","i","channels","reg","get_from_info","after","c","idx","update_time","list_p","updateReadme","sources","sources_res","epgs","epgs_res","readme_temp_p","s","e","epg_pw_filter","raw","caller","collectFn","rawArray","handle_m3u","regExp","i","sourced","result","reg","collectM3uSource","converter","epg_pw_sources","iptv_org_filter","raw","caller","collectFn","rawArray","handle_m3u","invalidExp","arr","sourced","result","i","id","get_channel_id","is_filted_channels","collectM3uSource","converter","iptv_org_sources","iptv_org_stream_sources","yang_m3u_sources","filter","yuechan_live_sources","filter","fanmingming_live_sources","filter","qwerttvv_bj_iptv_sources","filter","joevess_iptv_sources","filter","ss_sources","filter","adultiptv_sources","filter","cn_sources","filter","sources","adultiptv_sources","fanmingming_live_sources","yuechan_live_sources","yang_m3u_sources","joevess_iptv_sources","iptv_org_sources","iptv_org_stream_sources","epg_pw_sources","qwerttvv_bj_iptv_sources","ss_sources","cn_sources","hrtime","updateByRollback","sr","sr_filter","idx","rollback_urls","get_rollback_urls","now","hrtime","res","text","updateEPGByRollback","updateDATAByRollback","epgs_sources","ApiJson","fs","path","gen_tvbox_json","srcs","group","j","live","name","f_name","writeTvBoxJson","tvbox_p","fs","path","loadConfigCustom","fs","config_path","cfg","path","trimAny","getFilenames","dist_path","f","runCustomTask","write_custom_path","files","rules","r","ruled","ru","arr","res","rr","i","name","url","extinf","_name","m3u2txt","cleanFiles","copyFiles","sources","sr","ok","text","now","getContent","hrtime","sourcesCollector","Collector","v","m3u","count","writeM3u","writeM3uToTxt","writeSources","writeTvBoxJson","updateChannelList","res","updateByRollback","result","epgs","epgs_sources","epg_sr","writeEpgXML","updateEPGByRollback","sources_res","r","epgs_res","mergeTxts","mergeSources","updateChannelsJson","updateReadme","movie","ApiJson","data_sr","writeMovieJson","updateDATAByRollback","runCustomTask","err"]}