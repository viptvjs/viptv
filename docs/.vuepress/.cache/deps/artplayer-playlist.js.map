{
  "version": 3,
  "sources": ["../../../../node_modules/.pnpm/artplayer-playlist@1.0.3/node_modules/artplayer-playlist/dist/artplayer-plugin-playlist.js"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.artplayerPlaylist = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar artplayerPlaylist = exports.artplayerPlaylist = function artplayerPlaylist(options) {\n  return function (art) {\n    // 更新i18n\n    var addedI18n = {\n      'zh-cn': {\n        playlist: '播放列表'\n      },\n      en: {\n        playlist: 'Playlist'\n      }\n    };\n    art.i18n.update(addedI18n);\n\n    // 更换分集视频\n    var changeVideo = function changeVideo(art, index) {\n      if (!options.playlist[index]) {\n        return;\n      }\n\n      // 获取artplayer配置\n      var artOptions = art.option;\n      var newArtplayer = art;\n      if (options.rebuildPlayer) {\n        var _options$autoNext;\n        // 销毁之前的artplayer\n        art.destroy();\n\n        // 重建artplayer\n        newArtplayer = new Artplayer(_objectSpread(_objectSpread(_objectSpread({}, artOptions), options.playlist[index]), {}, {\n          autoplay: (_options$autoNext = options.autoNext) !== null && _options$autoNext !== void 0 ? _options$autoNext : artOptions.autoplay,\n          i18n: addedI18n,\n          id: \"\".concat(artOptions.id, \"-\").concat(index === 0 ? '' : index)\n        }));\n      } else {\n        var _options$autoNext2;\n        art.switchUrl(options.playlist[index].url, options.playlist[index].title);\n        if ((_options$autoNext2 = options.autoNext) !== null && _options$autoNext2 !== void 0 ? _options$autoNext2 : artOptions.autoplay) {\n          art.play();\n        }\n      }\n\n      // 执行onchanged回调\n      if (typeof options.onchanged === 'function') {\n        options.onchanged(newArtplayer);\n      }\n    };\n\n    // 自动播放下一P\n    var currentEp = options.playlist.findIndex(function (videoInfo) {\n      return videoInfo.url === art.option.url;\n    });\n    if (options.autoNext && currentEp < options.playlist.length) {\n      art.on('video:ended', function () {\n        changeVideo(art, currentEp + 1);\n      });\n    }\n    var icon = '<i class=\"art-icon\"><svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\"><path d=\"M810.666667 384H85.333333v85.333333h725.333334V384z m0-170.666667H85.333333v85.333334h725.333334v-85.333334zM85.333333 640h554.666667v-85.333333H85.333333v85.333333z m640-85.333333v256l213.333334-128-213.333334-128z\" fill=\"#ffffff\"></path></svg></i>';\n\n    // 添加播放列表控件\n    art.controls.add({\n      name: 'playlist',\n      position: 'right',\n      html: options.showText ? art.i18n.get('playlist') : icon,\n      style: {\n        padding: '0 10px'\n      },\n      selector: options.playlist.map(function (videoInfo, index) {\n        return {\n          html: \"\".concat(index + 1, \". \").concat(videoInfo.title || \"Ep.\".concat(index + 1)),\n          style: {\n            textAlign: 'left'\n          },\n          index: index,\n          \"default\": currentEp === index\n        };\n      }),\n      onSelect: function onSelect(item) {\n        changeVideo(art, item.index);\n        return options.showText ? art.i18n.get('playlist') : icon;\n      }\n    });\n    return {\n      name: 'artplayerPlaylist'\n    };\n  };\n};\nif (typeof window !== 'undefined') {\n  window.artplayerPlaylist = artplayerPlaylist;\n}\n"],
  "mappings": "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",
  "names": ["o", "r", "artplayerPlaylist", "changeVideo", "art"]
}
