import {
  __commonJS
} from "./chunk-LQ2VYIYD.js";

// node_modules/.pnpm/dashjs@4.7.4/node_modules/dashjs/dist/dash.all.min.js
var require_dash_all_min = __commonJS({
  "node_modules/.pnpm/dashjs@4.7.4/node_modules/dashjs/dist/dash.all.min.js"(exports, module) {
    !function(e, t) {
      "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.dashjs = t() : e.dashjs = t();
    }(self, function() {
      return function() {
        var e = { 4593: function(e2, t2) {
          var n2, r2, i, o, u, l = function(e3) {
            for (var t3 = [], n3 = 0; n3 < e3.length; ++n3) {
              var r3 = e3.charCodeAt(n3);
              r3 < 128 ? t3.push(r3) : r3 < 2048 ? (t3.push(192 | r3 >> 6), t3.push(128 | 63 & r3)) : r3 < 65536 ? (t3.push(224 | r3 >> 12), t3.push(128 | 63 & r3 >> 6), t3.push(128 | 63 & r3)) : (t3.push(240 | r3 >> 18), t3.push(128 | 63 & r3 >> 12), t3.push(128 | 63 & r3 >> 6), t3.push(128 | 63 & r3));
            }
            return t3;
          }, c = function(e3) {
            for (var t3 = [], n3 = 0; n3 < e3.length; ) {
              var r3 = e3[n3++];
              r3 < 128 || (r3 < 224 ? (r3 = (31 & r3) << 6, r3 |= 63 & e3[n3++]) : r3 < 240 ? (r3 = (15 & r3) << 12, r3 |= (63 & e3[n3++]) << 6, r3 |= 63 & e3[n3++]) : (r3 = (7 & r3) << 18, r3 |= (63 & e3[n3++]) << 12, r3 |= (63 & e3[n3++]) << 6, r3 |= 63 & e3[n3++])), t3.push(String.fromCharCode(r3));
            }
            return t3.join("");
          }, f = {};
          n2 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", r2 = function(e3) {
            for (var t3 = 0, r3 = [], i2 = 0 | e3.length / 3; 0 < i2--; ) {
              var a2 = (e3[t3] << 16) + (e3[t3 + 1] << 8) + e3[t3 + 2];
              t3 += 3, r3.push(n2.charAt(63 & a2 >> 18)), r3.push(n2.charAt(63 & a2 >> 12)), r3.push(n2.charAt(63 & a2 >> 6)), r3.push(n2.charAt(63 & a2));
            }
            return 2 == e3.length - t3 ? (a2 = (e3[t3] << 16) + (e3[t3 + 1] << 8), r3.push(n2.charAt(63 & a2 >> 18)), r3.push(n2.charAt(63 & a2 >> 12)), r3.push(n2.charAt(63 & a2 >> 6)), r3.push("=")) : 1 == e3.length - t3 && (a2 = e3[t3] << 16, r3.push(n2.charAt(63 & a2 >> 18)), r3.push(n2.charAt(63 & a2 >> 12)), r3.push("==")), r3.join("");
          }, i = function() {
            for (var e3 = [], t3 = 0; t3 < n2.length; ++t3)
              e3[n2.charCodeAt(t3)] = t3;
            return e3["=".charCodeAt(0)] = 0, e3;
          }(), o = function(e3) {
            for (var t3 = 0, n3 = [], r3 = 0 | e3.length / 4; 0 < r3--; ) {
              var a2 = (i[e3.charCodeAt(t3)] << 18) + (i[e3.charCodeAt(t3 + 1)] << 12) + (i[e3.charCodeAt(t3 + 2)] << 6) + i[e3.charCodeAt(t3 + 3)];
              n3.push(255 & a2 >> 16), n3.push(255 & a2 >> 8), n3.push(255 & a2), t3 += 4;
            }
            return n3 && ("=" == e3.charAt(t3 - 2) ? (n3.pop(), n3.pop()) : "=" == e3.charAt(t3 - 1) && n3.pop()), n3;
          }, u = { encode: function(e3) {
            for (var t3 = [], n3 = 0; n3 < e3.length; ++n3)
              t3.push(e3.charCodeAt(n3));
            return t3;
          }, decode: function(e3) {
            for (var t3 = 0; t3 < s.length; ++t3)
              a[t3] = String.fromCharCode(a[t3]);
            return a.join("");
          } }, f.decodeArray = function(e3) {
            var t3 = o(e3);
            return new Uint8Array(t3);
          }, f.encodeASCII = function(e3) {
            var t3 = u.encode(e3);
            return r2(t3);
          }, f.decodeASCII = function(e3) {
            var t3 = o(e3);
            return u.decode(t3);
          }, f.encode = function(e3) {
            var t3 = l(e3);
            return r2(t3);
          }, f.decode = function(e3) {
            var t3 = o(e3);
            return c(t3);
          }, t2.decode = f.decode, t2.decodeArray = f.decodeArray, t2.encode = f.encode, t2.encodeASCII = f.encodeASCII;
        }, 452: function(e2, t2) {
          !function(e3) {
            "use strict";
            var t3 = { 42: 225, 92: 233, 94: 237, 95: 243, 96: 250, 123: 231, 124: 247, 125: 209, 126: 241, 127: 9608, 128: 174, 129: 176, 130: 189, 131: 191, 132: 8482, 133: 162, 134: 163, 135: 9834, 136: 224, 137: 32, 138: 232, 139: 226, 140: 234, 141: 238, 142: 244, 143: 251, 144: 193, 145: 201, 146: 211, 147: 218, 148: 220, 149: 252, 150: 8216, 151: 161, 152: 42, 153: 8217, 154: 9473, 155: 169, 156: 8480, 157: 8226, 158: 8220, 159: 8221, 160: 192, 161: 194, 162: 199, 163: 200, 164: 202, 165: 203, 166: 235, 167: 206, 168: 207, 169: 239, 170: 212, 171: 217, 172: 249, 173: 219, 174: 171, 175: 187, 176: 195, 177: 227, 178: 205, 179: 204, 180: 236, 181: 210, 182: 242, 183: 213, 184: 245, 185: 123, 186: 125, 187: 92, 188: 94, 189: 95, 190: 124, 191: 8764, 192: 196, 193: 228, 194: 214, 195: 246, 196: 223, 197: 165, 198: 164, 199: 9475, 200: 197, 201: 229, 202: 216, 203: 248, 204: 9487, 205: 9491, 206: 9495, 207: 9499 }, n2 = function(e4) {
              var n3 = e4;
              return t3.hasOwnProperty(e4) && (n3 = t3[e4]), String.fromCharCode(n3);
            }, r2 = 15, i = 32, a2 = { 17: 1, 18: 3, 21: 5, 22: 7, 23: 9, 16: 11, 19: 12, 20: 14 }, o = { 17: 2, 18: 4, 21: 6, 22: 8, 23: 10, 19: 13, 20: 15 }, s2 = { 25: 1, 26: 3, 29: 5, 30: 7, 31: 9, 24: 11, 27: 12, 28: 14 }, u = { 25: 2, 26: 4, 29: 6, 30: 8, 31: 10, 27: 13, 28: 15 }, l = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "black", "transparent"], c = { verboseFilter: { DATA: 3, DEBUG: 3, INFO: 2, WARNING: 2, TEXT: 1, ERROR: 0 }, time: null, verboseLevel: 0, setTime: function(e4) {
              this.time = e4;
            }, log: function(e4, t4) {
              var n3 = this.verboseFilter[e4];
              this.verboseLevel >= n3 && console.log(this.time + " [" + e4 + "] " + t4);
            } }, f = function(e4) {
              for (var t4 = [], n3 = 0; n3 < e4.length; n3++)
                t4.push(e4[n3].toString(16));
              return t4;
            }, d = function(e4, t4, n3, r3, i2) {
              this.foreground = e4 || "white", this.underline = t4 || false, this.italics = n3 || false, this.background = r3 || "black", this.flash = i2 || false;
            };
            d.prototype = { reset: function() {
              this.foreground = "white", this.underline = false, this.italics = false, this.background = "black", this.flash = false;
            }, setStyles: function(e4) {
              for (var t4 = ["foreground", "underline", "italics", "background", "flash"], n3 = 0; n3 < t4.length; n3++) {
                var r3 = t4[n3];
                e4.hasOwnProperty(r3) && (this[r3] = e4[r3]);
              }
            }, isDefault: function() {
              return "white" === this.foreground && !this.underline && !this.italics && "black" === this.background && !this.flash;
            }, equals: function(e4) {
              return this.foreground === e4.foreground && this.underline === e4.underline && this.italics === e4.italics && this.background === e4.background && this.flash === e4.flash;
            }, copy: function(e4) {
              this.foreground = e4.foreground, this.underline = e4.underline, this.italics = e4.italics, this.background = e4.background, this.flash = e4.flash;
            }, toString: function() {
              return "color=" + this.foreground + ", underline=" + this.underline + ", italics=" + this.italics + ", background=" + this.background + ", flash=" + this.flash;
            } };
            var g = function(e4, t4, n3, r3, i2, a3) {
              this.uchar = e4 || " ", this.penState = new d(t4, n3, r3, i2, a3);
            };
            g.prototype = { reset: function() {
              this.uchar = " ", this.penState.reset();
            }, setChar: function(e4, t4) {
              this.uchar = e4, this.penState.copy(t4);
            }, setPenState: function(e4) {
              this.penState.copy(e4);
            }, equals: function(e4) {
              return this.uchar === e4.uchar && this.penState.equals(e4.penState);
            }, copy: function(e4) {
              this.uchar = e4.uchar, this.penState.copy(e4.penState);
            }, isEmpty: function() {
              return " " === this.uchar && this.penState.isDefault();
            } };
            var h = function() {
              this.chars = [];
              for (var e4 = 0; e4 < i; e4++)
                this.chars.push(new g());
              this.pos = 0, this.currPenState = new d();
            };
            h.prototype = { equals: function(e4) {
              for (var t4 = true, n3 = 0; n3 < i; n3++)
                if (!this.chars[n3].equals(e4.chars[n3])) {
                  t4 = false;
                  break;
                }
              return t4;
            }, copy: function(e4) {
              for (var t4 = 0; t4 < i; t4++)
                this.chars[t4].copy(e4.chars[t4]);
            }, isEmpty: function() {
              for (var e4 = true, t4 = 0; t4 < i; t4++)
                if (!this.chars[t4].isEmpty()) {
                  e4 = false;
                  break;
                }
              return e4;
            }, setCursor: function(e4) {
              this.pos !== e4 && (this.pos = e4), this.pos < 0 ? (c.log("ERROR", "Negative cursor position " + this.pos), this.pos = 0) : this.pos > i && (c.log("ERROR", "Too large cursor position " + this.pos), this.pos = i);
            }, moveCursor: function(e4) {
              var t4 = this.pos + e4;
              if (e4 > 1)
                for (var n3 = this.pos + 1; n3 < t4 + 1; n3++)
                  this.chars[n3].setPenState(this.currPenState);
              this.setCursor(t4);
            }, backSpace: function() {
              this.moveCursor(-1), this.chars[this.pos].setChar(" ", this.currPenState);
            }, insertChar: function(e4) {
              e4 >= 144 && this.backSpace();
              var t4 = n2(e4);
              this.pos >= i ? c.log("ERROR", "Cannot insert " + e4.toString(16) + " (" + t4 + ") at position " + this.pos + ". Skipping it!") : (this.chars[this.pos].setChar(t4, this.currPenState), this.moveCursor(1));
            }, clearFromPos: function(e4) {
              var t4;
              for (t4 = e4; t4 < i; t4++)
                this.chars[t4].reset();
            }, clear: function() {
              this.clearFromPos(0), this.pos = 0, this.currPenState.reset();
            }, clearToEndOfRow: function() {
              this.clearFromPos(this.pos);
            }, getTextString: function() {
              for (var e4 = [], t4 = true, n3 = 0; n3 < i; n3++) {
                var r3 = this.chars[n3].uchar;
                " " !== r3 && (t4 = false), e4.push(r3);
              }
              return t4 ? "" : e4.join("");
            }, setPenStyles: function(e4) {
              this.currPenState.setStyles(e4), this.chars[this.pos].setPenState(this.currPenState);
            } };
            var p = function() {
              this.rows = [];
              for (var e4 = 0; e4 < r2; e4++)
                this.rows.push(new h());
              this.currRow = 14, this.nrRollUpRows = null, this.reset();
            };
            p.prototype = { reset: function() {
              for (var e4 = 0; e4 < r2; e4++)
                this.rows[e4].clear();
              this.currRow = 14;
            }, equals: function(e4) {
              for (var t4 = true, n3 = 0; n3 < r2; n3++)
                if (!this.rows[n3].equals(e4.rows[n3])) {
                  t4 = false;
                  break;
                }
              return t4;
            }, copy: function(e4) {
              for (var t4 = 0; t4 < r2; t4++)
                this.rows[t4].copy(e4.rows[t4]);
            }, isEmpty: function() {
              for (var e4 = true, t4 = 0; t4 < r2; t4++)
                if (!this.rows[t4].isEmpty()) {
                  e4 = false;
                  break;
                }
              return e4;
            }, backSpace: function() {
              this.rows[this.currRow].backSpace();
            }, clearToEndOfRow: function() {
              this.rows[this.currRow].clearToEndOfRow();
            }, insertChar: function(e4) {
              this.rows[this.currRow].insertChar(e4);
            }, setPen: function(e4) {
              this.rows[this.currRow].setPenStyles(e4);
            }, moveCursor: function(e4) {
              this.rows[this.currRow].moveCursor(e4);
            }, setCursor: function(e4) {
              c.log("INFO", "setCursor: " + e4), this.rows[this.currRow].setCursor(e4);
            }, setPAC: function(e4) {
              c.log("INFO", "pacData = " + JSON.stringify(e4));
              var t4 = e4.row - 1;
              this.nrRollUpRows && t4 < this.nrRollUpRows - 1 && (t4 = this.nrRollUpRows - 1), this.currRow = t4;
              var n3 = this.rows[this.currRow];
              if (null !== e4.indent) {
                var r3 = e4.indent, i2 = Math.max(r3 - 1, 0);
                n3.setCursor(e4.indent), e4.color = n3.chars[i2].penState.foreground;
              }
              var a3 = { foreground: e4.color, underline: e4.underline, italics: e4.italics, background: "black", flash: false };
              this.setPen(a3);
            }, setBkgData: function(e4) {
              c.log("INFO", "bkgData = " + JSON.stringify(e4)), this.backSpace(), this.setPen(e4), this.insertChar(32);
            }, setRollUpRows: function(e4) {
              this.nrRollUpRows = e4;
            }, rollUp: function() {
              if (null !== this.nrRollUpRows) {
                c.log("TEXT", this.getDisplayText());
                var e4 = this.currRow + 1 - this.nrRollUpRows, t4 = this.rows.splice(e4, 1)[0];
                t4.clear(), this.rows.splice(this.currRow, 0, t4), c.log("INFO", "Rolling up");
              } else
                c.log("DEBUG", "roll_up but nrRollUpRows not set yet");
            }, getDisplayText: function(e4) {
              e4 = e4 || false;
              for (var t4 = [], n3 = "", i2 = -1, a3 = 0; a3 < r2; a3++) {
                var o2 = this.rows[a3].getTextString();
                o2 && (i2 = a3 + 1, e4 ? t4.push("Row " + i2 + ': "' + o2 + '"') : t4.push(o2.trim()));
              }
              return t4.length > 0 && (n3 = e4 ? "[" + t4.join(" | ") + "]" : t4.join("\n")), n3;
            }, getTextAndFormat: function() {
              return this.rows;
            } };
            var m = function(e4, t4) {
              this.chNr = e4, this.outputFilter = t4, this.mode = null, this.verbose = 0, this.displayedMemory = new p(), this.nonDisplayedMemory = new p(), this.lastOutputScreen = new p(), this.currRollUpRow = this.displayedMemory.rows[14], this.writeScreen = this.displayedMemory, this.mode = null, this.cueStartTime = null;
            };
            m.prototype = { modes: ["MODE_ROLL-UP", "MODE_POP-ON", "MODE_PAINT-ON", "MODE_TEXT"], reset: function() {
              this.mode = null, this.displayedMemory.reset(), this.nonDisplayedMemory.reset(), this.lastOutputScreen.reset(), this.currRollUpRow = this.displayedMemory.rows[14], this.writeScreen = this.displayedMemory, this.mode = null, this.cueStartTime = null, this.lastCueEndTime = null;
            }, getHandler: function() {
              return this.outputFilter;
            }, setHandler: function(e4) {
              this.outputFilter = e4;
            }, setPAC: function(e4) {
              this.writeScreen.setPAC(e4);
            }, setBkgData: function(e4) {
              this.writeScreen.setBkgData(e4);
            }, setMode: function(e4) {
              e4 !== this.mode && (this.mode = e4, c.log("INFO", "MODE=" + e4), "MODE_POP-ON" == this.mode ? this.writeScreen = this.nonDisplayedMemory : (this.writeScreen = this.displayedMemory, this.writeScreen.reset()), "MODE_ROLL-UP" !== this.mode && (this.displayedMemory.nrRollUpRows = null, this.nonDisplayedMemory.nrRollUpRows = null), this.mode = e4);
            }, insertChars: function(e4) {
              for (var t4 = 0; t4 < e4.length; t4++)
                this.writeScreen.insertChar(e4[t4]);
              var n3 = this.writeScreen === this.displayedMemory ? "DISP" : "NON_DISP";
              c.log("INFO", n3 + ": " + this.writeScreen.getDisplayText(true)), "MODE_PAINT-ON" !== this.mode && "MODE_ROLL-UP" !== this.mode || (c.log("TEXT", "DISPLAYED: " + this.displayedMemory.getDisplayText(true)), this.outputDataUpdate());
            }, cc_RCL: function() {
              c.log("INFO", "RCL - Resume Caption Loading"), this.setMode("MODE_POP-ON");
            }, cc_BS: function() {
              c.log("INFO", "BS - BackSpace"), "MODE_TEXT" !== this.mode && (this.writeScreen.backSpace(), this.writeScreen === this.displayedMemory && this.outputDataUpdate());
            }, cc_AOF: function() {
            }, cc_AON: function() {
            }, cc_DER: function() {
              c.log("INFO", "DER- Delete to End of Row"), this.writeScreen.clearToEndOfRow(), this.outputDataUpdate();
            }, cc_RU: function(e4) {
              c.log("INFO", "RU(" + e4 + ") - Roll Up"), this.writeScreen = this.displayedMemory, this.setMode("MODE_ROLL-UP"), this.writeScreen.setRollUpRows(e4);
            }, cc_FON: function() {
              c.log("INFO", "FON - Flash On"), this.writeScreen.setPen({ flash: true });
            }, cc_RDC: function() {
              c.log("INFO", "RDC - Resume Direct Captioning"), this.setMode("MODE_PAINT-ON");
            }, cc_TR: function() {
              c.log("INFO", "TR"), this.setMode("MODE_TEXT");
            }, cc_RTD: function() {
              c.log("INFO", "RTD"), this.setMode("MODE_TEXT");
            }, cc_EDM: function() {
              c.log("INFO", "EDM - Erase Displayed Memory"), this.displayedMemory.reset(), this.outputDataUpdate();
            }, cc_CR: function() {
              c.log("CR - Carriage Return"), this.writeScreen.rollUp(), this.outputDataUpdate();
            }, cc_ENM: function() {
              c.log("INFO", "ENM - Erase Non-displayed Memory"), this.nonDisplayedMemory.reset();
            }, cc_EOC: function() {
              if (c.log("INFO", "EOC - End Of Caption"), "MODE_POP-ON" === this.mode) {
                var e4 = this.displayedMemory;
                this.displayedMemory = this.nonDisplayedMemory, this.nonDisplayedMemory = e4, this.writeScreen = this.nonDisplayedMemory, c.log("TEXT", "DISP: " + this.displayedMemory.getDisplayText());
              }
              this.outputDataUpdate();
            }, cc_TO: function(e4) {
              c.log("INFO", "TO(" + e4 + ") - Tab Offset"), this.writeScreen.moveCursor(e4);
            }, cc_MIDROW: function(e4) {
              var t4 = { flash: false };
              if (t4.underline = e4 % 2 == 1, t4.italics = e4 >= 46, t4.italics)
                t4.foreground = "white";
              else {
                var n3 = Math.floor(e4 / 2) - 16;
                t4.foreground = ["white", "green", "blue", "cyan", "red", "yellow", "magenta"][n3];
              }
              c.log("INFO", "MIDROW: " + JSON.stringify(t4)), this.writeScreen.setPen(t4);
            }, outputDataUpdate: function() {
              var e4 = c.time;
              null !== e4 && this.outputFilter && (this.outputFilter.updateData && this.outputFilter.updateData(e4, this.displayedMemory), null !== this.cueStartTime || this.displayedMemory.isEmpty() ? this.displayedMemory.equals(this.lastOutputScreen) || (this.outputFilter.newCue && this.outputFilter.newCue(this.cueStartTime, e4, this.lastOutputScreen), this.cueStartTime = this.displayedMemory.isEmpty() ? null : e4) : this.cueStartTime = e4, this.lastOutputScreen.copy(this.displayedMemory));
            }, cueSplitAtTime: function(e4) {
              this.outputFilter && (this.displayedMemory.isEmpty() || (this.outputFilter.newCue && this.outputFilter.newCue(this.cueStartTime, e4, this.displayedMemory), this.cueStartTime = e4));
            } };
            var y = function(e4, t4, n3) {
              this.field = e4 || 1, this.outputs = [t4, n3], this.channels = [new m(1, t4), new m(2, n3)], this.currChNr = -1, this.lastCmdA = null, this.lastCmdB = null, this.bufferedData = [], this.startTime = null, this.lastTime = null, this.dataCounters = { padding: 0, char: 0, cmd: 0, other: 0 };
            };
            y.prototype = { getHandler: function(e4) {
              return this.channels[e4].getHandler();
            }, setHandler: function(e4, t4) {
              this.channels[e4].setHandler(t4);
            }, addData: function(e4, t4) {
              var n3, r3, i2, a3 = false;
              this.lastTime = e4, c.setTime(e4);
              for (var o2 = 0; o2 < t4.length; o2 += 2)
                r3 = 127 & t4[o2], i2 = 127 & t4[o2 + 1], r3 >= 16 && r3 <= 31 && r3 === this.lastCmdA && i2 === this.lastCmdB ? (this.lastCmdA = null, this.lastCmdB = null, c.log("DEBUG", "Repeated command (" + f([r3, i2]) + ") is dropped")) : 0 !== r3 || 0 !== i2 ? (c.log("DATA", "[" + f([t4[o2], t4[o2 + 1]]) + "] -> (" + f([r3, i2]) + ")"), (n3 = this.parseCmd(r3, i2)) || (n3 = this.parseMidrow(r3, i2)), n3 || (n3 = this.parsePAC(r3, i2)), n3 || (n3 = this.parseBackgroundAttributes(r3, i2)), n3 || (a3 = this.parseChars(r3, i2)) && (this.currChNr && this.currChNr >= 0 ? this.channels[this.currChNr - 1].insertChars(a3) : c.log("WARNING", "No channel found yet. TEXT-MODE?")), n3 ? this.dataCounters.cmd += 2 : a3 ? this.dataCounters.char += 2 : (this.dataCounters.other += 2, c.log("WARNING", "Couldn't parse cleaned data " + f([r3, i2]) + " orig: " + f([t4[o2], t4[o2 + 1]])))) : this.dataCounters.padding += 2;
            }, parseCmd: function(e4, t4) {
              var n3;
              if (!((20 === e4 || 21 === e4 || 28 === e4 || 29 === e4) && 32 <= t4 && t4 <= 47 || (23 === e4 || 31 === e4) && 33 <= t4 && t4 <= 35))
                return false;
              n3 = 20 === e4 || 21 === e4 || 23 === e4 ? 1 : 2;
              var r3 = this.channels[n3 - 1];
              return 20 === e4 || 21 === e4 || 28 === e4 || 29 === e4 ? 32 === t4 ? r3.cc_RCL() : 33 === t4 ? r3.cc_BS() : 34 === t4 ? r3.cc_AOF() : 35 === t4 ? r3.cc_AON() : 36 === t4 ? r3.cc_DER() : 37 === t4 ? r3.cc_RU(2) : 38 === t4 ? r3.cc_RU(3) : 39 === t4 ? r3.cc_RU(4) : 40 === t4 ? r3.cc_FON() : 41 === t4 ? r3.cc_RDC() : 42 === t4 ? r3.cc_TR() : 43 === t4 ? r3.cc_RTD() : 44 === t4 ? r3.cc_EDM() : 45 === t4 ? r3.cc_CR() : 46 === t4 ? r3.cc_ENM() : 47 === t4 && r3.cc_EOC() : r3.cc_TO(t4 - 32), this.lastCmdA = e4, this.lastCmdB = t4, this.currChNr = n3, true;
            }, parseMidrow: function(e4, t4) {
              var n3 = null;
              if ((17 === e4 || 25 === e4) && 32 <= t4 && t4 <= 47) {
                if ((n3 = 17 === e4 ? 1 : 2) !== this.currChNr)
                  return c.log("ERROR", "Mismatch channel in midrow parsing"), false;
                var r3 = this.channels[n3 - 1];
                return r3.insertChars([32]), r3.cc_MIDROW(t4), c.log("DEBUG", "MIDROW (" + f([e4, t4]) + ")"), this.lastCmdA = e4, this.lastCmdB = t4, true;
              }
              return false;
            }, parsePAC: function(e4, t4) {
              var n3, r3;
              if (!((17 <= e4 && e4 <= 23 || 25 <= e4 && e4 <= 31) && 64 <= t4 && t4 <= 127 || (16 === e4 || 24 === e4) && 64 <= t4 && t4 <= 95))
                return false;
              n3 = e4 <= 23 ? 1 : 2, r3 = 64 <= t4 && t4 <= 95 ? 1 === n3 ? a2[e4] : s2[e4] : 1 === n3 ? o[e4] : u[e4];
              var i2 = this.interpretPAC(r3, t4);
              return this.channels[n3 - 1].setPAC(i2), this.lastCmdA = e4, this.lastCmdB = t4, this.currChNr = n3, true;
            }, interpretPAC: function(e4, t4) {
              var n3, r3 = { color: null, italics: false, indent: null, underline: false, row: e4 };
              return n3 = t4 > 95 ? t4 - 96 : t4 - 64, r3.underline = 1 == (1 & n3), n3 <= 13 ? r3.color = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "white"][Math.floor(n3 / 2)] : n3 <= 15 ? (r3.italics = true, r3.color = "white") : r3.indent = 4 * Math.floor((n3 - 16) / 2), r3;
            }, parseChars: function(e4, t4) {
              var r3 = null, i2 = null, a3 = null;
              if (e4 >= 25 ? (r3 = 2, a3 = e4 - 8) : (r3 = 1, a3 = e4), 17 <= a3 && a3 <= 19) {
                var o2;
                o2 = 17 === a3 ? t4 + 80 : 18 === a3 ? t4 + 112 : t4 + 144, c.log("INFO", "Special char '" + n2(o2) + "' in channel " + r3), i2 = [o2], this.lastCmdA = e4, this.lastCmdB = t4;
              } else
                32 <= e4 && e4 <= 127 && (i2 = 0 === t4 ? [e4] : [e4, t4], this.lastCmdA = null, this.lastCmdB = null);
              if (i2) {
                var s3 = f(i2);
                c.log("DEBUG", "Char codes =  " + s3.join(","));
              }
              return i2;
            }, parseBackgroundAttributes: function(e4, t4) {
              var n3, r3, i2;
              return ((16 === e4 || 24 === e4) && 32 <= t4 && t4 <= 47 || (23 === e4 || 31 === e4) && 45 <= t4 && t4 <= 47) && (n3 = {}, 16 === e4 || 24 === e4 ? (r3 = Math.floor((t4 - 32) / 2), n3.background = l[r3], t4 % 2 == 1 && (n3.background = n3.background + "_semi")) : 45 === t4 ? n3.background = "transparent" : (n3.foreground = "black", 47 === t4 && (n3.underline = true)), i2 = e4 < 24 ? 1 : 2, this.channels[i2 - 1].setBkgData(n3), this.lastCmdA = e4, this.lastCmdB = t4, true);
            }, reset: function() {
              for (var e4 = 0; e4 < this.channels.length; e4++)
                this.channels[e4] && this.channels[e4].reset();
              this.lastCmdA = null, this.lastCmdB = null;
            }, cueSplitAtTime: function(e4) {
              for (var t4 = 0; t4 < this.channels.length; t4++)
                this.channels[t4] && this.channels[t4].cueSplitAtTime(e4);
            } }, e3.logger = c, e3.PenState = d, e3.CaptionScreen = p, e3.Cea608Parser = y, e3.findCea608Nalus = function(e4, t4, n3) {
              for (var r3 = 0, i2 = t4, a3 = [], o2 = function(e5, t5, n4, r4) {
                if (4 !== e5 || t5 < 8)
                  return null;
                var i3 = n4.getUint8(r4), a4 = n4.getUint16(r4 + 1), o3 = n4.getUint32(r4 + 3), s4 = n4.getUint8(r4 + 7);
                return 181 == i3 && 49 == a4 && 1195456820 == o3 && 3 == s4;
              }; i2 < t4 + n3; ) {
                if (r3 = e4.getUint32(i2), 6 == (31 & e4.getUint8(i2 + 4)))
                  for (var s3 = i2 + 5, u2 = -1; s3 < i2 + 4 + r3 - 1; ) {
                    u2 = 0;
                    for (var l2 = 255; 255 === l2; )
                      u2 += l2 = e4.getUint8(s3), s3++;
                    var c2 = 0;
                    for (l2 = 255; 255 === l2; )
                      c2 += l2 = e4.getUint8(s3), s3++;
                    o2(u2, c2, e4, s3) && a3.push([s3, c2]), s3 += c2;
                  }
                i2 += r3 + 4;
              }
              return a3;
            }, e3.extractCea608DataFromRange = function(e4, t4) {
              var n3 = t4[0], r3 = [[], []];
              n3 += 8;
              var i2 = 31 & e4.getUint8(n3);
              n3 += 2;
              for (var a3 = 0; a3 < i2; a3++) {
                var o2 = e4.getUint8(n3), s3 = 4 & o2, u2 = 3 & o2;
                n3++;
                var l2 = e4.getUint8(n3);
                n3++;
                var c2 = e4.getUint8(n3);
                n3++, s3 && (127 & l2) + (127 & c2) != 0 && (0 === u2 ? (r3[0].push(l2), r3[0].push(c2)) : 1 === u2 && (r3[1].push(l2), r3[1].push(c2)));
              }
              return r3;
            };
          }(t2);
        }, 8416: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(1139), i = n2(5448), a2 = n2(6398), o = n2(2032), s2 = (n2(5530), "undefined" != typeof window && window || n2.g), u = s2.dashjs;
          u || (u = s2.dashjs = {}), u.MediaPlayer = r2.Z, u.FactoryMaker = i.Z, u.Debug = a2.Z, u.Version = (0, o.e)();
        }, 6398: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5595), i = n2(8512), a2 = n2(5448), o = 1, s2 = 2, u = 3, l = 4, c = 5;
          function f(e3) {
            e3 = e3 || {};
            var t3, n3, a3, f2, d2 = this.context, g = (0, r2.Z)(d2).getInstance(), h = e3.settings, p = [];
            function m(e4) {
              return e4 && e4.bind ? e4.bind(window.console) : window.console.log.bind(window.console);
            }
            function y() {
              for (var e4 = arguments.length, t4 = new Array(e4), n4 = 0; n4 < e4; n4++)
                t4[n4] = arguments[n4];
              S.apply(void 0, [o, this].concat(t4));
            }
            function E() {
              for (var e4 = arguments.length, t4 = new Array(e4), n4 = 0; n4 < e4; n4++)
                t4[n4] = arguments[n4];
              S.apply(void 0, [s2, this].concat(t4));
            }
            function v() {
              for (var e4 = arguments.length, t4 = new Array(e4), n4 = 0; n4 < e4; n4++)
                t4[n4] = arguments[n4];
              S.apply(void 0, [u, this].concat(t4));
            }
            function _() {
              for (var e4 = arguments.length, t4 = new Array(e4), n4 = 0; n4 < e4; n4++)
                t4[n4] = arguments[n4];
              S.apply(void 0, [l, this].concat(t4));
            }
            function T() {
              for (var e4 = arguments.length, t4 = new Array(e4), n4 = 0; n4 < e4; n4++)
                t4[n4] = arguments[n4];
              S.apply(void 0, [c, this].concat(t4));
            }
            function S(e4, t4) {
              var r3 = "", o2 = null;
              n3 && (o2 = (/* @__PURE__ */ new Date()).getTime(), r3 += "[" + (o2 - f2) + "]"), a3 && t4 && t4.getClassName && (r3 += "[" + t4.getClassName() + "]", t4.getType && (r3 += "[" + t4.getType() + "]")), r3.length > 0 && (r3 += " ");
              for (var s3 = arguments.length, u2 = new Array(s3 > 2 ? s3 - 2 : 0), l2 = 2; l2 < s3; l2++)
                u2[l2 - 2] = arguments[l2];
              Array.apply(null, u2).forEach(function(e5) {
                r3 += e5 + " ";
              }), p[e4] && h && h.get().debug.logLevel >= e4 && p[e4](r3), h && h.get().debug.dispatchEvent && g.trigger(i.Z.LOG, { message: r3, level: e4 });
            }
            return t3 = { getLogger: function(e4) {
              return { fatal: y.bind(e4), error: E.bind(e4), warn: v.bind(e4), info: _.bind(e4), debug: T.bind(e4) };
            }, setLogTimestampVisible: function(e4) {
              n3 = e4;
            }, setCalleeNameVisible: function(e4) {
              a3 = e4;
            } }, n3 = true, a3 = true, f2 = (/* @__PURE__ */ new Date()).getTime(), "undefined" != typeof window && window.console && (p[o] = m(window.console.error), p[s2] = m(window.console.error), p[u] = m(window.console.warn), p[l] = m(window.console.info), p[c] = m(window.console.debug)), t3;
          }
          f.__dashjs_factory_name = "Debug";
          var d = a2.Z.getSingletonFactory(f);
          d.LOG_LEVEL_NONE = 0, d.LOG_LEVEL_FATAL = o, d.LOG_LEVEL_ERROR = s2, d.LOG_LEVEL_WARNING = u, d.LOG_LEVEL_INFO = l, d.LOG_LEVEL_DEBUG = c, a2.Z.updateSingletonFactory(f.__dashjs_factory_name, d), t2.Z = d;
        }, 5595: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(8825);
          function a2() {
            var e3 = {};
            function t3(t4, n4, r3) {
              var i2 = -1;
              return e3[t4] ? (e3[t4].some(function(e4, t5) {
                if (e4 && e4.callback === n4 && (!r3 || r3 === e4.scope))
                  return i2 = t5, true;
              }), i2) : i2;
            }
            var n3 = { on: function(n4, r3, i2) {
              var a3 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
              if (!n4)
                throw new Error("event type cannot be null or undefined");
              if (!r3 || "function" != typeof r3)
                throw new Error("listener must be a function: " + r3);
              var o2 = a3.priority || 0;
              if (!(t3(n4, r3, i2) >= 0)) {
                e3[n4] = e3[n4] || [];
                var s2 = { callback: r3, scope: i2, priority: o2 };
                i2 && i2.getStreamId && (s2.streamId = i2.getStreamId()), i2 && i2.getType && (s2.mediaType = i2.getType()), a3 && a3.mode && (s2.mode = a3.mode);
                var u = e3[n4].some(function(t4, r4) {
                  if (t4 && o2 > t4.priority)
                    return e3[n4].splice(r4, 0, s2), true;
                });
                u || e3[n4].push(s2);
              }
            }, off: function(n4, r3, i2) {
              if (n4 && r3 && e3[n4]) {
                var a3 = t3(n4, r3, i2);
                a3 < 0 || (e3[n4][a3] = null);
              }
            }, trigger: function(t4) {
              var n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
              if (t4 && e3[t4]) {
                if ((n4 = n4 || {}).hasOwnProperty("type"))
                  throw new Error("'type' is a reserved word for event dispatching");
                n4.type = t4, r3.streamId && (n4.streamId = r3.streamId), r3.mediaType && (n4.mediaType = r3.mediaType), e3[t4].filter(function(e4) {
                  return !(!e4 || r3.streamId && e4.streamId && e4.streamId !== r3.streamId || r3.mediaType && e4.mediaType && e4.mediaType !== r3.mediaType || r3.mode && e4.mode && e4.mode !== r3.mode || !e4.mode && r3.mode && r3.mode === i.Z.EVENT_MODE_ON_RECEIVE);
                }).forEach(function(e4) {
                  return e4 && e4.callback.call(e4.scope, n4);
                });
              }
            }, reset: function() {
              e3 = {};
            } };
            return n3;
          }
          a2.__dashjs_factory_name = "EventBus";
          var o = r2.Z.getSingletonFactory(a2);
          o.EVENT_PRIORITY_LOW = 0, o.EVENT_PRIORITY_HIGH = 5e3, r2.Z.updateSingletonFactory(a2.__dashjs_factory_name, o), t2.Z = o;
        }, 5448: function(e2, t2) {
          "use strict";
          var n2 = function() {
            var e3, t3 = [], n3 = {}, r2 = {};
            function i(e4, n4) {
              for (var r3 in t3) {
                var i2 = t3[r3];
                if (i2.context === e4 && i2.name === n4)
                  return i2.instance;
              }
              return null;
            }
            function a2(e4, t4) {
              return t4[e4];
            }
            function o(e4, t4, n4) {
              e4 in n4 && (n4[e4] = t4);
            }
            function s2(t4, n4, r3) {
              var i2, a3 = t4.__dashjs_factory_name, o2 = n4[a3];
              if (o2) {
                var s3 = o2.instance;
                if (!o2.override)
                  return s3.apply({ context: n4, factory: e3 }, r3);
                for (var u in i2 = t4.apply({ context: n4 }, r3), s3 = s3.apply({ context: n4, factory: e3, parent: i2 }, r3))
                  i2.hasOwnProperty(u) && (i2[u] = s3[u]);
              } else
                i2 = t4.apply({ context: n4 }, r3);
              return i2.getClassName = function() {
                return a3;
              }, i2;
            }
            return e3 = { extend: function(e4, t4, n4, r3) {
              !r3[e4] && t4 && (r3[e4] = { instance: t4, override: n4 });
            }, getSingletonInstance: i, setSingletonInstance: function(e4, n4, r3) {
              for (var i2 in t3) {
                var a3 = t3[i2];
                if (a3.context === e4 && a3.name === n4)
                  return void (t3[i2].instance = r3);
              }
              t3.push({ name: n4, context: e4, instance: r3 });
            }, deleteSingletonInstances: function(e4) {
              t3 = t3.filter(function(t4) {
                return t4.context !== e4;
              });
            }, getSingletonFactory: function(e4) {
              var r3 = a2(e4.__dashjs_factory_name, n3);
              return r3 || (r3 = function(n4) {
                var r4;
                return void 0 === n4 && (n4 = {}), { getInstance: function() {
                  return r4 || (r4 = i(n4, e4.__dashjs_factory_name)), r4 || (r4 = s2(e4, n4, arguments), t3.push({ name: e4.__dashjs_factory_name, context: n4, instance: r4 })), r4;
                } };
              }, n3[e4.__dashjs_factory_name] = r3), r3;
            }, getSingletonFactoryByName: function(e4) {
              return a2(e4, n3);
            }, updateSingletonFactory: function(e4, t4) {
              o(e4, t4, n3);
            }, getClassFactory: function(e4) {
              var t4 = a2(e4.__dashjs_factory_name, r2);
              return t4 || (t4 = function(t5) {
                return void 0 === t5 && (t5 = {}), { create: function() {
                  return s2(e4, t5, arguments);
                } };
              }, r2[e4.__dashjs_factory_name] = t4), t4;
            }, getClassFactoryByName: function(e4) {
              return a2(e4, r2);
            }, updateClassFactory: function(e4, t4) {
              o(e4, t4, r2);
            } }, e3;
          }();
          t2.Z = n2;
        }, 1264: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(703), a2 = n2(6398), o = n2(3393), s2 = n2(7855), u = n2(5595), l = n2(8512);
          function c(e3) {
            return c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, c(e3);
          }
          function f(e3, t3, n3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t3] = n3, e3;
          }
          function d() {
            var e3, t3, n3 = this.context, r3 = (0, u.Z)(n3).getInstance(), d2 = { "streaming.delay.liveDelay": l.Z.SETTING_UPDATED_LIVE_DELAY, "streaming.delay.liveDelayFragmentCount": l.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT, "streaming.liveCatchup.enabled": l.Z.SETTING_UPDATED_CATCHUP_ENABLED, "streaming.liveCatchup.playbackRate.min": l.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN, "streaming.liveCatchup.playbackRate.max": l.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX }, g2 = { debug: { logLevel: a2.Z.LOG_LEVEL_WARNING, dispatchEvent: false }, streaming: { abandonLoadTimeout: 1e4, wallclockTimeUpdateInterval: 100, manifestUpdateRetryInterval: 100, liveUpdateTimeThresholdInMilliseconds: 0, cacheInitSegments: false, applyServiceDescription: true, applyProducerReferenceTime: true, applyContentSteering: true, eventControllerRefreshDelay: 100, enableManifestDurationMismatchFix: true, parseInbandPrft: false, enableManifestTimescaleMismatchFix: false, capabilities: { filterUnsupportedEssentialProperties: true, useMediaCapabilitiesApi: false }, timeShiftBuffer: { calcFromSegmentTimeline: false, fallbackToSegmentTimeline: true }, metrics: { maxListDepth: 100 }, delay: { liveDelayFragmentCount: NaN, liveDelay: NaN, useSuggestedPresentationDelay: true }, protection: { keepProtectionMediaKeys: false, ignoreEmeEncryptedEvent: false, detectPlayreadyMessageFormat: true }, buffer: { enableSeekDecorrelationFix: false, fastSwitchEnabled: true, flushBufferAtTrackSwitch: false, reuseExistingSourceBuffers: true, bufferPruningInterval: 10, bufferToKeep: 20, bufferTimeAtTopQuality: 30, bufferTimeAtTopQualityLongForm: 60, initialBufferLevel: NaN, stableBufferTime: 12, longFormContentDurationThreshold: 600, stallThreshold: 0.3, useAppendWindow: true, setStallState: true, avoidCurrentTimeRangePruning: false, useChangeTypeForTrackSwitch: true, mediaSourceDurationInfinity: true, resetSourceBuffersForTrackSwitch: false }, gaps: { jumpGaps: true, jumpLargeGaps: true, smallGapLimit: 1.5, threshold: 0.3, enableSeekFix: true, enableStallFix: false, stallSeek: 0.1 }, utcSynchronization: { enabled: true, useManifestDateHeaderTimeSource: true, backgroundAttempts: 2, timeBetweenSyncAttempts: 30, maximumTimeBetweenSyncAttempts: 600, minimumTimeBetweenSyncAttempts: 2, timeBetweenSyncAttemptsAdjustmentFactor: 2, maximumAllowedDrift: 100, enableBackgroundSyncAfterSegmentDownloadError: true, defaultTimingSource: { scheme: "urn:mpeg:dash:utc:http-xsdate:2014", value: "https://time.akamai.com/?iso&ms" } }, scheduling: { defaultTimeout: 500, lowLatencyTimeout: 0, scheduleWhilePaused: true }, text: { defaultEnabled: true, dispatchForManualRendering: false, extendSegmentedCues: true, imsc: { displayForcedOnlyMode: false, enableRollUp: true }, webvtt: { customRenderingEnabled: false } }, liveCatchup: { maxDrift: NaN, playbackRate: { min: NaN, max: NaN }, playbackBufferMin: 0.5, enabled: null, mode: o.Z.LIVE_CATCHUP_MODE_DEFAULT }, lastBitrateCachingInfo: { enabled: true, ttl: 36e4 }, lastMediaSettingsCachingInfo: { enabled: true, ttl: 36e4 }, saveLastMediaSettingsForCurrentStreamingSession: true, cacheLoadThresholds: { video: 50, audio: 5 }, trackSwitchMode: { audio: o.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE, video: o.Z.TRACK_SWITCH_MODE_NEVER_REPLACE }, selectionModeForInitialTrack: o.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY, fragmentRequestTimeout: 2e4, fragmentRequestProgressTimeout: -1, manifestRequestTimeout: 1e4, retryIntervals: (e3 = {}, f(e3, s2.w.MPD_TYPE, 500), f(e3, s2.w.XLINK_EXPANSION_TYPE, 500), f(e3, s2.w.MEDIA_SEGMENT_TYPE, 1e3), f(e3, s2.w.INIT_SEGMENT_TYPE, 1e3), f(e3, s2.w.BITSTREAM_SWITCHING_SEGMENT_TYPE, 1e3), f(e3, s2.w.INDEX_SEGMENT_TYPE, 1e3), f(e3, s2.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE, 1e3), f(e3, s2.w.LICENSE, 1e3), f(e3, s2.w.OTHER_TYPE, 1e3), f(e3, "lowLatencyReductionFactor", 10), e3), retryAttempts: (t3 = {}, f(t3, s2.w.MPD_TYPE, 3), f(t3, s2.w.XLINK_EXPANSION_TYPE, 1), f(t3, s2.w.MEDIA_SEGMENT_TYPE, 3), f(t3, s2.w.INIT_SEGMENT_TYPE, 3), f(t3, s2.w.BITSTREAM_SWITCHING_SEGMENT_TYPE, 3), f(t3, s2.w.INDEX_SEGMENT_TYPE, 3), f(t3, s2.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE, 3), f(t3, s2.w.LICENSE, 3), f(t3, s2.w.OTHER_TYPE, 3), f(t3, "lowLatencyMultiplyFactor", 5), t3), abr: { movingAverageMethod: o.Z.MOVING_AVERAGE_SLIDING_WINDOW, ABRStrategy: o.Z.ABR_STRATEGY_DYNAMIC, additionalAbrRules: { insufficientBufferRule: true, switchHistoryRule: true, droppedFramesRule: true, abandonRequestsRule: true }, abrRulesParameters: { abandonRequestsRule: { graceTimeThreshold: 500, abandonMultiplier: 1.8, minLengthToAverage: 5 } }, bandwidthSafetyFactor: 0.9, useDefaultABRRules: true, useDeadTimeLatency: true, limitBitrateByPortal: false, usePixelRatioInLimitBitrateByPortal: false, maxBitrate: { audio: -1, video: -1 }, minBitrate: { audio: -1, video: -1 }, maxRepresentationRatio: { audio: 1, video: 1 }, initialBitrate: { audio: -1, video: -1 }, initialRepresentationRatio: { audio: -1, video: -1 }, autoSwitchBitrate: { audio: true, video: true }, fetchThroughputCalculationMode: o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING }, cmcd: { enabled: false, sid: null, cid: null, rtp: null, rtpSafetyFactor: 5, mode: o.Z.CMCD_MODE_QUERY, enabledKeys: ["br", "d", "ot", "tb", "bl", "dl", "mtp", "nor", "nrr", "su", "bs", "rtp", "cid", "pr", "sf", "sid", "st", "v"] }, cmsd: { enabled: false, abr: { applyMb: false, etpWeightRatio: 0 } } }, errors: { recoverAttempts: { mediaErrorDecode: 5 } } }, h = i.Z.clone(g2);
            function p(e4, t4, n4) {
              for (var a3 in e4)
                e4.hasOwnProperty(a3) && (t4.hasOwnProperty(a3) ? "object" !== c(e4[a3]) || e4[a3] instanceof Array || null === e4[a3] ? (t4[a3] = i.Z.clone(e4[a3]), d2[n4 + a3] && r3.trigger(d2[n4 + a3])) : p(e4[a3], t4[a3], n4.slice() + a3 + ".") : console.error("Settings parameter " + n4 + a3 + " is not supported"));
            }
            return { get: function() {
              return h;
            }, update: function(e4) {
              "object" === c(e4) && p(e4, h, "");
            }, reset: function() {
              h = i.Z.clone(g2);
            } };
          }
          d.__dashjs_factory_name = "Settings";
          var g = r2.Z.getSingletonFactory(d);
          t2.Z = g;
        }, 703: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(3875), i = n2.n(r2), a2 = n2(1067);
          function o(e3) {
            return o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, o(e3);
          }
          function s2(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var u = function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3);
            }
            var t3, n3;
            return t3 = e3, n3 = [{ key: "mixin", value: function(t4, n4, r3) {
              var i2, a3 = {};
              if (t4)
                for (var s3 in n4)
                  n4.hasOwnProperty(s3) && (i2 = n4[s3], s3 in t4 && (t4[s3] === i2 || s3 in a3 && a3[s3] === i2) || ("object" === o(t4[s3]) && null !== t4[s3] ? t4[s3] = e3.mixin(t4[s3], i2, r3) : t4[s3] = r3(i2)));
              return t4;
            } }, { key: "clone", value: function(t4) {
              if (!t4 || "object" !== o(t4))
                return t4;
              var n4;
              if (t4 instanceof Array) {
                n4 = [];
                for (var r3 = 0, i2 = t4.length; r3 < i2; ++r3)
                  r3 in t4 && n4.push(e3.clone(t4[r3]));
              } else
                n4 = {};
              return e3.mixin(n4, t4, e3.clone);
            } }, { key: "addAditionalQueryParameterToUrl", value: function(e4, t4) {
              try {
                if (!t4 || 0 === t4.length)
                  return e4;
                var n4 = new URL(e4);
                return t4.forEach(function(e5) {
                  e5.key && e5.value && n4.searchParams.set(e5.key, e5.value);
                }), n4.href;
              } catch (t5) {
                return e4;
              }
            } }, { key: "parseHttpHeaders", value: function(e4) {
              var t4 = {};
              if (!e4)
                return t4;
              for (var n4 = e4.trim().split("\r\n"), r3 = 0, i2 = n4.length; r3 < i2; r3++) {
                var a3 = n4[r3], o2 = a3.indexOf(": ");
                o2 > 0 && (t4[a3.substring(0, o2)] = a3.substring(o2 + 2));
              }
              return t4;
            } }, { key: "generateUuid", value: function() {
              var e4 = (/* @__PURE__ */ new Date()).getTime();
              return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(t4) {
                var n4 = (e4 + 16 * Math.random()) % 16 | 0;
                return e4 = Math.floor(e4 / 16), ("x" == t4 ? n4 : 3 & n4 | 8).toString(16);
              });
            } }, { key: "generateHashCode", value: function(e4) {
              var t4 = 0;
              if (0 === e4.length)
                return t4;
              for (var n4 = 0; n4 < e4.length; n4++)
                t4 = (t4 << 5) - t4 + e4.charCodeAt(n4), t4 |= 0;
              return t4;
            } }, { key: "getRelativeUrl", value: function(e4, t4) {
              try {
                var n4 = new URL(e4), r3 = new URL(t4);
                if (n4.protocol = r3.protocol, n4.origin !== r3.origin)
                  return t4;
                var a3 = i().relative(n4.pathname.substr(0, n4.pathname.lastIndexOf("/")), r3.pathname.substr(0, r3.pathname.lastIndexOf("/"))), o2 = 0 === a3.length ? 1 : 0;
                return a3 += r3.pathname.substr(r3.pathname.lastIndexOf("/") + o2, r3.pathname.length - 1), r3.pathname.length < a3.length ? r3.pathname : a3;
              } catch (e5) {
                return t4;
              }
            } }, { key: "parseUserAgent", value: function() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
              try {
                var t4 = null === e4 && "undefined" != typeof navigator ? navigator.userAgent.toLowerCase() : "";
                return (0, a2.UAParser)(t4);
              } catch (e5) {
                return {};
              }
            } }, { key: "stringHasProtocol", value: function(e4) {
              return /(http(s?)):\/\//i.test(e4);
            } }], null, n3 && s2(t3, n3), e3;
          }();
          t2.Z = u;
        }, 2032: function(e2, t2, n2) {
          "use strict";
          function r2() {
            return "4.7.4";
          }
          n2.d(t2, { e: function() {
            return r2;
          } });
        }, 2230: function(e2, t2) {
          "use strict";
          function n2(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var r2 = function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3);
            }
            var t3, r3;
            return t3 = e3, (r3 = [{ key: "extend", value: function(e4, t4) {
              if (e4) {
                var n3 = !!t4 && t4.override, r4 = !!t4 && t4.publicOnly;
                for (var i in e4)
                  !e4.hasOwnProperty(i) || this[i] && !n3 || r4 && -1 === e4[i].indexOf("public_") || (this[i] = e4[i]);
              }
            } }]) && n2(t3.prototype, r3), e3;
          }();
          t2.Z = r2;
        }, 4351: function(e2, t2, n2) {
          "use strict";
          function r2(e3) {
            return r2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, r2(e3);
          }
          function i(e3, t3) {
            return i = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, i(e3, t3);
          }
          function a2(e3, t3) {
            return !t3 || "object" !== r2(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function o(e3) {
            return o = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, o(e3);
          }
          var s2 = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && i(e4, t4);
            }(s3, e3);
            var t3, n3, r3 = (t3 = s3, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = o(t3);
              if (n3) {
                var i2 = o(this).constructor;
                e4 = Reflect.construct(r4, arguments, i2);
              } else
                e4 = r4.apply(this, arguments);
              return a2(this, e4);
            });
            function s3() {
              var e4;
              return function(e5, t4) {
                if (!(e5 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, s3), (e4 = r3.call(this)).ATTEMPT_BACKGROUND_SYNC = "attemptBackgroundSync", e4.BUFFERING_COMPLETED = "bufferingCompleted", e4.BUFFER_CLEARED = "bufferCleared", e4.BYTES_APPENDED_END_FRAGMENT = "bytesAppendedEndFragment", e4.BUFFER_REPLACEMENT_STARTED = "bufferReplacementStarted", e4.CHECK_FOR_EXISTENCE_COMPLETED = "checkForExistenceCompleted", e4.CMSD_STATIC_HEADER = "cmsdStaticHeader", e4.CURRENT_TRACK_CHANGED = "currentTrackChanged", e4.DATA_UPDATE_COMPLETED = "dataUpdateCompleted", e4.INBAND_EVENTS = "inbandEvents", e4.INITIAL_STREAM_SWITCH = "initialStreamSwitch", e4.INIT_FRAGMENT_LOADED = "initFragmentLoaded", e4.INIT_FRAGMENT_NEEDED = "initFragmentNeeded", e4.INTERNAL_MANIFEST_LOADED = "internalManifestLoaded", e4.ORIGINAL_MANIFEST_LOADED = "originalManifestLoaded", e4.LOADING_COMPLETED = "loadingCompleted", e4.LOADING_PROGRESS = "loadingProgress", e4.LOADING_DATA_PROGRESS = "loadingDataProgress", e4.LOADING_ABANDONED = "loadingAborted", e4.MANIFEST_UPDATED = "manifestUpdated", e4.MEDIA_FRAGMENT_LOADED = "mediaFragmentLoaded", e4.MEDIA_FRAGMENT_NEEDED = "mediaFragmentNeeded", e4.QUOTA_EXCEEDED = "quotaExceeded", e4.SEGMENT_LOCATION_BLACKLIST_ADD = "segmentLocationBlacklistAdd", e4.SEGMENT_LOCATION_BLACKLIST_CHANGED = "segmentLocationBlacklistChanged", e4.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD = "serviceLocationBlacklistAdd", e4.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED = "serviceLocationBlacklistChanged", e4.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD = "serviceLocationLocationBlacklistAdd", e4.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED = "serviceLocationLocationBlacklistChanged", e4.SET_FRAGMENTED_TEXT_AFTER_DISABLED = "setFragmentedTextAfterDisabled", e4.SET_NON_FRAGMENTED_TEXT = "setNonFragmentedText", e4.SOURCE_BUFFER_ERROR = "sourceBufferError", e4.STREAMS_COMPOSED = "streamsComposed", e4.STREAM_BUFFERING_COMPLETED = "streamBufferingCompleted", e4.STREAM_REQUESTING_COMPLETED = "streamRequestingCompleted", e4.TEXT_TRACKS_QUEUE_INITIALIZED = "textTracksQueueInitialized", e4.TIME_SYNCHRONIZATION_COMPLETED = "timeSynchronizationComplete", e4.UPDATE_TIME_SYNC_OFFSET = "updateTimeSyncOffset", e4.URL_RESOLUTION_FAILED = "urlResolutionFailed", e4.VIDEO_CHUNK_RECEIVED = "videoChunkReceived", e4.WALLCLOCK_TIME_UPDATED = "wallclockTimeUpdated", e4.XLINK_ELEMENT_LOADED = "xlinkElementLoaded", e4.XLINK_READY = "xlinkReady", e4.SEEK_TARGET = "seekTarget", e4.SETTING_UPDATED_LIVE_DELAY = "settingUpdatedLiveDelay", e4.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT = "settingUpdatedLiveDelayFragmentCount", e4.SETTING_UPDATED_CATCHUP_ENABLED = "settingUpdatedCatchupEnabled", e4.SETTING_UPDATED_PLAYBACK_RATE_MIN = "settingUpdatedPlaybackRateMin", e4.SETTING_UPDATED_PLAYBACK_RATE_MAX = "settingUpdatedPlaybackRateMax", e4;
            }
            return s3;
          }(n2(8342).Z);
          t2.Z = s2;
        }, 8512: function(e2, t2, n2) {
          "use strict";
          function r2(e3) {
            return r2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, r2(e3);
          }
          function i(e3, t3) {
            if (!(e3 instanceof t3))
              throw new TypeError("Cannot call a class as a function");
          }
          function a2(e3, t3) {
            return a2 = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, a2(e3, t3);
          }
          function o(e3, t3) {
            return !t3 || "object" !== r2(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function s2(e3) {
            return s2 = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, s2(e3);
          }
          var u = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && a2(e4, t4);
            }(u2, e3);
            var t3, n3, r3 = (t3 = u2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = s2(t3);
              if (n3) {
                var i2 = s2(this).constructor;
                e4 = Reflect.construct(r4, arguments, i2);
              } else
                e4 = r4.apply(this, arguments);
              return o(this, e4);
            });
            function u2() {
              return i(this, u2), r3.apply(this, arguments);
            }
            return u2;
          }(n2(4351).Z), l = new u();
          t2.Z = l;
        }, 8342: function(e2, t2) {
          "use strict";
          function n2(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var r2 = function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3);
            }
            var t3, r3;
            return t3 = e3, (r3 = [{ key: "extend", value: function(e4, t4) {
              if (e4) {
                var n3 = !!t4 && t4.override, r4 = !!t4 && t4.publicOnly;
                for (var i in e4)
                  !e4.hasOwnProperty(i) || this[i] && !n3 || r4 && -1 === e4[i].indexOf("public_") || (this[i] = e4[i]);
              }
            } }]) && n2(t3.prototype, r3), e3;
          }();
          t2.Z = r2;
        }, 9326: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(3186), i = n2(7855), a2 = n2(5448), o = n2(8825), s2 = n2(7387), u = n2(1553);
          function l(e3) {
            var t3, n3, a3, l2, c, f = (e3 = e3 || {}).eventBus, d = e3.debug, g = e3.urlUtils, h = e3.type, p = e3.streamInfo, m = e3.segmentsController, y = e3.timelineConverter, E = e3.baseURLController;
            function v() {
              return h;
            }
            function _() {
              a3 = null;
            }
            function T(e4, t4, n4) {
              var r3, i2, a4 = E.resolve(n4.path), o2 = {};
              return a4 && t4 !== a4.url && g.isRelative(t4) ? (r3 = a4.url, i2 = a4.serviceLocation, o2 = a4.queryParams, t4 && (r3 = g.resolve(t4, r3))) : r3 = t4, !g.isRelative(r3) && (e4.url = r3, e4.serviceLocation = i2, e4.queryParams = o2, true);
            }
            function S(e4, t4) {
              if (null == t4)
                return null;
              var n4 = new r2.Z(), a4 = t4.representation, o2 = a4.adaptation.period.mpd.manifest.Period_asArray[a4.adaptation.period.index].AdaptationSet_asArray[a4.adaptation.index].Representation_asArray[a4.index].bandwidth, u2 = t4.media;
              return u2 = (0, s2.vi)(u2, "Number", t4.replacementNumber), u2 = (0, s2.vi)(u2, "Time", t4.replacementTime), u2 = (0, s2.vi)(u2, "Bandwidth", o2), u2 = (0, s2.Aj)(u2, a4.id), u2 = (0, s2.eR)(u2), n4.mediaType = v(), n4.type = i.w.MEDIA_SEGMENT_TYPE, n4.range = t4.mediaRange, n4.startTime = t4.presentationStartTime, n4.mediaStartTime = t4.mediaStartTime, n4.duration = t4.duration, n4.timescale = a4.timescale, n4.availabilityStartTime = t4.availabilityStartTime, n4.availabilityEndTime = t4.availabilityEndTime, n4.availabilityTimeComplete = a4.availabilityTimeComplete, n4.wallStartTime = t4.wallStartTime, n4.quality = a4.index, n4.index = t4.index, n4.mediaInfo = e4, n4.adaptationIndex = a4.adaptation.index, n4.representationId = a4.id, T(n4, u2, a4) ? n4 : void 0;
            }
            function b(e4, t4, r3) {
              var i2 = null;
              if (!t4 || !t4.segmentInfoType)
                return i2;
              var o2 = m.getSegmentByTime(t4, r3);
              return o2 && (a3 = o2, n3.debug("Index for time " + r3 + " is " + o2.index), i2 = S(e4, o2)), i2;
            }
            function A(e4, t4, r3) {
              var i2 = null, o2 = m.getSegmentByIndex(t4, r3, a3 ? a3.mediaStartTime : -1);
              if (o2)
                i2 = S(e4, o2), a3 = o2;
              else {
                if (l2 && !c)
                  return n3.debug(v() + " No segment found at index: " + r3 + ". Wait for next loop"), null;
                c = true;
              }
              return i2;
            }
            function I() {
              n3.debug("Dynamic stream complete"), c = true;
            }
            return t3 = { getCurrentIndex: function() {
              return a3 ? a3.index : -1;
            }, getInitRequest: function(e4, t4) {
              return t4 ? function(e5, t5, n4) {
                var a4 = new r2.Z(), o2 = t5.adaptation.period, u2 = o2.start;
                if (a4.mediaType = n4, a4.type = i.w.INIT_SEGMENT_TYPE, a4.range = t5.range, a4.availabilityStartTime = y.calcAvailabilityStartTimeFromPresentationTime(u2, t5, l2), a4.availabilityEndTime = y.calcAvailabilityEndTimeFromPresentationTime(u2 + o2.duration, t5, l2), a4.quality = t5.index, a4.mediaInfo = e5, a4.representationId = t5.id, T(a4, t5.initialization, t5))
                  return a4.url = (0, s2.vi)(a4.url, "Bandwidth", t5.bandwidth), a4;
              }(e4, t4, v()) : null;
            }, getNextSegmentRequest: function(e4, t4) {
              return t4 && t4.segmentInfoType ? A(e4, t4, a3 ? a3.index + 1 : 0) : null;
            }, getNextSegmentRequestIdempotent: function(e4, t4) {
              var n4 = a3 ? a3.index + 1 : 0, r3 = m.getSegmentByIndex(t4, n4, a3 ? a3.mediaStartTime : -1);
              return r3 ? S(e4, r3) : null;
            }, getSegmentRequestForTime: b, getStreamId: function() {
              return p.id;
            }, getStreamInfo: function() {
              return p;
            }, getType: v, getValidTimeAheadOfTargetTime: function(e4, t4, n4, r3) {
              try {
                if (isNaN(e4) || !t4 || !n4)
                  return NaN;
                if (e4 < 0 && (e4 = 0), isNaN(r3) && (r3 = 0.5), b(t4, n4, e4))
                  return e4;
                if (n4.adaptation.period.start + n4.adaptation.period.duration < e4)
                  return NaN;
                for (var i2 = isFinite(n4.adaptation.period.duration) ? n4.adaptation.period.start + n4.adaptation.period.duration : e4 + 30, a4 = Math.min(e4 + r3, i2), o2 = NaN, s3 = null; a4 <= i2; ) {
                  var u2 = null;
                  if (a4 <= i2 && (u2 = b(t4, n4, a4)), u2) {
                    o2 = a4, s3 = u2;
                    break;
                  }
                  a4 += r3;
                }
                if (s3) {
                  var l3 = s3.startTime + s3.duration;
                  return e4 > s3.startTime && l3 - e4 > r3 ? e4 : !isNaN(s3.startTime) && e4 < s3.startTime && o2 > s3.startTime ? s3.startTime + 1e-3 : Math.min(l3 - r3, o2);
                }
                return o2;
              } catch (e5) {
                return NaN;
              }
            }, initialize: function(e4) {
              l2 = e4, c = false, m.initialize(e4);
            }, isLastSegmentRequested: function(e4, t4) {
              if (!e4 || !a3)
                return false;
              if (c)
                return true;
              if (!isFinite(e4.adaptation.period.duration))
                return false;
              if (a3.presentationStartTime + a3.duration > t4)
                return false;
              if (e4.mediaFinishedInformation && !isNaN(e4.mediaFinishedInformation.numberOfSegments) && !isNaN(a3.index) && a3.index >= e4.mediaFinishedInformation.numberOfSegments - 1) {
                if (!l2 || e4.segmentInfoType === u.Z.SEGMENT_TEMPLATE)
                  return true;
                if (l2 && e4.segmentInfoType === u.Z.SEGMENT_LIST && e4.adaptation.period.nextPeriodId)
                  return true;
              }
              return !!(l2 && e4.adaptation.period.nextPeriodId && e4.segmentInfoType === u.Z.SEGMENT_TIMELINE && e4.mediaFinishedInformation && !isNaN(e4.mediaFinishedInformation.mediaTimeOfLastSignaledSegment) && a3 && !isNaN(a3.mediaStartTime) && !isNaN(a3.duration) && a3.mediaStartTime + a3.duration >= e4.mediaFinishedInformation.mediaTimeOfLastSignaledSegment - 0.05);
            }, repeatSegmentRequest: function(e4, t4) {
              return t4 && t4.segmentInfoType ? A(e4, t4, a3 ? a3.index : 0) : null;
            }, reset: function() {
              _(), f.off(o.Z.DYNAMIC_TO_STATIC, I, t3);
            } }, n3 = d.getLogger(t3), _(), f.on(o.Z.DYNAMIC_TO_STATIC, I, t3), t3;
          }
          l.__dashjs_factory_name = "DashHandler", t2.Z = a2.Z.getClassFactory(l);
        }, 1553: function(e2, t2) {
          "use strict";
          function n2(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var r2 = new (function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.init();
            }
            var t3, r3;
            return t3 = e3, (r3 = [{ key: "init", value: function() {
              this.BASE_URL = "BaseURL", this.SEGMENT_BASE = "SegmentBase", this.SEGMENT_TEMPLATE = "SegmentTemplate", this.SEGMENT_LIST = "SegmentList", this.SEGMENT_URL = "SegmentURL", this.SEGMENT_TIMELINE = "SegmentTimeline", this.SEGMENT_PROFILES = "segmentProfiles", this.ADAPTATION_SET = "AdaptationSet", this.REPRESENTATION = "Representation", this.REPRESENTATION_INDEX = "RepresentationIndex", this.SUB_REPRESENTATION = "SubRepresentation", this.INITIALIZATION = "Initialization", this.INITIALIZATION_MINUS = "initialization", this.MPD = "MPD", this.PERIOD = "Period", this.ASSET_IDENTIFIER = "AssetIdentifier", this.EVENT_STREAM = "EventStream", this.ID = "id", this.PROFILES = "profiles", this.SERVICE_LOCATION = "serviceLocation", this.RANGE = "range", this.INDEX = "index", this.MEDIA = "media", this.BYTE_RANGE = "byteRange", this.INDEX_RANGE = "indexRange", this.MEDIA_RANGE = "mediaRange", this.VALUE = "value", this.CONTENT_TYPE = "contentType", this.MIME_TYPE = "mimeType", this.BITSTREAM_SWITCHING = "BitstreamSwitching", this.BITSTREAM_SWITCHING_MINUS = "bitstreamSwitching", this.CODECS = "codecs", this.DEPENDENCY_ID = "dependencyId", this.MEDIA_STREAM_STRUCTURE_ID = "mediaStreamStructureId", this.METRICS = "Metrics", this.METRICS_MINUS = "metrics", this.REPORTING = "Reporting", this.WIDTH = "width", this.HEIGHT = "height", this.SAR = "sar", this.FRAMERATE = "frameRate", this.AUDIO_SAMPLING_RATE = "audioSamplingRate", this.MAXIMUM_SAP_PERIOD = "maximumSAPPeriod", this.START_WITH_SAP = "startWithSAP", this.MAX_PLAYOUT_RATE = "maxPlayoutRate", this.CODING_DEPENDENCY = "codingDependency", this.SCAN_TYPE = "scanType", this.FRAME_PACKING = "FramePacking", this.AUDIO_CHANNEL_CONFIGURATION = "AudioChannelConfiguration", this.CONTENT_PROTECTION = "ContentProtection", this.ESSENTIAL_PROPERTY = "EssentialProperty", this.ESSENTIAL_PROPERTY_ASARRAY = "EssentialProperty_asArray", this.SUPPLEMENTAL_PROPERTY = "SupplementalProperty", this.SUPPLEMENTAL_PROPERTY_ASARRAY = "SupplementalProperty_asArray", this.INBAND_EVENT_STREAM = "InbandEventStream", this.PRODUCER_REFERENCE_TIME = "ProducerReferenceTime", this.INBAND = "inband", this.TYPE = "type", this.ACCESSIBILITY = "Accessibility", this.ROLE = "Role", this.RATING = "Rating", this.CONTENT_COMPONENT = "ContentComponent", this.SUBSET = "Subset", this.LANG = "lang", this.VIEWPOINT = "Viewpoint", this.VIEWPOINT_ASARRAY = "Viewpoint_asArray", this.ROLE_ASARRAY = "Role_asArray", this.REPRESENTATION_ASARRAY = "Representation_asArray", this.PRODUCERREFERENCETIME_ASARRAY = "ProducerReferenceTime_asArray", this.ACCESSIBILITY_ASARRAY = "Accessibility_asArray", this.AUDIOCHANNELCONFIGURATION_ASARRAY = "AudioChannelConfiguration_asArray", this.CONTENTPROTECTION_ASARRAY = "ContentProtection_asArray", this.MAIN = "main", this.DYNAMIC = "dynamic", this.STATIC = "static", this.MEDIA_PRESENTATION_DURATION = "mediaPresentationDuration", this.MINIMUM_UPDATE_PERIOD = "minimumUpdatePeriod", this.CODEC_PRIVATE_DATA = "codecPrivateData", this.BANDWITH = "bandwidth", this.SOURCE_URL = "sourceURL", this.TIMESCALE = "timescale", this.DURATION = "duration", this.START_NUMBER = "startNumber", this.PRESENTATION_TIME_OFFSET = "presentationTimeOffset", this.AVAILABILITY_START_TIME = "availabilityStartTime", this.AVAILABILITY_END_TIME = "availabilityEndTime", this.TIMESHIFT_BUFFER_DEPTH = "timeShiftBufferDepth", this.MAX_SEGMENT_DURATION = "maxSegmentDuration", this.PRESENTATION_TIME = "presentationTime", this.MIN_BUFFER_TIME = "minBufferTime", this.MAX_SUBSEGMENT_DURATION = "maxSubsegmentDuration", this.START = "start", this.AVAILABILITY_TIME_OFFSET = "availabilityTimeOffset", this.AVAILABILITY_TIME_COMPLETE = "availabilityTimeComplete", this.CENC_DEFAULT_KID = "cenc:default_KID", this.DVB_PRIORITY = "dvb:priority", this.DVB_WEIGHT = "dvb:weight", this.DVB_URL = "dvb:url", this.DVB_MIMETYPE = "dvb:mimeType", this.DVB_FONTFAMILY = "dvb:fontFamily", this.SUGGESTED_PRESENTATION_DELAY = "suggestedPresentationDelay", this.SERVICE_DESCRIPTION = "ServiceDescription", this.SERVICE_DESCRIPTION_SCOPE = "Scope", this.SERVICE_DESCRIPTION_LATENCY = "Latency", this.SERVICE_DESCRIPTION_PLAYBACK_RATE = "PlaybackRate", this.SERVICE_DESCRIPTION_OPERATING_QUALITY = "OperatingQuality", this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH = "OperatingBandwidth", this.PATCH_LOCATION = "PatchLocation", this.PATCH_LOCATION_AS_ARRAY = "PatchLocation_asArray", this.LOCATION = "Location", this.LOCATION_AS_ARRAY = "Location_asArray", this.PUBLISH_TIME = "publishTime", this.ORIGINAL_PUBLISH_TIME = "originalPublishTime", this.ORIGINAL_MPD_ID = "mpdId", this.WALL_CLOCK_TIME = "wallClockTime", this.PRESENTATION_TIME = "presentationTime", this.LABEL = "Label", this.GROUP_LABEL = "GroupLabel", this.CONTENT_STEERING = "ContentSteering", this.CONTENT_STEERING_AS_ARRAY = "ContentSteering_asArray", this.DEFAULT_SERVICE_LOCATION = "defaultServiceLocation", this.QUERY_BEFORE_START = "queryBeforeStart", this.CLIENT_REQUIREMENT = "clientRequirement", this.TTL = "ttl", this.CONTENT_STEERING_RESPONSE = { VERSION: "VERSION", TTL: "TTL", RELOAD_URI: "RELOAD-URI", PATHWAY_PRIORITY: "PATHWAY-PRIORITY", PATHWAY_CLONES: "PATHWAY-CLONES", BASE_ID: "BASE-ID", ID: "ID", URI_REPLACEMENT: "URI-REPLACEMENT", HOST: "HOST", PARAMS: "PARAMS" }, this.PRODUCER_REFERENCE_TIME_TYPE = { ENCODER: "encoder", CAPTURED: "captured", APPLICATION: "application" }, this.SEGMENT_ALIGNMENT = "segmentAlignment", this.SUB_SEGMENT_ALIGNMENT = "subsegmentAlignment";
            } }]) && n2(t3.prototype, r3), e3;
          }())();
          t2.Z = r2;
        }, 7802: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(1724), a2 = n2(3636), o = n2(1736), s2 = n2(5246);
          function u(e3) {
            e3 = e3 || {};
            var t3, n3, r3 = this.context, u2 = e3.dashConstants, l2 = e3.type, c = e3.segmentBaseController;
            function f(e4) {
              return e4 ? e4.segments ? n3[u2.SEGMENT_BASE] : n3[e4.segmentInfoType] : null;
            }
            return t3 = { initialize: function(t4) {
              n3[u2.SEGMENT_TIMELINE] = (0, i.Z)(r3).create(e3, t4), n3[u2.SEGMENT_TEMPLATE] = (0, a2.Z)(r3).create(e3, t4), n3[u2.SEGMENT_LIST] = (0, o.Z)(r3).create(e3, t4), n3[u2.SEGMENT_BASE] = (0, s2.Z)(r3).create(e3, t4);
            }, updateInitData: function(e4, t4) {
              return t4 ? Promise.resolve() : c.getSegmentBaseInitSegment({ representation: e4, mediaType: l2 });
            }, updateSegmentData: function(e4, t4) {
              return t4 ? Promise.resolve() : c.getSegmentList({ mimeType: e4.mimeType, representation: e4, mediaType: l2 });
            }, getSegmentByIndex: function(e4, t4, n4) {
              var r4 = f(e4);
              return r4 ? r4.getSegmentByIndex(e4, t4, n4) : null;
            }, getSegmentByTime: function(e4, t4) {
              var n4 = f(e4);
              return n4 ? n4.getSegmentByTime(e4, t4) : null;
            }, getMediaFinishedInformation: function(e4) {
              var t4 = f(e4);
              return t4 ? t4.getMediaFinishedInformation(e4) : { numberOfSegments: 0, mediaTimeOfLastSignaledSegment: NaN };
            } }, n3 = {}, t3;
          }
          u.__dashjs_factory_name = "SegmentsController";
          var l = r2.Z.getClassFactory(u);
          t2.Z = l;
        }, 1736: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(3393), a2 = n2(7387);
          function o(e3, t3) {
            var n3 = (e3 = e3 || {}).timelineConverter;
            function r3() {
              if (!n3 || !n3.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))
                throw new Error(i.Z.MISSING_CONFIG_ERROR);
            }
            function o2(e4, i2) {
              if (r3(), !e4)
                return null;
              var o3 = e4.adaptation.period.mpd.manifest.Period_asArray[e4.adaptation.period.index].AdaptationSet_asArray[e4.adaptation.index].Representation_asArray[e4.index].SegmentList, s3 = o3.SegmentURL_asArray.length, u = e4 && !isNaN(e4.startNumber) ? e4.startNumber : 1, l = Math.max(u - 1, 0), c = Math.max(i2 - l, 0), f = null;
              if (c < s3) {
                var d = o3.SegmentURL_asArray[c];
                (f = (0, a2.NF)(n3, t3, e4, i2)) && (f.replacementTime = (u + i2 - 1) * e4.segmentDuration, f.media = d.media ? d.media : "", f.mediaRange = d.mediaRange, f.indexRange = d.indexRange);
              }
              return f;
            }
            return { getSegmentByIndex: o2, getSegmentByTime: function(e4, t4) {
              if (r3(), !e4)
                return null;
              var i2 = e4.segmentDuration;
              if (isNaN(i2))
                return null;
              var a3 = n3.calcPeriodRelativeTimeFromMpdRelativeTime(e4, t4);
              return o2(e4, Math.floor(a3 / i2));
            }, getMediaFinishedInformation: function(e4) {
              var t4 = { numberOfSegments: 0, mediaTimeOfLastSignaledSegment: NaN };
              if (!e4)
                return t4;
              var n4 = e4.adaptation.period.mpd.manifest.Period_asArray[e4.adaptation.period.index].AdaptationSet_asArray[e4.adaptation.index].Representation_asArray[e4.index].SegmentList, r4 = e4 && !isNaN(e4.startNumber) ? e4.startNumber : 1, i2 = Math.max(r4 - 1, 0);
              return t4.numberOfSegments = i2 + n4.SegmentURL_asArray.length, t4;
            } };
          }
          o.__dashjs_factory_name = "ListSegmentsGetter";
          var s2 = r2.Z.getClassFactory(o);
          t2.Z = s2;
        }, 5246: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(3393);
          function a2(e3) {
            var t3 = (e3 = e3 || {}).timelineConverter;
            function n3() {
              if (!t3 || !t3.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))
                throw new Error(i.Z.MISSING_CONFIG_ERROR);
            }
            function r3(e4, t4) {
              if (n3(), !e4)
                return null;
              var r4, i2 = e4.segments ? e4.segments.length : -1;
              if (t4 < i2 && (r4 = e4.segments[t4]) && r4.index === t4)
                return r4;
              for (var a3 = 0; a3 < i2; a3++)
                if ((r4 = e4.segments[a3]) && r4.index === t4)
                  return r4;
              return null;
            }
            return { getSegmentByIndex: r3, getSegmentByTime: function(e4, t4) {
              n3();
              var i2 = function(e5, t5) {
                if (!e5)
                  return -1;
                var n4, r4, i3, a3, o2, s2 = e5.segments, u = s2 ? s2.length : null, l = -1;
                if (s2 && u > 0) {
                  for (o2 = 0; o2 < u; o2++)
                    if (i3 = (r4 = s2[o2]).presentationStartTime, t5 + (n4 = (a3 = r4.duration) / 2) >= i3 && t5 - n4 < i3 + a3) {
                      l = r4.index;
                      break;
                    }
                }
                return l;
              }(e4, t4);
              return r3(e4, i2);
            }, getMediaFinishedInformation: function(e4) {
              var t4 = { numberOfSegments: 0, mediaTimeOfLastSignaledSegment: NaN };
              return e4 && e4.segments ? (t4.numberOfSegments = e4.segments.length, t4) : t4;
            } };
          }
          a2.__dashjs_factory_name = "SegmentBaseGetter";
          var o = r2.Z.getClassFactory(a2);
          t2.Z = o;
        }, 7387: function(e2, t2, n2) {
          "use strict";
          n2.d(t2, { Aj: function() {
            return o;
          }, NF: function() {
            return c;
          }, TJ: function() {
            return f;
          }, eR: function() {
            return a2;
          }, vi: function() {
            return s2;
          } });
          var r2 = n2(2011);
          function i(e3, t3) {
            for (; e3.length < t3; )
              e3 = "0" + e3;
            return e3;
          }
          function a2(e3) {
            return e3 ? e3.split("$$").join("$") : e3;
          }
          function o(e3, t3) {
            if (!t3 || !e3 || -1 === e3.indexOf("$RepresentationID$"))
              return e3;
            var n3 = t3.toString();
            return e3.split("$RepresentationID$").join(n3);
          }
          function s2(e3, t3, n3) {
            var r3, a3, o2, s3, u2, l2, c2 = t3.length, f2 = "%0".length;
            if (!e3)
              return e3;
            for (; ; ) {
              if ((r3 = e3.indexOf("$" + t3)) < 0)
                return e3;
              if ((a3 = e3.indexOf("$", r3 + c2)) < 0)
                return e3;
              if ((o2 = e3.indexOf("%0", r3 + c2)) > r3 && o2 < a3)
                switch (s3 = e3.charAt(a3 - 1), u2 = parseInt(e3.substring(o2 + f2, a3 - 1), 10), s3) {
                  case "d":
                  case "i":
                  case "u":
                    l2 = i(n3.toString(), u2);
                    break;
                  case "x":
                    l2 = i(n3.toString(16), u2);
                    break;
                  case "X":
                    l2 = i(n3.toString(16), u2).toUpperCase();
                    break;
                  case "o":
                    l2 = i(n3.toString(8), u2);
                    break;
                  default:
                    return e3;
                }
              else
                l2 = n3;
              e3 = e3.substring(0, r3) + l2 + e3.substring(a3 + 1);
            }
          }
          function u(e3, t3, n3, i2, a3, o2, s3, u2) {
            var l2, c2 = new r2.Z();
            return c2.representation = e3, c2.duration = t3, c2.presentationStartTime = n3, c2.mediaStartTime = i2, c2.availabilityStartTime = a3.calcAvailabilityStartTimeFromPresentationTime(o2, e3, s3), c2.availabilityEndTime = a3.calcAvailabilityEndTimeFromPresentationTime(o2 + t3, e3, s3), c2.wallStartTime = a3.calcWallTimeForSegment(c2, s3), c2.replacementNumber = (l2 = u2, c2.representation.startNumber + l2), c2.index = u2, c2;
          }
          function l(e3, t3, n3, r3) {
            var i2 = t3.adaptation.period;
            if (isFinite(i2.duration) && i2.start + i2.duration <= n3.presentationStartTime)
              return false;
            if (r3) {
              if ("INF" === t3.availabilityTimeOffset)
                return true;
              var a3 = e3.getClientReferenceTime();
              return n3.availabilityStartTime.getTime() <= a3 && (!isFinite(n3.availabilityEndTime) || n3.availabilityEndTime.getTime() >= a3);
            }
            return true;
          }
          function c(e3, t3, n3, r3) {
            var i2, a3, o2;
            i2 = n3.segmentDuration, isNaN(i2) && (i2 = n3.adaptation.period.duration), a3 = parseFloat((n3.adaptation.period.start + r3 * i2).toFixed(5)), o2 = parseFloat((a3 + i2).toFixed(5));
            var s3 = u(n3, i2, a3, e3.calcMediaTimeFromPresentationTime(a3, n3), e3, o2, t3, r3);
            return l(e3, n3, s3, t3) ? s3 : null;
          }
          function f(e3, t3, n3, r3, i2, a3, o2, c2, f2, d) {
            var g, h, p = r3 / a3, m = i2 / a3;
            return g = e3.calcPresentationTimeFromMediaTime(p, n3), l(e3, n3, h = u(n3, m, g, p, e3, g + m, t3, f2), t3) ? (h.replacementTime = d || r3, o2 = s2(o2, "Number", h.replacementNumber), o2 = s2(o2, "Time", h.replacementTime), h.media = o2, h.mediaRange = c2, h) : null;
          }
        }, 3636: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(3393), a2 = n2(7387);
          function o(e3, t3) {
            var n3 = (e3 = e3 || {}).timelineConverter;
            function r3() {
              if (!n3 || !n3.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))
                throw new Error(i.Z.MISSING_CONFIG_ERROR);
            }
            function o2(e4, i2) {
              if (r3(), !e4)
                return null;
              var o3 = e4.adaptation.period.mpd.manifest.Period_asArray[e4.adaptation.period.index].AdaptationSet_asArray[e4.adaptation.index].Representation_asArray[e4.index].SegmentTemplate;
              i2 = Math.max(i2, 0);
              var s3 = (0, a2.NF)(n3, t3, e4, i2);
              if (s3) {
                s3.replacementTime = Math.round((i2 - 1) * e4.segmentDuration * e4.timescale, 10);
                var u = o3.media;
                u = (0, a2.vi)(u, "Number", s3.replacementNumber), u = (0, a2.vi)(u, "Time", s3.replacementTime), s3.media = u;
              }
              return s3;
            }
            return { getSegmentByIndex: o2, getSegmentByTime: function(e4, t4) {
              if (r3(), !e4)
                return null;
              var i2 = e4.segmentDuration;
              if (isNaN(i2))
                return null;
              var a3 = n3.calcPeriodRelativeTimeFromMpdRelativeTime(e4, t4);
              return o2(e4, Math.floor(a3 / i2));
            }, getMediaFinishedInformation: function(e4) {
              var t4 = { numberOfSegments: 0, mediaTimeOfLastSignaledSegment: NaN };
              if (!e4)
                return t4;
              var n4 = e4.segmentDuration;
              return isNaN(n4) ? t4.numberOfSegments = 1 : t4.numberOfSegments = Math.ceil(e4.adaptation.period.duration / n4), t4;
            } };
          }
          o.__dashjs_factory_name = "TemplateSegmentsGetter";
          var s2 = r2.Z.getClassFactory(o);
          t2.Z = s2;
        }, 1724: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(3393), a2 = n2(7387);
          function o(e3, t3) {
            var n3 = (e3 = e3 || {}).timelineConverter, r3 = e3.dashMetrics;
            function o2() {
              if (!n3)
                throw new Error(i.Z.MISSING_CONFIG_ERROR);
            }
            function s3(e4, t4) {
              var n4, r4, i2, a3, o3, s4, l, c = e4.adaptation.period.mpd.manifest.Period_asArray[e4.adaptation.period.index].AdaptationSet_asArray[e4.adaptation.index].Representation_asArray[e4.index].SegmentTemplate || e4.adaptation.period.mpd.manifest.Period_asArray[e4.adaptation.period.index].AdaptationSet_asArray[e4.adaptation.index].Representation_asArray[e4.index].SegmentList, f = c.SegmentTimeline, d = c.SegmentURL_asArray, g = 0, h = -1;
              l = e4.timescale;
              var p = false;
              for (i2 = 0, a3 = (n4 = f.S_asArray).length; i2 < a3 && !p; i2++)
                for (s4 = 0, (r4 = n4[i2]).hasOwnProperty("r") && (s4 = r4.r), r4.hasOwnProperty("t") && (g = r4.t), s4 < 0 && (s4 = u(e4, n4[i2 + 1], r4, l, g / l)), o3 = 0; o3 <= s4 && !p; o3++)
                  (p = t4(g, c, d, r4, l, ++h, i2)) && (e4.segmentDuration = r4.d / l), g += r4.d;
            }
            function u(e4, t4, i2, a3, o3) {
              var s4;
              if (t4 && t4.hasOwnProperty("t"))
                s4 = t4.t / a3;
              else
                try {
                  var u2 = 0;
                  if (isNaN(e4.adaptation.period.start) || isNaN(e4.adaptation.period.duration) || !isFinite(e4.adaptation.period.duration)) {
                    var l = r3.getCurrentDVRInfo();
                    u2 = isNaN(l.end) ? 0 : l.end;
                  } else
                    u2 = e4.adaptation.period.start + e4.adaptation.period.duration;
                  s4 = n3.calcMediaTimeFromPresentationTime(u2, e4), e4.segmentDuration = i2.d / a3;
                } catch (e5) {
                  s4 = 0;
                }
              return Math.max(Math.ceil((s4 - o3) / (i2.d / a3)) - 1, 0);
            }
            return { getSegmentByIndex: function(e4, r4, i2) {
              if (o2(), !e4)
                return null;
              var u2 = null, l = false;
              return s3(e4, function(r5, o3, s4, c, f, d, g) {
                if (l || i2 < 0) {
                  var h = o3.media, p = c.mediaRange;
                  return s4 && (h = s4[g].media || "", p = s4[g].mediaRange), u2 = (0, a2.TJ)(n3, t3, e4, r5, c.d, f, h, p, d, c.tManifest), true;
                }
                return r5 >= i2 * f - 0.5 * c.d && (l = true), false;
              }), u2;
            }, getSegmentByTime: function(e4, r4) {
              if (o2(), !e4)
                return null;
              void 0 === r4 && (r4 = null);
              var i2 = null, u2 = n3.calcMediaTimeFromPresentationTime(r4, e4);
              return s3(e4, function(r5, o3, s4, l, c, f, d) {
                var g = parseFloat((u2 * c).toPrecision(15));
                if (g < r5 + l.d && g >= r5) {
                  var h = o3.media, p = l.mediaRange;
                  return s4 && (h = s4[d].media || "", p = s4[d].mediaRange), i2 = (0, a2.TJ)(n3, t3, e4, r5, l.d, c, h, p, f, l.tManifest), true;
                }
                return false;
              }), i2;
            }, getMediaFinishedInformation: function(e4) {
              if (!e4)
                return 0;
              var t4, n4, r4, i2, a3, o3, s4, l = (e4.adaptation.period.mpd.manifest.Period_asArray[e4.adaptation.period.index].AdaptationSet_asArray[e4.adaptation.index].Representation_asArray[e4.index].SegmentTemplate || e4.adaptation.period.mpd.manifest.Period_asArray[e4.adaptation.period.index].AdaptationSet_asArray[e4.adaptation.index].Representation_asArray[e4.index].SegmentList).SegmentTimeline, c = 0, f = 0, d = 0;
              for (s4 = e4.timescale, i2 = (t4 = l.S_asArray).length, r4 = 0; r4 < i2; r4++)
                for (o3 = 0, (n4 = t4[r4]).hasOwnProperty("r") && (o3 = n4.r), n4.hasOwnProperty("t") && (f = (c = n4.t) / s4), o3 < 0 && (o3 = u(e4, t4[r4 + 1], n4, s4, f)), a3 = 0; a3 <= o3; a3++)
                  d++, f = (c += n4.d) / s4;
              return { numberOfSegments: d, mediaTimeOfLastSignaledSegment: f };
            } };
          }
          o.__dashjs_factory_name = "TimelineSegmentsGetter";
          var s2 = r2.Z.getClassFactory(o);
          t2.Z = s2;
        }, 2011: function(e2, t2) {
          "use strict";
          t2.Z = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.indexRange = null, this.index = null, this.mediaRange = null, this.media = null, this.duration = NaN, this.replacementTime = null, this.replacementNumber = NaN, this.mediaStartTime = NaN, this.presentationStartTime = NaN, this.availabilityStartTime = NaN, this.availabilityEndTime = NaN, this.wallStartTime = NaN, this.representation = null;
          };
        }, 2610: function(e2, t2) {
          "use strict";
          t2.Z = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.schemeIdUri = "", this.value = "";
          };
        }, 1139: function(e2, t2, n2) {
          "use strict";
          n2.d(t2, { Z: function() {
            return $a;
          } });
          var r2 = n2(452), i = n2.n(r2), a2 = n2(3393), o = n2(1553), s2 = n2(3860), u = n2(5595), l = n2(8512), c = n2(5448), f = n2(6398), d = n2(8825);
          function g() {
            var e3, t3, n3, r3, i2, o2, c2, g2, h2, p2, m2, y2, E2, v2, _2, T2, S2, b2, A2, I2, R2, w2, N2, C2, D2, O2 = this.context, M2 = (0, u.Z)(O2).getInstance();
            function P2() {
              k2(), v2 = false, p2 = 0, m2 = 0, S2 = 0, N2 = false, b2 = true, A2 = false, C2 = false, I2 = NaN, T2 = NaN, c2 && (M2.off(l.Z.DATA_UPDATE_COMPLETED, J2, e3), M2.off(l.Z.LOADING_PROGRESS, Ee2, e3), M2.off(l.Z.MANIFEST_UPDATED, Se2, e3), M2.off(l.Z.STREAMS_COMPOSED, be2, e3), M2.off(d.Z.PLAYBACK_ENDED, pe2, e3), M2.off(d.Z.STREAM_INITIALIZING, _e2, e3), M2.off(d.Z.REPRESENTATION_SWITCH, Te2, e3), M2.off(d.Z.BUFFER_LEVEL_STATE_CHANGED, te2, e3), Q2(), c2.removeEventListener("canplay", $2), c2.removeEventListener("canplaythrough", ee2), c2.removeEventListener("play", ne2), c2.removeEventListener("waiting", re2), c2.removeEventListener("playing", ie2), c2.removeEventListener("pause", ae2), c2.removeEventListener("error", me2), c2.removeEventListener("seeking", oe2), c2.removeEventListener("seeked", se2), c2.removeEventListener("timeupdate", ue2), c2.removeEventListener("progress", le2), c2.removeEventListener("ratechange", ce2), c2.removeEventListener("loadedmetadata", fe2), c2.removeEventListener("loadeddata", de2), c2.removeEventListener("stalled", ve2), c2.removeEventListener("ended", ge2), c2.removeEventListener("volumechange", he2)), h2 = null, c2 = null, y2 = null, E2 = null;
            }
            function L2() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
              return parseFloat((F2(e4) - G2()).toFixed(5));
            }
            function F2(e4) {
              var t4 = e4 || y2;
              return t4.start + t4.duration;
            }
            function x2() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
              y2 && c2 && c2.getElement() ? (e4 && E2 && B2(G2()), c2.play()) : v2 = true;
            }
            function k2() {
              y2 && c2 && c2.pause();
            }
            function U2(e4) {
              var n4 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], r4 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], i3 = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
              if (y2 && c2 && c2.getElement()) {
                var a3 = isNaN(I2) ? c2.getTime() : I2;
                e4 !== a3 && ((R2 = true === r4) || (I2 = e4), t3.info("Requesting seek to time: " + e4 + (R2 ? " (internal)" : "")), E2 && i3 && B2(e4), c2.setCurrentTime(e4, n4));
              }
            }
            function Z2() {
              if (y2 && c2 && E2) {
                var e4 = n3 && n3.hasVideoTrack() ? a2.Z.VIDEO : a2.Z.AUDIO, t4 = i2.getCurrentDVRInfo(e4);
                return t4 && t4.range ? t4.range.end : 0;
              }
            }
            function B2(e4) {
              var t4 = new Date(g2.getClientReferenceTime()), n4 = o2.getRegularPeriods()[0], r4 = g2.calcPresentationTimeFromWallTime(t4, n4);
              p2 = r4 - e4;
            }
            function G2() {
              return y2 && c2 ? c2.getTime() : null;
            }
            function q2() {
              return y2 && c2 ? c2.isPaused() : null;
            }
            function Y2() {
              return y2 && c2 ? c2.isSeeking() : null;
            }
            function j2() {
              return y2 && c2 ? c2.isStalled() : null;
            }
            function H2() {
              return y2 && c2 ? c2.getPlaybackRate() : null;
            }
            function V2() {
              return y2 && c2 ? c2.getEnded() : null;
            }
            function K2() {
              return E2;
            }
            function z2() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
              if (!q2() && E2 && 0 !== c2.getReadyState() && !Y2() && !N2) {
                e4 || (e4 = n3.hasVideoTrack() ? a2.Z.VIDEO : a2.Z.AUDIO);
                var r4 = G2(), i3 = W2(r4, e4), o3 = !isNaN(i3) && i3 !== r4;
                o3 && !Y2() && (j2() || w2 || 1 === c2.getReadyState()) && (t3.debug("UpdateCurrentTime: Seek to actual time: ".concat(i3, " from currentTime: ").concat(r4)), U2(i3, false, false));
              }
            }
            function W2(e4, t4) {
              var n4 = i2.getCurrentDVRInfo(t4), r4 = n4 ? n4.range : null;
              return r4 ? e4 > r4.end ? Math.max(r4.end - p2, r4.start) : e4 > 0 && e4 + 0.25 < r4.start && Math.abs(e4 - r4.start) < 31536e4 ? A2 ? Math.max(r4.end - p2, r4.start) : r4.start : e4 : NaN;
            }
            function X2() {
              null === h2 && (h2 = setInterval(function() {
                !function() {
                  if (M2.trigger(l.Z.WALLCLOCK_TIME_UPDATED, { isDynamic: E2, time: /* @__PURE__ */ new Date() }), K2()) {
                    var e4 = Date.now();
                    (isNaN(T2) || e4 > T2 + D2.get().streaming.liveUpdateTimeThresholdInMilliseconds) && (n3.addDVRMetric(), q2() ? function() {
                      var e5 = Date.now();
                      (!_2 || e5 > _2 + 500) && (_2 = e5, ue2());
                    }() : z2(), T2 = e4);
                  }
                }();
              }, D2.get().streaming.wallclockTimeUpdateInterval));
            }
            function Q2() {
              clearInterval(h2), h2 = null;
            }
            function J2(e4) {
              var t4 = o2.convertRepresentationToRepresentationInfo(e4.currentRepresentation), n4 = t4 ? t4.mediaInfo.streamInfo : null;
              null !== n4 && y2.id === n4.id && (y2 = n4);
            }
            function $2() {
              M2.trigger(l.Z.CAN_PLAY);
            }
            function ee2() {
              M2.trigger(l.Z.CAN_PLAY_THROUGH);
            }
            function te2(e4) {
              e4.streamId === n3.getActiveStreamInfo().id && (w2 = e4.state === s2.Z.BUFFER_EMPTY, D2.get().streaming.buffer.setStallState && c2.setStallState(e4.mediaType, e4.state === s2.Z.BUFFER_EMPTY));
            }
            function ne2() {
              t3.info("Native video element event: play"), z2(), X2(), M2.trigger(l.Z.PLAYBACK_STARTED, { startTime: G2() });
            }
            function re2() {
              t3.info("Native video element event: waiting"), M2.trigger(l.Z.PLAYBACK_WAITING, { playingTime: G2() });
            }
            function ie2() {
              t3.info("Native video element event: playing"), R2 = false, M2.trigger(l.Z.PLAYBACK_PLAYING, { playingTime: G2() });
            }
            function ae2() {
              t3.info("Native video element event: pause"), M2.trigger(l.Z.PLAYBACK_PAUSED, { ended: V2() });
            }
            function oe2() {
              if (!R2) {
                var e4 = G2();
                isNaN(I2) || I2 === e4 || (e4 = I2), I2 = NaN, t3.info("Seeking to: " + e4), X2(), M2.trigger(l.Z.PLAYBACK_SEEKING, { seekTime: e4, streamId: y2.id });
              }
            }
            function se2() {
              t3.info("Native video element event: seeked"), R2 = false, M2.trigger(l.Z.PLAYBACK_SEEKED);
            }
            function ue2() {
              y2 && M2.trigger(l.Z.PLAYBACK_TIME_UPDATED, { timeToEnd: L2(), time: G2(), streamId: y2.id });
            }
            function le2() {
              M2.trigger(l.Z.PLAYBACK_PROGRESS, { streamId: y2.id });
            }
            function ce2() {
              var e4 = H2();
              t3.info("Native video element event: ratechange: ", e4), M2.trigger(l.Z.PLAYBACK_RATE_CHANGED, { playbackRate: e4 });
            }
            function fe2() {
              t3.info("Native video element event: loadedmetadata"), M2.trigger(l.Z.PLAYBACK_METADATA_LOADED), X2();
            }
            function de2() {
              t3.info("Native video element event: loadeddata"), M2.trigger(l.Z.PLAYBACK_LOADED_DATA);
            }
            function ge2() {
              t3.info("Native video element event: ended"), k2(), Q2();
              var e4 = n3 ? n3.getActiveStreamInfo() : null;
              e4 && M2.trigger(l.Z.PLAYBACK_ENDED, { isLast: e4.isLast });
            }
            function he2() {
              M2.trigger(l.Z.PLAYBACK_VOLUME_CHANGED);
            }
            function pe2(e4) {
              if (h2 && e4.isLast) {
                t3.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");
                var n4 = e4.seekTime ? e4.seekTime : F2();
                c2.setCurrentTime(n4), k2(), Q2();
              }
            }
            function me2(e4) {
              var t4 = e4.target || e4.srcElement;
              M2.trigger(l.Z.PLAYBACK_ERROR, { error: t4.error });
            }
            function ye2() {
              E2 = false;
            }
            function Ee2(e4) {
              if (false === e4.stream && A2 && !isNaN(e4.request.duration)) {
                var n4 = 1.2 * e4.request.duration;
                n4 > p2 && (t3.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:", n4.toFixed(2)), p2 = n4, m2 = n4);
              }
            }
            function ve2(e4) {
              M2.trigger(l.Z.PLAYBACK_STALLED, { e: e4 });
            }
            function _e2(e4) {
              var n4;
              (n4 = e4.mediaInfo) && n4.supplementalProperties && n4.supplementalProperties[a2.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME] && "true" === n4.supplementalProperties[a2.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME].value && (t3.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"), A2 = true);
            }
            function Te2(e4) {
              var t4 = n3.getActiveStreamInfo();
              e4 && t4 && e4.currentRepresentation && e4.streamId && e4.streamId === t4.id && e4.mediaType && (e4.mediaType === a2.Z.VIDEO || e4.mediaType === a2.Z.AUDIO) && (b2 = e4.currentRepresentation.availabilityTimeComplete, (A2 = !b2) && !C2 && (C2 = true));
            }
            function Se2() {
              N2 = true;
            }
            function be2() {
              N2 = false;
            }
            return e3 = { initialize: function(t4, n4) {
              y2 = t4, true !== n4 && (c2.addEventListener("canplay", $2), c2.addEventListener("canplaythrough", ee2), c2.addEventListener("play", ne2), c2.addEventListener("waiting", re2), c2.addEventListener("playing", ie2), c2.addEventListener("pause", ae2), c2.addEventListener("error", me2), c2.addEventListener("seeking", oe2), c2.addEventListener("seeked", se2), c2.addEventListener("timeupdate", ue2), c2.addEventListener("progress", le2), c2.addEventListener("ratechange", ce2), c2.addEventListener("loadedmetadata", fe2), c2.addEventListener("loadeddata", de2), c2.addEventListener("stalled", ve2), c2.addEventListener("ended", ge2), c2.addEventListener("volumechange", he2), E2 = y2.manifestInfo.isDynamic, w2 = false, R2 = false, M2.on(l.Z.DATA_UPDATE_COMPLETED, J2, e3), M2.on(l.Z.LOADING_PROGRESS, Ee2, e3), M2.on(l.Z.MANIFEST_UPDATED, Se2, e3), M2.on(l.Z.STREAMS_COMPOSED, be2, e3), M2.on(d.Z.PLAYBACK_ENDED, pe2, e3, { priority: u.Z.EVENT_PRIORITY_HIGH }), M2.on(d.Z.STREAM_INITIALIZING, _e2, e3), M2.on(d.Z.REPRESENTATION_SWITCH, Te2, e3), M2.on(d.Z.BUFFER_LEVEL_STATE_CHANGED, te2, e3), M2.on(d.Z.DYNAMIC_TO_STATIC, ye2, e3), v2 && (v2 = false, x2()));
            }, setConfig: function(e4) {
              e4 && (e4.streamController && (n3 = e4.streamController), e4.serviceDescriptionController && (r3 = e4.serviceDescriptionController), e4.dashMetrics && (i2 = e4.dashMetrics), e4.adapter && (o2 = e4.adapter), e4.videoModel && (c2 = e4.videoModel), e4.timelineConverter && (g2 = e4.timelineConverter), e4.settings && (D2 = e4.settings));
            }, getTimeToStreamEnd: L2, getBufferLevel: function() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t4 = null;
              return n3.getActiveStreamProcessors().forEach(function(n4) {
                if (!e4 || 0 === e4.length || -1 === e4.indexOf(n4.getType())) {
                  var r4 = n4.getBufferLevel();
                  t4 = null === t4 ? r4 : Math.min(t4, r4);
                }
              }), t4;
            }, getPlaybackStalled: function() {
              return w2;
            }, getTime: G2, getLowLatencyModeEnabled: function() {
              return A2;
            }, getInitialCatchupModeActivated: function() {
              return C2;
            }, getIsManifestUpdateInProgress: function() {
              return N2;
            }, getPlaybackRate: H2, getPlayedRanges: function() {
              return y2 && c2 ? c2.getPlayedRanges() : null;
            }, getEnded: V2, getIsDynamic: K2, getStreamController: function() {
              return n3;
            }, computeAndSetLiveDelay: function(e4, t4) {
              var n4, i3, a3, s3 = !isNaN(e4) && isFinite(e4) ? e4 : NaN, u2 = o2.getSuggestedPresentationDelay(), l2 = r3.getServiceDescriptionSettings();
              return n4 = isNaN(D2.get().streaming.delay.liveDelay) ? null === D2.get().streaming.delay.liveDelayFragmentCount || isNaN(D2.get().streaming.delay.liveDelayFragmentCount) || isNaN(s3) ? l2 && !isNaN(l2.liveDelay) && l2.liveDelay > 0 ? l2.liveDelay : true === D2.get().streaming.delay.useSuggestedPresentationDelay && null !== u2 && !isNaN(u2) && u2 > 0 ? u2 : isNaN(s3) ? t4 && !isNaN(t4.minBufferTime) ? 4 * t4.minBufferTime : 4 * y2.manifestInfo.minBufferTime : 4 * s3 : s3 * D2.get().streaming.delay.liveDelayFragmentCount : D2.get().streaming.delay.liveDelay, null !== (a3 = o2.getAvailabilityStartTime()) && (S2 = a3), i3 = t4 && t4.dvrWindowSize > 0 ? Math.min(n4, t4.dvrWindowSize) : n4, p2 = i3, m2 = i3, i3;
            }, getLiveDelay: function() {
              return p2;
            }, getOriginalLiveDelay: function() {
              return m2;
            }, getCurrentLiveLatency: function() {
              if (!E2 || isNaN(S2))
                return NaN;
              var e4 = G2();
              if (isNaN(e4) || 0 === e4)
                return 0;
              var t4 = (/* @__PURE__ */ new Date()).getTime() + 1e3 * g2.getClientTimeOffset();
              return Math.max(((t4 - S2 - 1e3 * e4) / 1e3).toFixed(3), 0);
            }, play: x2, isPaused: q2, isStalled: j2, pause: k2, isSeeking: Y2, getStreamEndTime: F2, seek: U2, seekToOriginalLive: function() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t4 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], n4 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], r4 = Z2();
              if (0 !== r4) {
                var i3 = r4 - (p2 = m2);
                U2(i3, e4, t4, n4);
              }
            }, seekToCurrentLive: function() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t4 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], n4 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], r4 = Z2();
              if (0 !== r4) {
                var i3 = r4 - p2;
                U2(i3, e4, t4, n4);
              }
            }, reset: P2, updateCurrentTime: z2, getAvailabilityStartTime: function() {
              return S2;
            } }, t3 = (0, f.Z)(O2).getInstance().getLogger(e3), P2(), e3;
          }
          g.__dashjs_factory_name = "PlaybackController";
          var h = c.Z.getSingletonFactory(g), p = n2(3186), m = "loading", y = "executed", E = "failed";
          function v(e3) {
            var t3, n3, r3, i2, a3 = (e3 = e3 || {}).eventBus, o2 = e3.events, s3 = e3.dashMetrics, u2 = e3.fragmentLoader, l2 = e3.debug, c2 = e3.streamInfo, f2 = e3.type;
            function d2(e4) {
              var t4;
              return !!e4 && (t4 = false, r3.some(function(n4) {
                if (r4 = e4, i3 = n4, !isNaN(r4.index) && r4.startTime === i3.startTime && r4.adaptationIndex === i3.adaptationIndex && r4.type === i3.type || function(e5, t5) {
                  return isNaN(e5.index) && isNaN(t5.index) && e5.quality === t5.quality;
                }(e4, n4) || function(e5, t5) {
                  return e5.action === p.Z.ACTION_COMPLETE && e5.action === t5.action;
                }(e4, n4))
                  return t4 = true;
                var r4, i3;
              }), t4);
            }
            function g2(e4) {
              return isNaN(e4.duration) ? 0.25 : Math.min(e4.duration / 8, 0.5);
            }
            function h2(e4) {
              r3 = r3.filter(function(t4) {
                var n4 = g2(t4);
                return isNaN(t4.startTime) || void 0 !== e4 && t4.startTime >= e4 - n4;
              });
            }
            function v2(e4, t4) {
              t4 <= e4 + 0.5 || (r3 = r3.filter(function(n4) {
                var r4 = g2(n4);
                return isNaN(n4.startTime) || n4.startTime >= t4 - r4 || isNaN(n4.duration) || n4.startTime + n4.duration <= e4 + r4;
              }));
            }
            function _2(e4, t4, n4) {
              for (var r4 = e4.length - 1; r4 >= 0; r4--) {
                var i3 = e4[r4], a4 = i3.startTime, o3 = a4 + i3.duration;
                if (n4 = isNaN(n4) ? g2(i3) : n4, !isNaN(a4) && !isNaN(o3) && t4 + n4 >= a4 && t4 - n4 < o3 || isNaN(a4) && isNaN(t4))
                  return i3;
              }
              return null;
            }
            function T2(e4, t4) {
              s3.addSchedulingInfo(e4, t4), s3.addRequestsQueue(e4.mediaType, i2, r3);
            }
            function S2(e4) {
              e4.sender === u2 && (i2.splice(i2.indexOf(e4.request), 1), e4.response && !e4.error && r3.push(e4.request), T2(e4.request, e4.error ? E : y), a3.trigger(o2.FRAGMENT_LOADING_COMPLETED, { request: e4.request, response: e4.response, error: e4.error, sender: this }, { streamId: c2.id, mediaType: f2 }));
            }
            function b2(e4) {
              e4.sender === u2 && a3.trigger(o2.FRAGMENT_LOADING_PROGRESS, { request: e4.request, response: e4.response, error: e4.error, sender: this }, { streamId: c2.id, mediaType: f2 });
            }
            function A2(e4) {
              e4.sender === u2 && a3.trigger(o2.FRAGMENT_LOADING_ABANDONED, { request: e4.request }, { streamId: c2.id, mediaType: f2 });
            }
            function I2() {
              r3 = [], i2 = [];
            }
            return t3 = { getStreamId: function() {
              return c2.id;
            }, getType: function() {
              return f2;
            }, getRequests: function(e4) {
              var t4 = e4 ? e4.state instanceof Array ? e4.state : [e4.state] : [], n4 = [];
              return t4.forEach(function(t5) {
                var a4 = function(e5) {
                  var t6;
                  switch (e5) {
                    case m:
                      t6 = i2;
                      break;
                    case y:
                      t6 = r3;
                      break;
                    default:
                      t6 = [];
                  }
                  return t6;
                }(t5);
                n4 = n4.concat(function(e5, t6) {
                  return t6.hasOwnProperty("time") ? [_2(e5, t6.time, t6.threshold)] : e5.filter(function(e6) {
                    for (var n5 in t6)
                      if ("state" !== n5 && t6.hasOwnProperty(n5) && e6[n5] != t6[n5])
                        return false;
                    return true;
                  });
                }(a4, e4));
              }), n4;
            }, isFragmentLoaded: d2, isFragmentLoadedOrPending: function(e4) {
              var t4, n4 = false, r4 = 0;
              if (!(n4 = d2(e4)))
                for (r4 = 0; r4 < i2.length; r4++)
                  t4 = i2[r4], e4.url === t4.url && e4.startTime === t4.startTime && (n4 = true);
              return n4;
            }, removeExecutedRequestsBeforeTime: h2, removeExecutedRequestsAfterTime: function(e4) {
              r3 = r3.filter(function(t4) {
                return isNaN(t4.startTime) || void 0 !== e4 && t4.startTime < e4;
              });
            }, syncExecutedRequestsWithBufferedRange: function(e4, t4) {
              if (e4 && 0 !== e4.length) {
                for (var n4 = 0, r4 = 0, i3 = e4.length; r4 < i3; r4++)
                  v2(n4, e4.start(r4)), n4 = e4.end(r4);
                t4 > 0 && v2(n4, t4);
              } else
                h2();
            }, abortRequests: function() {
              n3.debug("abort requests"), u2.abort(), i2 = [];
            }, executeRequest: function(e4) {
              e4.action === p.Z.ACTION_DOWNLOAD ? (T2(e4, m), i2.push(e4), function(e5) {
                a3.trigger(o2.FRAGMENT_LOADING_STARTED, { request: e5 }, { streamId: c2.id, mediaType: f2 }), u2.load(e5);
              }(e4)) : n3.warn("Unknown request action.");
            }, reset: function() {
              a3.off(o2.LOADING_COMPLETED, S2, this), a3.off(o2.LOADING_DATA_PROGRESS, b2, this), a3.off(o2.LOADING_ABANDONED, A2, this), u2 && u2.reset(), I2();
            }, resetInitialSettings: I2, addExecutedRequest: function(e4) {
              r3.push(e4);
            } }, n3 = l2.getLogger(t3), I2(), a3.on(o2.LOADING_COMPLETED, S2, t3), a3.on(o2.LOADING_DATA_PROGRESS, b2, t3), a3.on(o2.LOADING_ABANDONED, A2, t3), t3;
          }
          v.__dashjs_factory_name = "FragmentModel";
          var _ = c.Z.getClassFactory(v);
          _.FRAGMENT_MODEL_LOADING = m, _.FRAGMENT_MODEL_EXECUTED = y, _.FRAGMENT_MODEL_CANCELED = "canceled", _.FRAGMENT_MODEL_FAILED = E, c.Z.updateClassFactory(v.__dashjs_factory_name, _);
          var T = _, S = n2(5459);
          function b(e3) {
            return b = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, b(e3);
          }
          function A(e3, t3) {
            return A = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, A(e3, t3);
          }
          function I(e3, t3) {
            return !t3 || "object" !== b(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function R(e3) {
            return R = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, R(e3);
          }
          var w = new (function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && A(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = R(t3);
              if (n3) {
                var i3 = R(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return I(this, e4);
            });
            function i2() {
              var e4;
              return function(e5, t4) {
                if (!(e5 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2), (e4 = r3.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE = 10, e4.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE = 11, e4.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE = 12, e4.SEGMENT_BASE_LOADER_ERROR_CODE = 15, e4.TIME_SYNC_FAILED_ERROR_CODE = 16, e4.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE = 17, e4.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE = 18, e4.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE = 19, e4.APPEND_ERROR_CODE = 20, e4.REMOVE_ERROR_CODE = 21, e4.DATA_UPDATE_FAILED_ERROR_CODE = 22, e4.CAPABILITY_MEDIASOURCE_ERROR_CODE = 23, e4.CAPABILITY_MEDIAKEYS_ERROR_CODE = 24, e4.DOWNLOAD_ERROR_ID_MANIFEST_CODE = 25, e4.DOWNLOAD_ERROR_ID_SIDX_CODE = 26, e4.DOWNLOAD_ERROR_ID_CONTENT_CODE = 27, e4.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE = 28, e4.DOWNLOAD_ERROR_ID_XLINK_CODE = 29, e4.MANIFEST_ERROR_ID_PARSE_CODE = 31, e4.MANIFEST_ERROR_ID_NOSTREAMS_CODE = 32, e4.TIMED_TEXT_ERROR_ID_PARSE_CODE = 33, e4.MANIFEST_ERROR_ID_MULTIPLEXED_CODE = 34, e4.MEDIASOURCE_TYPE_UNSUPPORTED_CODE = 35, e4.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE = "parsing failed for ", e4.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE = "Failed loading manifest: ", e4.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE = "Failed loading Xlink element: ", e4.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE = "Segments update failed", e4.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE = "no segments are available yet", e4.SEGMENT_BASE_LOADER_ERROR_MESSAGE = "error loading segment ranges from sidx", e4.TIME_SYNC_FAILED_ERROR_MESSAGE = "Failed to synchronize client and server time", e4.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE = "request is null", e4.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE = "Failed to resolve a valid URL", e4.APPEND_ERROR_MESSAGE = "chunk is not defined", e4.REMOVE_ERROR_MESSAGE = "Removing data from the SourceBuffer", e4.DATA_UPDATE_FAILED_ERROR_MESSAGE = "Data update failed", e4.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE = "mediasource is not supported", e4.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE = "mediakeys is not supported", e4.TIMED_TEXT_ERROR_MESSAGE_PARSE = "parsing error :", e4.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE = "Error creating source buffer of type : ", e4;
            }
            return i2;
          }(n2(2230).Z))(), N = n2(1264), C = n2(7855);
          function D(e3) {
            var t3, n3, r3, i2, o2, s3, u2 = this.context, c2 = (0, N.Z)(u2).getInstance(), d2 = e3.textController, g2 = e3.eventBus, h2 = [], p2 = [], m2 = false, y2 = e3.mediaSource, E2 = null;
            function v2(e4) {
              return new Promise(function(t4) {
                M2(function() {
                  i2.changeType && i2.changeType(e4), t4();
                });
              });
            }
            function _2(e4) {
              return i2 = d2.getTextSourceBuffer(e4), Promise.resolve();
            }
            function T2() {
              if ("function" == typeof i2.addEventListener)
                try {
                  i2.addEventListener("updateend", D2, false), i2.addEventListener("error", O2, false), i2.addEventListener("abort", O2, false);
                } catch (e4) {
                  s3 = setInterval(D2, 50);
                }
              else
                s3 = setInterval(D2, 50);
            }
            function b2(e4) {
              return new Promise(function(t4) {
                i2 && c2.get().streaming.buffer.useAppendWindow ? M2(function() {
                  try {
                    if (!i2)
                      return void t4();
                    var n4 = y2.duration, a3 = 0;
                    e4 && !isNaN(e4.start) && !isNaN(e4.duration) && isFinite(e4.duration) && (n4 = e4.start + e4.duration), e4 && !isNaN(e4.start) && (a3 = e4.start), i2.appendWindowEnd === n4 && i2.appendWindowStart === a3 || (i2.appendWindowStart = 0, i2.appendWindowEnd = n4 + 0.01, i2.appendWindowStart = Math.max(a3 - 0.1, 0), r3.debug("Updated append window for ".concat(o2.type, ". Set start to ").concat(i2.appendWindowStart, " and end to ").concat(i2.appendWindowEnd))), t4();
                  } catch (e5) {
                    r3.warn("Failed to set append window"), t4();
                  }
                }) : t4();
              });
            }
            function A2(e4) {
              return new Promise(function(t4) {
                i2 ? M2(function() {
                  try {
                    i2.timestampOffset === e4 || isNaN(e4) || (i2.timestampOffset = e4, r3.debug("Set MSE timestamp offset to ".concat(e4))), t4();
                  } catch (e5) {
                    t4();
                  }
                }) : t4();
              });
            }
            function I2() {
              if (!m2 && p2.length > 0) {
                m2 = true;
                var e4 = p2[0];
                p2.splice(0, 1);
                var t4 = function() {
                  m2 = false, p2.length > 0 && I2.call(this), e4 && e4.data && e4.data.segmentType && e4.data.segmentType !== C.w.INIT_SEGMENT_TYPE && delete e4.data.bytes, e4.promise.resolve({ chunk: e4.data });
                };
                try {
                  E2 = e4.request, 0 === e4.data.bytes.byteLength ? t4.call(this) : (i2.appendBuffer ? i2.appendBuffer(e4.data.bytes) : i2.append(e4.data.bytes, e4.data), M2(t4.bind(this)));
                } catch (t5) {
                  r3.fatal('SourceBuffer append failed "' + t5 + '"'), p2.length > 0 ? I2() : m2 = false, delete e4.data.bytes, e4.promise.reject({ chunk: e4.data, error: new S.Z(t5.code, t5.message) });
                }
              }
            }
            function R2() {
              h2.length > 0 && (i2.updating || (h2.shift()(), R2()));
            }
            function D2() {
              i2.updating || R2();
            }
            function O2(e4) {
              var t4, r4, i3 = e4.target || {};
              t4 = l.Z.SOURCE_BUFFER_ERROR, r4 = { error: i3, lastRequestAppended: E2 }, g2.trigger(t4, r4, { streamId: o2.streamInfo.id, mediaType: n3 });
            }
            function M2(e4) {
              h2.push(e4), i2.updating || R2();
            }
            return t3 = { getType: function() {
              return n3;
            }, getAllBufferRanges: function() {
              try {
                return i2.buffered;
              } catch (e4) {
                return r3.error("getAllBufferRanges exception: " + e4.message), null;
              }
            }, getBuffer: function() {
              return i2;
            }, append: function(e4) {
              var t4 = this, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
              return new Promise(function(r4, i3) {
                e4 ? (p2.push({ data: e4, promise: { resolve: r4, reject: i3 }, request: n4 }), M2(I2.bind(t4))) : i3({ chunk: e4, error: new S.Z(w.APPEND_ERROR_CODE, w.APPEND_ERROR_MESSAGE) });
              });
            }, remove: function(e4) {
              return new Promise(function(t4, n4) {
                var r4 = e4.start, a3 = e4.end;
                r4 >= 0 && a3 > r4 ? M2(function() {
                  try {
                    i2.remove(r4, a3), M2(function() {
                      t4({ from: r4, to: a3, unintended: false }), e4.resolve && e4.resolve();
                    });
                  } catch (t5) {
                    n4({ from: r4, to: a3, unintended: false, error: new S.Z(w.REMOVE_ERROR_CODE, w.REMOVE_ERROR_MESSAGE) }), e4.reject && e4.reject(t5);
                  }
                }) : t4();
              });
            }, abort: function() {
              return new Promise(function(e4) {
                try {
                  p2 = [], "open" === y2.readyState ? M2(function() {
                    try {
                      i2 && i2.abort(), e4();
                    } catch (t4) {
                      e4();
                    }
                  }) : i2 && i2.setTextTrack && "ended" === y2.readyState ? (i2.abort(), e4()) : e4();
                } catch (t4) {
                  e4();
                }
              });
            }, reset: function() {
              if (i2) {
                try {
                  h2 = [], function() {
                    try {
                      "function" == typeof i2.removeEventListener && (i2.removeEventListener("updateend", D2, false), i2.removeEventListener("error", O2, false), i2.removeEventListener("abort", O2, false)), clearInterval(s3);
                    } catch (e4) {
                      r3.error(e4);
                    }
                  }(), m2 = false, p2 = [], i2.getClassName && "TextSourceBuffer" === i2.getClassName() || (r3.debug("Removing sourcebuffer from media source"), y2.removeSourceBuffer(i2));
                } catch (e4) {
                }
                i2 = null;
              }
              E2 = null;
            }, updateTimestampOffset: A2, initializeForStreamSwitch: function(e4, t4, r4) {
              n3 = (o2 = e4).type;
              var a3 = o2.codec;
              !function(e5) {
                i2 = e5.getBuffer();
              }(r4), T2();
              var s4 = [];
              return s4.push(new Promise(function(e5) {
                M2(function() {
                  var t5 = i2.appendWindowStart, n4 = i2.appendWindowEnd;
                  i2 && (i2.abort(), i2.appendWindowStart = t5, i2.appendWindowEnd = n4), e5();
                });
              })), s4.push(b2(o2.streamInfo)), c2.get().streaming.buffer.useChangeTypeForTrackSwitch && s4.push(v2(a3)), t4 && void 0 !== t4.MSETimeOffset && s4.push(A2(t4.MSETimeOffset)), Promise.all(s4);
            }, initializeForFirstUse: function(e4, t4, r4) {
              n3 = (o2 = t4).type;
              var s4 = o2.codec;
              try {
                if (s4.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))
                  return _2(e4);
                i2 = y2.addSourceBuffer(s4), T2();
                var u3 = [];
                return u3.push(b2(o2.streamInfo)), r4 && void 0 !== r4.MSETimeOffset && u3.push(A2(r4.MSETimeOffset)), Promise.all(u3);
              } catch (t5) {
                return o2.type == a2.Z.TEXT && !o2.isFragmented || -1 !== s4.indexOf('codecs="stpp') || -1 !== s4.indexOf('codecs="vtt') || -1 !== s4.indexOf("text/vtt") ? _2(e4) : Promise.reject(t5);
              }
            }, updateAppendWindow: b2, changeType: v2 }, r3 = (0, f.Z)(u2).getInstance().getLogger(t3), t3;
          }
          D.__dashjs_factory_name = "SourceBufferSink";
          var O = c.Z.getClassFactory(D);
          function M(e3) {
            var t3, n3, r3, i2 = this.context, a3 = [], o2 = e3;
            function s3(e4, t4) {
              return a3 = a3.filter(function(n4) {
                return !((isNaN(t4) || n4.start < t4) && (isNaN(e4) || n4.end > e4));
              }), Promise.resolve();
            }
            return t3 = { getAllBufferRanges: function() {
              for (var e4 = [], t4 = 0; t4 < a3.length; t4++) {
                var n4 = a3[t4];
                0 === e4.length || n4.start > e4[e4.length - 1].end ? e4.push({ start: n4.start, end: n4.end }) : e4[e4.length - 1].end = n4.end;
              }
              var r4 = { start: function(t5) {
                return e4[t5].start;
              }, end: function(t5) {
                return e4[t5].end;
              } };
              return Object.defineProperty(r4, "length", { get: function() {
                return e4.length;
              } }), r4;
            }, append: function(e4) {
              return "InitializationSegment" !== e4.segmentType ? (a3.push(e4), a3.sort(function(e5, t4) {
                return e5.start - t4.start;
              }), r3 = null) : r3 = e4, n3.debug("PreBufferSink appended chunk s: " + e4.start + "; e: " + e4.end), o2 && o2({ chunk: e4 }), Promise.resolve();
            }, remove: s3, abort: function() {
              return Promise.resolve();
            }, discharge: function(e4, t4) {
              var n4 = function(e5, t5) {
                return a3.filter(function(n5) {
                  return (isNaN(t5) || n5.start < t5) && (isNaN(e5) || n5.end > e5);
                });
              }(e4, t4);
              return r3 && (n4.push(r3), r3 = null), s3(e4, t4), n4;
            }, reset: function() {
              a3 = [], r3 = null, o2 = null;
            }, updateTimestampOffset: function() {
              return Promise.resolve();
            }, waitForUpdateEnd: function(e4) {
              e4();
            }, getBuffer: function() {
              return this;
            } }, n3 = (0, f.Z)(i2).getInstance().getLogger(t3), t3;
          }
          M.__dashjs_factory_name = "PreBufferSink";
          var P = c.Z.getClassFactory(M);
          function L() {
            var e3 = {};
            return { save: function(t3) {
              var n3 = t3.streamId, r3 = t3.representationId;
              e3[n3] = e3[n3] || {}, e3[n3][r3] = t3;
            }, extract: function(t3, n3) {
              return e3 && e3[t3] && e3[t3][n3] ? e3[t3][n3] : null;
            }, reset: function() {
              e3 = {};
            } };
          }
          L.__dashjs_factory_name = "InitCache";
          var F = c.Z.getSingletonFactory(L), x = 0.01, k = "BufferController";
          function U(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, o2, c2, g2, h2, p2, m2, y2, E2, v2, _2, b2, A2, I2, R2, N2, D2, M2, L2 = this.context, U2 = (0, u.Z)(L2).getInstance(), Z2 = e3.errHandler, B2 = e3.fragmentModel, G2 = e3.representationController, q2 = e3.adapter, Y2 = e3.textController, j2 = e3.abrController, H2 = e3.playbackController, V2 = e3.streamInfo, K2 = e3.type, z2 = e3.settings;
            function W2(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
              return new Promise(function(n4, r4) {
                c2 = e4, p2 && t4 && "function" == typeof p2.discharge ? (m2 = p2, Q2(t4).then(function() {
                  n4();
                }).catch(function(e5) {
                  r4(e5);
                })) : n4();
              });
            }
            function X2(e4) {
              return q2.convertRepresentationToRepresentationInfo(G2.getRepresentationForQuality(e4));
            }
            function Q2(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
              return new Promise(function(n4, r4) {
                R2 && e4 ? c2 ? (y2 = false, $2(e4, t4).then(function(e5) {
                  n4(e5);
                }).catch(function(e5) {
                  r4(e5);
                })) : (y2 = true, J2().then(function(e5) {
                  n4(e5);
                }).catch(function(e5) {
                  r4(e5);
                })) : n4(null);
              });
            }
            function J2() {
              var e4 = this;
              return new Promise(function(t4, n4) {
                var r4 = j2.getQualityFor(K2, V2.id);
                p2 = P(L2).create(ie2.bind(e4)), _e2(X2(r4)).then(function() {
                  t4(p2);
                }).catch(function() {
                  n4();
                });
              });
            }
            function $2(e4, t4) {
              return new Promise(function(r4, i3) {
                var o3 = j2.getQualityFor(K2, V2.id);
                p2 = O(L2).create({ mediaSource: c2, textController: Y2, eventBus: U2 }), function(e5, t5, n4) {
                  var r5 = X2(n4);
                  return t5 && t5[K2] && (K2 === a2.Z.VIDEO || K2 === a2.Z.AUDIO) ? p2.initializeForStreamSwitch(e5, r5, t5[K2]) : p2.initializeForFirstUse(V2, e5, r5);
                }(e4, t4, o3).then(function() {
                  return _e2(X2(o3));
                }).then(function() {
                  r4(p2);
                }).catch(function(e5) {
                  n3.fatal("Caught error on create SourceBuffer: " + e5), Z2.error(new S.Z(w.MEDIASOURCE_TYPE_UNSUPPORTED_CODE, w.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE + K2)), i3(e5);
                });
              });
            }
            function ee2(e4) {
              z2.get().streaming.cacheInitSegments && (n3.info("Init fragment finished loading saving to", K2 + "'s init cache"), R2.save(e4.chunk)), n3.debug("Append Init fragment", K2, " with representationId:", e4.chunk.representationId, " and quality:", e4.chunk.quality, ", data size:", e4.chunk.bytes.byteLength), ne2(e4.chunk);
            }
            function te2(e4) {
              ne2(e4.chunk, e4.request);
            }
            function ne2(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
              p2 && (p2.append(e4, t4).then(function(e5) {
                ie2(e5);
              }).catch(function(e5) {
                ie2(e5);
              }), e4.mediaInfo.type === a2.Z.VIDEO && Ne2(l.Z.VIDEO_CHUNK_RECEIVED, { chunk: e4 }));
            }
            function re2(e4) {
              if (e4 && e4.length > 0)
                for (var t4 = 0, r4 = e4.length; t4 < r4; t4++)
                  n3.debug("Buffered range: " + e4.start(t4) + " - " + e4.end(t4) + ", currentTime = ", H2.getTime());
            }
            function ie2(e4) {
              if (e4.error)
                return 22 === e4.error.code && function() {
                  if (I2 = true, o2 = 0.8 * Ie2(), n3.warn("Quota exceeded, Critical Buffer: " + o2), o2 > 0) {
                    var e5 = Math.max(0.2 * o2, 1), t5 = o2 - e5, r5 = Math.min(z2.get().streaming.buffer.bufferTimeAtTopQuality, 0.9 * t5), i3 = Math.min(z2.get().streaming.buffer.bufferTimeAtTopQualityLongForm, 0.9 * t5), a3 = { streaming: { buffer: { bufferToKeep: parseFloat(e5.toFixed(5)), bufferTimeAtTopQuality: parseFloat(r5.toFixed(5)), bufferTimeAtTopQualityLongForm: parseFloat(i3.toFixed(5)) } } };
                    z2.update(a3);
                  }
                }(), void (22 !== e4.error.code && we2() || (n3.warn("Clearing playback buffer to overcome quota exceed situation"), Ne2(l.Z.QUOTA_EXCEEDED, { criticalBufferLevel: o2, quotaExceededTime: e4.chunk.start }), ye2(me2())));
              if (p2 && (fe2(), I2 = false, (_2 = e4.chunk) && _2.endFragment)) {
                _2 && !isNaN(_2.index) && (g2 = Math.max(_2.index, g2), de2());
                var t4 = p2.getAllBufferRanges();
                _2.segmentType === C.w.MEDIA_SEGMENT_TYPE && (re2(t4), se2(), function() {
                  if (!isNaN(M2) && !y2)
                    if (K2 === a2.Z.AUDIO || K2 === a2.Z.VIDEO) {
                      var e5 = H2.getTime(), t5 = ce2(e5, 0), n4 = ce2(M2, 0);
                      if (t5 && n4 && t5.start === n4.start)
                        M2 = NaN;
                      else {
                        var r5 = G2.getCurrentRepresentation().segmentDuration, i3 = ce2(M2, r5);
                        i3 && (z2.get().streaming.buffer.enableSeekDecorrelationFix && Math.abs(e5 - M2) > r5 ? M2 <= i3.end && H2.seek(Math.max(M2, i3.start), false, true) : e5 < i3.start && H2.seek(i3.start, false, true));
                      }
                    } else
                      M2 = NaN;
                }());
                var r4 = false;
                E2 && (E2.indexOf(_2) > 0 && (r4 = true), E2 = null), _2 && !r4 && Ne2(l.Z.BYTES_APPENDED_END_FRAGMENT, { quality: _2.quality, startTime: _2.start, index: _2.index, bufferedRanges: t4, segmentType: _2.segmentType, mediaType: K2 });
              }
            }
            function ae2() {
              return new Promise(function(e4, t4) {
                var n4 = oe2();
                if (!n4 || 0 === n4.length)
                  return se2(), void e4();
                ye2(n4).then(function() {
                  e4();
                }).catch(function(e5) {
                  t4(e5);
                });
              });
            }
            function oe2(e4) {
              var t4 = [], r4 = p2.getAllBufferRanges();
              if (!r4 || 0 === r4.length)
                return t4;
              if (!e4 && 0 !== e4 || isNaN(e4))
                t4.push({ start: r4.start(0), end: r4.end(r4.length - 1) + 0.5 });
              else {
                var i3 = function(e5, t5) {
                  var n4 = z2.get().streaming.buffer.bufferToKeep, r5 = t5.start(0);
                  if (e5 - r5 > n4) {
                    var i4 = Math.max(0, e5 - n4), a4 = B2.getRequests({ state: T.FRAGMENT_MODEL_EXECUTED, time: e5, threshold: x })[0];
                    if (a4 && (i4 = Math.min(a4.startTime, i4)), i4 > 0)
                      return { start: r5, end: i4 };
                  }
                  return null;
                }(e4, r4), a3 = function(e5, t5) {
                  var r5 = t5.end(t5.length - 1) + 0.5, i4 = Re2(e5), a4 = V2.manifestInfo.duration >= z2.get().streaming.buffer.longFormContentDurationThreshold ? z2.get().streaming.buffer.bufferTimeAtTopQualityLongForm : z2.get().streaming.buffer.bufferTimeAtTopQuality, o3 = isNaN(i4) ? e5 : Math.min(i4, e5 + a4);
                  if (o3 >= t5.end(t5.length - 1))
                    return null;
                  var s3 = B2.getRequests({ state: T.FRAGMENT_MODEL_EXECUTED, time: e5, threshold: x })[0];
                  if (s3 && (o3 = Math.max(s3.startTime + s3.duration, o3)), z2.get().streaming.buffer.avoidCurrentTimeRangePruning) {
                    for (var u2 = 0; u2 < t5.length; u2++)
                      if (t5.start(u2) <= e5 && e5 <= t5.end(u2) && t5.start(u2) <= o3 && o3 <= t5.end(u2)) {
                        var l2 = o3;
                        o3 = u2 + 1 < t5.length ? t5.start(u2 + 1) : t5.end(u2) + 1, n3.debug("Buffered range [" + t5.start(u2) + ", " + t5.end(u2) + "] overlaps with targetTime " + e5 + " and range to be pruned [" + l2 + ", " + r5 + "], using [" + o3 + ", " + r5 + "] instead" + (o3 < r5 ? "" : " (no actual pruning)"));
                        break;
                      }
                  }
                  return o3 < t5.end(t5.length - 1) ? { start: o3, end: r5 } : null;
                }(e4, r4);
                i3 && t4.push(i3), a3 && t4.push(a3);
              }
              return t4;
            }
            function se2() {
              (!D2 || K2 === a2.Z.TEXT && Y2.isTextEnabled()) && fe2();
            }
            function ue2() {
              ge2();
            }
            function le2() {
              ge2(), M2 = NaN;
            }
            function ce2(e4, t4) {
              if (!p2)
                return null;
              var n4, r4, i3 = p2.getAllBufferRanges(), a3 = 0, o3 = 0, s3 = null, u2 = null, l2 = 0, c3 = isNaN(t4) ? 0.15 : t4;
              if (null != i3) {
                for (r4 = 0, n4 = i3.length; r4 < n4; r4++)
                  if (a3 = i3.start(r4), o3 = i3.end(r4), null === s3)
                    l2 = Math.abs(a3 - e4), (e4 >= a3 && e4 < o3 || l2 <= c3) && (s3 = a3, u2 = o3);
                  else {
                    if (!((l2 = a3 - u2) <= c3))
                      break;
                    u2 = o3;
                  }
                if (null !== s3)
                  return { start: s3, end: u2 };
              }
              return null;
            }
            function fe2() {
              if (H2) {
                var e4 = H2.getTime() || 0;
                y2 && (e4 = isNaN(M2) ? 0 : M2);
                var t4 = z2.get().streaming.gaps.jumpGaps && !isNaN(z2.get().streaming.gaps.smallGapLimit) ? z2.get().streaming.gaps.smallGapLimit : NaN;
                i2 = Math.max(function(e5, t5) {
                  var n4;
                  return z2.get().streaming.gaps.jumpGaps && (t5 = z2.get().streaming.gaps.smallGapLimit), null === (n4 = ce2(e5, t5)) ? 0 : n4.end - e5;
                }(e4, t4), 0), Ne2(l.Z.BUFFER_LEVEL_UPDATED, { mediaType: K2, bufferLevel: i2 }), ge2();
              }
            }
            function de2() {
              var e4 = g2 >= h2 - 1, t4 = H2.getTimeToStreamEnd(V2) - i2 < 1e-5;
              !e4 && !t4 || r3 || (Ae2(true), n3.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(V2.id, " and type ").concat(K2)));
            }
            function ge2() {
              K2 !== a2.Z.AUDIO && K2 !== a2.Z.VIDEO || ((!H2.getLowLatencyModeEnabled() && i2 < z2.get().streaming.buffer.stallThreshold || 0 === i2) && !r3 ? he2(s2.Z.BUFFER_EMPTY) : (r3 || i2 >= z2.get().streaming.buffer.stallThreshold || H2.getLowLatencyModeEnabled() && i2 > 0) && he2(s2.Z.BUFFER_LOADED));
            }
            function he2(e4) {
              v2 === e4 || e4 === s2.Z.BUFFER_EMPTY && 0 === H2.getTime() || K2 === a2.Z.TEXT && !Y2.isTextEnabled() || (v2 = e4, Ne2(l.Z.BUFFER_LEVEL_STATE_CHANGED, { state: e4 }), Ne2(e4 === s2.Z.BUFFER_LOADED ? l.Z.BUFFER_LOADED : l.Z.BUFFER_EMPTY), n3.debug(e4 === s2.Z.BUFFER_LOADED ? "Got enough buffer to start" : "Waiting for more buffer before starting playback"));
            }
            function pe2() {
              p2 && K2 !== a2.Z.TEXT && (r3 || ye2(me2()));
            }
            function me2() {
              var e4 = [], t4 = p2.getAllBufferRanges();
              if (!t4 || 0 === t4.length)
                return e4;
              var n4 = H2.getTime(), r4 = Math.max(0, n4 - z2.get().streaming.buffer.bufferToKeep), i3 = B2.getRequests({ state: T.FRAGMENT_MODEL_EXECUTED, time: n4, threshold: x })[0];
              if (i3)
                r4 = Math.min(i3.startTime, r4);
              else if (0 === n4 && H2.getIsDynamic())
                return [];
              if (t4.start(0) <= r4) {
                for (var a3 = { start: 0, end: r4 }, o3 = 0; o3 < t4.length && t4.end(o3) <= r4; o3++)
                  a3.end = t4.end(o3);
                a3.start < a3.end && e4.push(a3);
              }
              return e4;
            }
            function ye2(e4) {
              return new Promise(function(t4, n4) {
                if (e4 && p2 && 0 !== e4.length) {
                  var r4 = [];
                  e4.forEach(function(e5) {
                    r4.push(function(e6) {
                      return new Promise(function(t5, n5) {
                        e6.resolve = t5, e6.reject = n5, N2.push(e6);
                      });
                    }(e5));
                  }), A2 || Ee2(), Promise.all(r4).then(function() {
                    t4();
                  }).catch(function(e5) {
                    n4(e5);
                  });
                } else
                  t4();
              });
            }
            function Ee2() {
              try {
                if (0 === N2.length || !p2)
                  return n3.debug("Nothing to prune, halt pruning"), N2 = [], void (A2 = false);
                var e4 = p2.getBuffer();
                if (!e4 || !e4.buffered || 0 === e4.buffered.length)
                  return n3.debug("SourceBuffer is empty (or does not exist), halt pruning"), N2 = [], void (A2 = false);
                var t4 = N2.shift();
                n3.debug("".concat(K2, ": Removing buffer from: ").concat(t4.start, " to ").concat(t4.end)), A2 = true, H2.getTime() < t4.end && Ae2(false), p2.remove(t4).then(function(e5) {
                  ve2(e5);
                }).catch(function(e5) {
                  ve2(e5);
                });
              } catch (e5) {
                A2 = false;
              }
            }
            function ve2(e4) {
              n3.debug("onRemoved buffer from:", e4.from, "to", e4.to), p2 && (re2(p2.getAllBufferRanges()), 0 === N2.length && (A2 = false, fe2()), e4.unintended && (n3.warn("Detected unintended removal from:", e4.from, "to", e4.to, "setting streamprocessor time to", e4.from), Ne2(l.Z.SEEK_TARGET, { time: e4.from })), A2 ? Ee2() : (D2 ? D2 = false : fe2(), Ne2(l.Z.BUFFER_CLEARED, { from: e4.from, to: e4.to, unintended: e4.unintended, hasEnoughSpaceToAppend: we2(), quotaExceeded: I2 })));
            }
            function _e2(e4) {
              return new Promise(function(t4) {
                e4 && void 0 !== e4.MSETimeOffset && p2 && p2.updateTimestampOffset ? p2.updateTimestampOffset(e4.MSETimeOffset).then(function() {
                  t4();
                }).catch(function() {
                  t4();
                }) : t4();
              });
            }
            function Te2() {
              return p2 && !r3 ? p2.updateAppendWindow(V2) : Promise.resolve();
            }
            function Se2() {
              ++b2 * (z2.get().streaming.wallclockTimeUpdateInterval / 1e3) >= z2.get().streaming.buffer.bufferPruningInterval && (b2 = 0, pe2());
            }
            function be2() {
              ge2();
            }
            function Ae2(e4) {
              (r3 = e4) ? Ne2(l.Z.BUFFERING_COMPLETED) : h2 = Number.POSITIVE_INFINITY;
            }
            function Ie2() {
              try {
                var e4, t4, n4 = p2.getAllBufferRanges(), r4 = 0;
                if (!n4)
                  return r4;
                for (t4 = 0, e4 = n4.length; t4 < e4; t4++)
                  r4 += n4.end(t4) - n4.start(t4);
                return r4;
              } catch (e5) {
                return 0;
              }
            }
            function Re2(e4) {
              try {
                var t4 = e4, n4 = p2.getAllBufferRanges();
                if (!n4 || 0 === n4.length)
                  return NaN;
                for (var r4 = 0; t4 === e4 && r4 < n4.length; ) {
                  var i3 = n4.start(r4), a3 = n4.end(r4);
                  t4 >= i3 && t4 <= a3 && (t4 = a3), r4 += 1;
                }
                return t4 === e4 ? NaN : t4;
              } catch (e5) {
              }
            }
            function we2() {
              var e4 = Ie2();
              return isNaN(e4) || e4 < o2;
            }
            function Ne2(e4, t4) {
              var n4 = t4 || {};
              U2.trigger(e4, n4, { streamId: V2.id, mediaType: K2 });
            }
            function Ce2(e4, t4) {
              if (o2 = Number.POSITIVE_INFINITY, v2 = void 0, h2 = Number.POSITIVE_INFINITY, g2 = 0, _2 = null, r3 = false, A2 = false, I2 = false, i2 = 0, b2 = 0, N2 = [], M2 = NaN, y2 = false, p2) {
                var n4 = p2;
                p2 = null, e4 || t4 || n4.abort().then(function() {
                  n4.reset(t4), n4 = null;
                });
              }
              D2 = false;
            }
            return t3 = { initialize: function(e4) {
              W2(e4), U2.on(l.Z.INIT_FRAGMENT_LOADED, ee2, t3), U2.on(l.Z.MEDIA_FRAGMENT_LOADED, te2, t3), U2.on(l.Z.WALLCLOCK_TIME_UPDATED, Se2, t3), U2.on(d.Z.PLAYBACK_PLAYING, le2, t3), U2.on(d.Z.PLAYBACK_PROGRESS, se2, t3), U2.on(d.Z.PLAYBACK_TIME_UPDATED, se2, t3), U2.on(d.Z.PLAYBACK_RATE_CHANGED, be2, t3), U2.on(d.Z.PLAYBACK_STALLED, ue2, t3);
            }, getStreamId: function() {
              return V2.id;
            }, getType: function() {
              return K2;
            }, getBufferControllerType: function() {
              return k;
            }, createBufferSink: Q2, dischargePreBuffer: function() {
              if (p2 && m2 && "function" == typeof m2.discharge) {
                var e4 = m2.getAllBufferRanges();
                if (e4.length > 0) {
                  for (var t4 = "Beginning " + K2 + "PreBuffer discharge, adding buffer for:", r4 = 0; r4 < e4.length; r4++)
                    t4 += " start: " + e4.start(r4) + ", end: " + e4.end(r4) + ";";
                  n3.debug(t4);
                } else
                  n3.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");
                E2 = [];
                for (var i3 = m2.discharge(), a3 = null, o3 = 0; o3 < i3.length; o3++) {
                  var s3 = i3[o3];
                  if (s3.segmentType !== C.w.INIT_SEGMENT_TYPE) {
                    var u2 = R2.extract(s3.streamId, s3.representationId);
                    u2 && a3 !== u2 && (E2.push(u2), p2.append(u2), a3 = u2);
                  }
                  E2.push(s3), p2.append(s3);
                }
                m2.reset(), m2 = null;
              }
            }, getBuffer: function() {
              return p2;
            }, getBufferLevel: function() {
              return i2;
            }, getRangeAt: ce2, hasBufferAtTime: function(e4) {
              try {
                var t4 = p2.getAllBufferRanges();
                if (!t4 || 0 === t4.length)
                  return false;
                for (var r4 = 0; r4 < t4.length; ) {
                  var i3 = t4.start(r4), a3 = t4.end(r4);
                  if (e4 >= i3 && e4 <= a3)
                    return true;
                  r4 += 1;
                }
                return false;
              } catch (e5) {
                return n3.error(e5), false;
              }
            }, pruneBuffer: pe2, setMediaSource: W2, getMediaSource: function() {
              return c2;
            }, appendInitSegmentFromCache: function(e4) {
              var t4 = R2.extract(V2.id, e4);
              return !!t4 && (n3.info("Append Init fragment", K2, " with representationId:", t4.representationId, " and quality:", t4.quality, ", data size:", t4.bytes.byteLength), ne2(t4), true);
            }, getIsBufferingCompleted: function() {
              return r3;
            }, setIsBufferingCompleted: Ae2, getIsPruningInProgress: function() {
              return A2;
            }, reset: function(e4, t4) {
              U2.off(l.Z.INIT_FRAGMENT_LOADED, ee2, this), U2.off(l.Z.MEDIA_FRAGMENT_LOADED, te2, this), U2.off(l.Z.WALLCLOCK_TIME_UPDATED, Se2, this), U2.off(d.Z.PLAYBACK_PLAYING, le2, this), U2.off(d.Z.PLAYBACK_PROGRESS, se2, this), U2.off(d.Z.PLAYBACK_TIME_UPDATED, se2, this), U2.off(d.Z.PLAYBACK_RATE_CHANGED, be2, this), U2.off(d.Z.PLAYBACK_STALLED, ue2, this), Ce2(e4, t4);
            }, prepareForPlaybackSeek: function() {
              return r3 && Ae2(false), p2.abort();
            }, prepareForReplacementTrackSwitch: function(e4) {
              return new Promise(function(t4, n4) {
                p2.abort().then(function() {
                  return Te2();
                }).then(function() {
                  return z2.get().streaming.buffer.useChangeTypeForTrackSwitch ? p2.changeType(e4) : Promise.resolve();
                }).then(function() {
                  return ae2();
                }).then(function() {
                  Ae2(false), t4();
                }).catch(function(e5) {
                  n4(e5);
                });
              });
            }, prepareForNonReplacementTrackSwitch: function(e4) {
              return new Promise(function(t4, n4) {
                Te2().then(function() {
                  return z2.get().streaming.buffer.useChangeTypeForTrackSwitch ? p2.changeType(e4) : Promise.resolve();
                }).then(function() {
                  t4();
                }).catch(function(e5) {
                  n4(e5);
                });
              });
            }, prepareForForceReplacementQualitySwitch: function(e4) {
              return new Promise(function(t4, n4) {
                p2.abort().then(function() {
                  return Te2();
                }).then(function() {
                  return ae2();
                }).then(function() {
                  return _e2(e4);
                }).then(function() {
                  Ae2(false), t4();
                }).catch(function(e5) {
                  n4(e5);
                });
              });
            }, updateAppendWindow: Te2, getAllRangesWithSafetyFactor: oe2, getContinuousBufferTimeForTargetTime: Re2, clearBuffers: ye2, pruneAllSafely: ae2, updateBufferTimestampOffset: _e2, setSeekTarget: function(e4) {
              M2 = e4;
            }, segmentRequestingCompleted: function(e4) {
              isNaN(e4) || (h2 = e4, de2());
            } }, n3 = (0, f.Z)(L2).getInstance().getLogger(t3), R2 = F(L2).getInstance(), Ce2(), t3;
          }
          U.__dashjs_factory_name = k;
          var Z = c.Z.getClassFactory(U), B = "NotFragmentedTextBufferController";
          function G(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, a3, o2, s3 = this.context, c2 = (0, u.Z)(s3).getInstance(), f2 = e3.textController, d2 = e3.errHandler, g2 = e3.streamInfo, h2 = e3.type;
            function p2(e4) {
              i2 = e4;
            }
            function m2(e4) {
              var t4, r4;
              n3 !== e4 && (n3 = e4) && (t4 = l.Z.BUFFERING_COMPLETED, r4 = {}, c2.trigger(t4, r4, { streamId: g2.id, mediaType: h2 }));
            }
            function y2(e4) {
              e4.chunk.bytes && !n3 && (o2.save(e4.chunk), a3.append(e4.chunk), m2(true));
            }
            return t3 = { initialize: function(e4) {
              p2(e4);
            }, getStreamId: function() {
              return g2.id;
            }, getType: function() {
              return h2;
            }, getBufferControllerType: function() {
              return B;
            }, createBufferSink: function(e4) {
              return new Promise(function(t4, n4) {
                try {
                  (a3 = O(s3).create({ mediaSource: i2, textController: f2, eventBus: c2 })).initializeForFirstUse(g2, e4), r3 || (a3.getBuffer() && "function" == typeof a3.getBuffer().initialize && a3.getBuffer().initialize(), r3 = true), t4(a3);
                } catch (e5) {
                  d2.error(new S.Z(w.MEDIASOURCE_TYPE_UNSUPPORTED_CODE, w.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE + h2)), n4(e5);
                }
              });
            }, dischargePreBuffer: function() {
            }, getBuffer: function() {
              return a3;
            }, getBufferLevel: function() {
              return 0;
            }, getRangeAt: function() {
              return null;
            }, pruneBuffer: function() {
            }, hasBufferAtTime: function() {
              return true;
            }, getAllRangesWithSafetyFactor: function() {
              return [];
            }, getContinuousBufferTimeForTargetTime: function() {
              return Number.POSITIVE_INFINITY;
            }, setMediaSource: p2, getMediaSource: function() {
              return i2;
            }, appendInitSegmentFromCache: function(e4) {
              return null !== o2.extract(g2.id, e4);
            }, getIsBufferingCompleted: function() {
              return n3;
            }, setIsBufferingCompleted: m2, getIsPruningInProgress: function() {
              return false;
            }, reset: function(e4) {
              c2.off(l.Z.INIT_FRAGMENT_LOADED, y2, t3), !e4 && a3 && (a3.abort(), a3.reset(), a3 = null);
            }, clearBuffers: function() {
              return Promise.resolve();
            }, prepareForPlaybackSeek: function() {
              return Promise.resolve();
            }, prepareForReplacementTrackSwitch: function() {
              return n3 = false, Promise.resolve();
            }, setSeekTarget: function() {
            }, updateAppendWindow: function() {
              return Promise.resolve();
            }, pruneAllSafely: function() {
              return Promise.resolve();
            }, updateBufferTimestampOffset: function() {
              return Promise.resolve();
            }, segmentRequestingCompleted: function() {
            } }, r3 = false, i2 = null, n3 = false, o2 = F(s3).getInstance(), c2.on(l.Z.INIT_FRAGMENT_LOADED, y2, t3), t3;
          }
          G.__dashjs_factory_name = B;
          var q = c.Z.getClassFactory(G);
          function Y(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, o2, c2, g2, h2, p2, m2, y2, E2, v2, _2 = this.context, S2 = (0, u.Z)(_2).getInstance(), b2 = e3.dashMetrics, A2 = e3.mediaPlayerModel, I2 = e3.fragmentModel, R2 = e3.abrController, w2 = e3.playbackController, N2 = e3.textController, C2 = e3.type, D2 = e3.bufferController, O2 = e3.representationController, M2 = e3.settings;
            function P2() {
              E2 = true;
            }
            function L2() {
              E2 = false;
            }
            function F2(e4) {
              if (!D2.getIsBufferingCompleted()) {
                x2();
                var t4 = isNaN(e4) ? 0 : e4;
                o2 = setTimeout(k2, t4);
              }
            }
            function x2() {
              o2 && (clearTimeout(o2), o2 = null);
            }
            function k2() {
              try {
                if (function() {
                  try {
                    return C2 === a2.Z.TEXT && !N2.isTextEnabled() || w2.isPaused() && (!w2.getStreamController().getInitialPlayback() || !w2.getStreamController().getAutoPlay()) && !M2.get().streaming.scheduling.scheduleWhilePaused;
                  } catch (e5) {
                    return false;
                  }
                }())
                  return void x2();
                if (function() {
                  try {
                    return !!E2 && O2.getCurrentRepresentationInfo() && (isNaN(p2) || m2 || (e5 = n3.id, t4 = R2.getMaxAllowedIndexFor(C2, e5), !(!isNaN(h2) && h2 == t4 || (r3.info("Top quality " + C2 + " index has changed from " + h2 + " to " + t4), h2 = t4, 0))) || function() {
                      var e6 = O2.getCurrentRepresentationInfo();
                      return !C2 || !e6 || b2.getCurrentBufferLevel(C2) < U2();
                    }());
                  } catch (e6) {
                    return false;
                  }
                  var e5, t4;
                }()) {
                  var e4 = false;
                  v2 && (e4 = R2.checkPlaybackQuality(C2, n3.id)), e4 || (i3 = O2.getCurrentRepresentationInfo(), y2 || i3.quality !== p2 || m2 ? (m2 ? (r3.debug("Switch track for " + C2 + ", representation id = " + i3.id), m2 = false) : r3.debug("Quality has changed, get init request for representationid = " + i3.id), S2.trigger(l.Z.INIT_FRAGMENT_NEEDED, { representationId: i3.id, sender: t3 }, { streamId: n3.id, mediaType: C2 }), v2 = false, y2 = false) : (r3.debug("Media segment needed for ".concat(C2, " and stream id ").concat(n3.id)), S2.trigger(l.Z.MEDIA_FRAGMENT_NEEDED, {}, { streamId: n3.id, mediaType: C2 }), v2 = true));
                } else
                  F2(w2.getLowLatencyModeEnabled() ? M2.get().streaming.scheduling.lowLatencyTimeout : M2.get().streaming.scheduling.defaultTimeout);
              } catch (e5) {
                F2(w2.getLowLatencyModeEnabled() ? M2.get().streaming.scheduling.lowLatencyTimeout : M2.get().streaming.scheduling.defaultTimeout);
              }
              var i3;
            }
            function U2() {
              var e4 = NaN, t4 = O2.getCurrentRepresentationInfo();
              return C2 && t4 ? (e4 = C2 === a2.Z.TEXT ? function() {
                try {
                  if (N2.isTextEnabled()) {
                    var e5 = O2.getCurrentRepresentationInfo();
                    if (isNaN(e5.fragmentDuration)) {
                      var t5 = b2.getCurrentSchedulingInfo(s2.Z.SCHEDULING_INFO);
                      return t5 ? t5.duration : 0;
                    }
                    return e5.fragmentDuration;
                  }
                  return 0;
                } catch (e6) {
                  return 0;
                }
              }() : C2 === a2.Z.AUDIO && c2 ? function() {
                try {
                  var e5 = b2.getCurrentBufferLevel(a2.Z.VIDEO), t5 = O2.getCurrentRepresentationInfo();
                  return isNaN(t5.fragmentDuration) ? e5 + 1 : Math.max(e5 + 1, t5.fragmentDuration);
                } catch (e6) {
                  return 0;
                }
              }() : function() {
                try {
                  var e5 = O2.getCurrentRepresentationInfo().mediaInfo.streamInfo;
                  return R2.isPlayingAtTopQuality(e5) ? e5.manifestInfo.duration >= M2.get().streaming.buffer.longFormContentDurationThreshold ? M2.get().streaming.buffer.bufferTimeAtTopQualityLongForm : M2.get().streaming.buffer.bufferTimeAtTopQuality : A2.getStableBufferTime();
                } catch (e6) {
                  return A2.getStableBufferTime();
                }
              }(), e4) : e4;
            }
            function Z2() {
              B2(true);
            }
            function B2(e4) {
              if (w2 && I2) {
                var t4 = I2.getRequests({ state: T.FRAGMENT_MODEL_EXECUTED, time: w2.getTime(), threshold: 0 })[0];
                t4 && w2.getTime() >= t4.startTime && ((!g2.mediaInfo || t4.mediaInfo.type === g2.mediaInfo.type && t4.mediaInfo.index !== g2.mediaInfo.index) && e4 && S2.trigger(l.Z.TRACK_CHANGE_RENDERED, { mediaType: C2, oldMediaInfo: g2.mediaInfo, newMediaInfo: t4.mediaInfo, streamId: n3.id }), t4.quality === g2.quality && t4.adaptationIndex === g2.adaptationIndex || !e4 || (r3.debug("Quality change rendered for streamId ".concat(n3.id, " and type ").concat(C2)), S2.trigger(l.Z.QUALITY_CHANGE_RENDERED, { mediaType: C2, oldQuality: g2.quality, newQuality: t4.quality, streamId: n3.id })), g2 = { mediaInfo: t4.mediaInfo, quality: t4.quality, adaptationIndex: t4.adaptationIndex });
              }
            }
            function G2() {
              I2.abortRequests(), x2();
            }
            function q2() {
              M2.get().streaming.scheduling.scheduleWhilePaused || F2();
            }
            function Y2(e4) {
              b2.updatePlayListTraceMetrics({ playbackspeed: e4.playbackRate.toString() });
            }
            function j2() {
              v2 = true, i2 = 0, p2 = NaN, g2 = { mediaInfo: void 0, quality: NaN, adaptationIndex: NaN }, h2 = NaN, m2 = false, y2 = false, E2 = true;
            }
            return t3 = { initialize: function(e4) {
              c2 = e4, S2.on(l.Z.URL_RESOLUTION_FAILED, G2, t3), S2.on(d.Z.PLAYBACK_STARTED, q2, t3), S2.on(d.Z.PLAYBACK_RATE_CHANGED, Y2, t3), S2.on(d.Z.PLAYBACK_TIME_UPDATED, Z2, t3), S2.on(d.Z.MANAGED_MEDIA_SOURCE_START_STREAMING, P2, t3), S2.on(d.Z.MANAGED_MEDIA_SOURCE_END_STREAMING, L2, t3);
            }, getType: function() {
              return C2;
            }, getStreamId: function() {
              return n3.id;
            }, setTimeToLoadDelay: function(e4) {
              i2 = e4;
            }, getTimeToLoadDelay: function() {
              return i2;
            }, setSwitchTrack: function(e4) {
              m2 = e4;
            }, getSwitchTrack: function() {
              return m2;
            }, startScheduleTimer: F2, clearScheduleTimer: x2, reset: function() {
              S2.off(l.Z.URL_RESOLUTION_FAILED, G2, t3), S2.off(d.Z.PLAYBACK_STARTED, q2, t3), S2.off(d.Z.PLAYBACK_RATE_CHANGED, Y2, t3), S2.off(d.Z.PLAYBACK_TIME_UPDATED, Z2, t3), S2.off(d.Z.MANAGED_MEDIA_SOURCE_START_STREAMING, P2, t3), S2.off(d.Z.MANAGED_MEDIA_SOURCE_END_STREAMING, L2, t3), x2(), B2(false), j2(), n3 = null;
            }, getBufferTarget: U2, getPlaybackController: function() {
              return w2;
            }, setCheckPlaybackQuality: function(e4) {
              v2 = e4;
            }, setInitSegmentRequired: function(e4) {
              y2 = e4;
            }, setLastInitializedQuality: function(e4) {
              p2 = e4;
            } }, r3 = (0, f.Z)(_2).getInstance().getLogger(t3), j2(), n3 = e3.streamInfo, t3;
          }
          Y.__dashjs_factory_name = "ScheduleController";
          var j = c.Z.getClassFactory(Y), H = n2(7387);
          function V(e3) {
            var t3, n3, r3, i2, o2, s3, u2 = (e3 = e3 || {}).eventBus, l2 = e3.events, c2 = e3.abrController, f2 = e3.dashMetrics, g2 = e3.playbackController, h2 = e3.timelineConverter, p2 = e3.type, m2 = e3.streamInfo, y2 = e3.dashConstants, E2 = e3.segmentsController, v2 = e3.isDynamic, _2 = e3.adapter;
            function T2() {
              return p2;
            }
            function S2() {
              return r3;
            }
            function b2() {
              return s3;
            }
            function A2() {
              n3 = null, r3 = true, i2 = [], o2 = null;
            }
            function I2(e4) {
              return new Promise(function(t4, n4) {
                var r4 = e4.hasInitialization(), a3 = e4.hasSegments(), o3 = [];
                o3.push(E2.updateInitData(e4, r4)), o3.push(E2.updateSegmentData(e4, a3)), Promise.all(o3).then(function(n5) {
                  var r5;
                  n5[0] && !n5[0].error && (e4 = function(e5, t5) {
                    return t5 && !t5.error && t5.representation ? t5.representation : e5;
                  }(e4, n5[0])), n5[1] && !n5[1].error && (e4 = function(e5, t5) {
                    if (t5 && !t5.error) {
                      var n6, r6, i3, a4, o4 = t5.segments, s4 = [], u3 = 0;
                      for (n6 = 0, r6 = o4 ? o4.length : 0; n6 < r6; n6++)
                        i3 = o4[n6], (a4 = (0, H.TJ)(h2, v2, e5, i3.startTime, i3.duration, i3.timescale, i3.media, i3.mediaRange, u3)) && (s4.push(a4), a4 = null, u3++);
                      return s4.length > 0 && (e5.segments = s4), e5;
                    }
                  }(e4, n5[1])), (r5 = e4).mediaFinishedInformation = E2.getMediaFinishedInformation(r5), function(e5) {
                    if (S2()) {
                      var t5, n6, r6 = f2.getCurrentManifestUpdate(), a4 = false;
                      if (r6) {
                        for (var o4 = 0; o4 < r6.representationInfo.length; o4++)
                          if ((t5 = r6.representationInfo[o4]).index === e5.index && t5.mediaType === T2()) {
                            a4 = true;
                            break;
                          }
                        a4 || f2.addManifestUpdateRepresentationInfo(e5, T2());
                      }
                      if (function() {
                        for (var e6 = 0, t6 = i2.length; e6 < t6; e6++) {
                          var n7 = i2[e6].segmentInfoType;
                          if (!i2[e6].hasInitialization() || (n7 === y2.SEGMENT_BASE || n7 === y2.BASE_URL) && !i2[e6].segments)
                            return false;
                        }
                        return true;
                      }()) {
                        c2.setPlaybackQuality(p2, m2, (n6 = s3, i2.indexOf(n6)));
                        var u3 = f2.getCurrentDVRInfo(p2);
                        u3 && f2.updateManifestUpdateInfo({ latency: u3.range.end - g2.getTime() }), f2.getCurrentRepresentationSwitch(b2().adaptation.type) || R2(), N2();
                      }
                    }
                  }(e4), t4();
                }).catch(function(e5) {
                  n4(e5);
                });
              });
            }
            function R2() {
              !function() {
                if (!(c2 && f2 && g2 && h2))
                  throw new Error(a2.Z.MISSING_CONFIG_ERROR);
              }();
              var e4 = /* @__PURE__ */ new Date(), t4 = b2(), n4 = 1e3 * g2.getTime();
              t4 && f2.addRepresentationSwitch(t4.adaptation.type, e4, n4, t4.id), u2.trigger(d.Z.REPRESENTATION_SWITCH, { mediaType: p2, streamId: m2.id, currentRepresentation: t4, numberOfRepresentations: i2.length }, { streamId: m2.id, mediaType: p2 });
            }
            function w2(e4) {
              return null == e4 || e4 >= i2.length ? null : i2[e4];
            }
            function N2(e4) {
              r3 = false, u2.trigger(l2.DATA_UPDATE_COMPLETED, { data: n3, currentRepresentation: s3, error: e4 }, { streamId: m2.id, mediaType: p2 });
            }
            function C2(e4) {
              s3 = e4, o2 = _2.convertRepresentationToRepresentationInfo(s3);
            }
            function D2(e4) {
              if (e4.newDuration) {
                var t4 = b2();
                t4 && t4.adaptation.period && (t4.adaptation.period.duration = e4.newDuration);
              }
            }
            return t3 = { getStreamId: function() {
              return m2.id;
            }, getType: T2, getData: function() {
              return n3;
            }, isUpdating: S2, updateData: function(e4, t4, o3, s4, u3) {
              return new Promise(function(l3, c3) {
                if (r3 = true, i2 = t4, n3 = e4, C2(w2(u3)), o3 !== a2.Z.VIDEO && o3 !== a2.Z.AUDIO && (o3 !== a2.Z.TEXT || !s4))
                  return N2(), void l3();
                for (var f3 = [], d2 = 0, g3 = i2.length; d2 < g3; d2++) {
                  var h3 = i2[d2];
                  f3.push(I2(h3));
                }
                Promise.all(f3).then(function() {
                  C2(w2(u3)), l3();
                }).catch(function(e5) {
                  c3(e5);
                });
              });
            }, getCurrentRepresentation: b2, getCurrentRepresentationInfo: function() {
              return o2;
            }, getRepresentationForQuality: w2, prepareQualityChange: function(e4) {
              C2(w2(e4)), R2();
            }, reset: function() {
              u2.off(d.Z.MANIFEST_VALIDITY_CHANGED, D2, t3), A2();
            } }, A2(), u2.on(d.Z.MANIFEST_VALIDITY_CHANGED, D2, t3), t3;
          }
          V.__dashjs_factory_name = "RepresentationController";
          var K = c.Z.getClassFactory(V), z = n2(3106), W = n2(9326), X = n2(7473), Q = n2(2594);
          function J(e3, t3) {
            if (!(e3 instanceof t3))
              throw new TypeError("Cannot call a class as a function");
          }
          var $ = function e3() {
            J(this, e3), this.start = null, this.mstart = null, this.starttype = null, this.trace = [];
          };
          $.INITIAL_PLAYOUT_START_REASON = "initial_playout", $.SEEK_START_REASON = "seek", $.RESUME_FROM_PAUSE_START_REASON = "resume", $.METRICS_COLLECTION_START_REASON = "metrics_collection_start";
          var ee = function e3() {
            J(this, e3), this.representationid = null, this.subreplevel = null, this.start = null, this.mstart = null, this.duration = null, this.playbackspeed = null, this.stopreason = null;
          };
          ee.REPRESENTATION_SWITCH_STOP_REASON = "representation_switch", ee.REBUFFERING_REASON = "rebuffering", ee.USER_REQUEST_STOP_REASON = "user_request", ee.END_OF_PERIOD_STOP_REASON = "end_of_period", ee.END_OF_CONTENT_STOP_REASON = "end_of_content", ee.METRICS_COLLECTION_STOP_REASON = "metrics_collection_end", ee.FAILURE_STOP_REASON = "failure";
          var te = n2(7802);
          function ne() {
            return { ntpToUTC: function(e3) {
              var t3 = new Date(Date.UTC(1900, 0, 1, 0, 0, 0));
              return new Date(t3.getTime() + e3).getTime();
            } };
          }
          ne.__dashjs_factory_name = "TimeUtils";
          var re = c.Z.getSingletonFactory(ne);
          function ie(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, c2, g2, h2, p2, m2, y2, E2, v2, _2, b2, A2, I2 = this.context, R2 = (0, u.Z)(I2).getInstance(), N2 = e3.streamInfo, D2 = e3.type, O2 = e3.errHandler, M2 = e3.mimeType, P2 = e3.timelineConverter, L2 = e3.adapter, F2 = e3.manifestModel, x2 = e3.mediaPlayerModel, k2 = e3.fragmentModel, U2 = e3.abrController, B2 = e3.playbackController, G2 = e3.mediaController, Y2 = e3.textController, H2 = e3.dashMetrics, V2 = e3.settings, J2 = e3.boxParser, $2 = e3.segmentBlacklistController;
            function ne2() {
              return N2.id;
            }
            function ie2() {
              return D2;
            }
            function ae2() {
              return L2.getIsTextTrack(p2.getData());
            }
            function oe2() {
              c2 = [], i2 = null, b2 = 0, m2 = false, y2 = false, E2 = false, A2 = null;
            }
            function se2(e4) {
              return !isNaN(e4) && !isNaN(N2.duration) && isFinite(N2.duration) && e4 >= N2.start + N2.duration;
            }
            function ue2(e4) {
              var t4 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
              if (e4.sender) {
                if (B2.getIsManifestUpdateInProgress())
                  ge2();
                else if ((!ae2() || Y2.isTextEnabled()) && g2 && e4.representationId && !g2.appendInitSegmentFromCache(e4.representationId)) {
                  var n4 = p2.getCurrentRepresentation();
                  if (0 === n4.range)
                    return void le2();
                  var r4 = v2 ? v2.getInitRequest(i2, n4) : null;
                  r4 ? k2.executeRequest(r4) : t4 && (h2.setInitSegmentRequired(true), ge2());
                }
              }
            }
            function le2(e4) {
              var t4 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
              if (B2.getIsManifestUpdateInProgress() || g2.getIsPruningInProgress())
                ge2();
              else {
                var n4 = de2();
                n4 ? (m2 = false, y2 = false, ce2(n4)) : fe2(t4);
              }
            }
            function ce2(e4) {
              isNaN(e4.startTime + e4.duration) || (b2 = e4.startTime + e4.duration), e4.delayLoadingTime = (/* @__PURE__ */ new Date()).getTime() + h2.getTimeToLoadDelay(), h2.setTimeToLoadDelay(0), function(e5) {
                var t4 = e5.url;
                return e5.range && (t4 = t4.concat("_", e5.range)), $2.contains(t4);
              }(e4) ? (n3.warn("Fragment request url ".concat(e4.url, " for stream id ").concat(N2.id, " and media type ").concat(D2, " is on the ignore list and will be skipped")), ge2()) : (n3.debug("Next fragment request url for stream id ".concat(N2.id, " and media type ").concat(D2, " is ").concat(e4.url)), k2.executeRequest(e4));
            }
            function fe2(e4) {
              var t4, a3 = p2.getCurrentRepresentation();
              if (!V2.get().streaming.gaps.enableSeekFix || !m2 && 0 !== B2.getTime() || (r3 ? r3 && a3.segmentInfoType === o.Z.SEGMENT_TIMELINE && (t4 = v2.getValidTimeAheadOfTargetTime(b2, i2, a3, V2.get().streaming.gaps.threshold)) : t4 = v2.getValidTimeAheadOfTargetTime(b2, i2, a3, V2.get().streaming.gaps.threshold), isNaN(t4) || t4 === b2)) {
                if (v2.isLastSegmentRequested(a3, b2)) {
                  var s3 = v2.getCurrentIndex();
                  return n3.debug("Segment requesting for stream ".concat(N2.id, " has finished")), R2.trigger(l.Z.STREAM_REQUESTING_COMPLETED, { segmentIndex: s3 }, { streamId: N2.id, mediaType: D2 }), g2.segmentRequestingCompleted(s3), void h2.clearScheduleTimer();
                }
                e4 && ge2();
              } else
                B2.isSeeking() || 0 === B2.getTime() ? (n3.warn("Adjusting playback time ".concat(t4, " because of gap in the manifest. Seeking by ").concat(t4 - b2)), B2.seek(t4, false, false)) : (n3.warn("Adjusting buffering time ".concat(t4, " because of gap in the manifest. Adjusting time by ").concat(t4 - b2)), Fe2(t4), e4 && ge2());
            }
            function de2() {
              var e4, t4 = Ne2();
              if (isNaN(b2) || ie2() === a2.Z.TEXT && !Y2.isTextEnabled())
                return null;
              if (v2) {
                var n4 = p2 && t4 ? p2.getRepresentationForQuality(t4.quality) : null;
                e4 = m2 ? v2.getSegmentRequestForTime(i2, n4, b2) : y2 ? v2.repeatSegmentRequest(i2, n4) : v2.getNextSegmentRequest(i2, n4);
              }
              return e4;
            }
            function ge2() {
              h2.startScheduleTimer(B2.getLowLatencyModeEnabled() ? V2.get().streaming.scheduling.lowLatencyTimeout : V2.get().streaming.scheduling.defaultTimeout);
            }
            function he2(e4) {
              e4.error || g2.getIsBufferingCompleted() || g2.updateBufferTimestampOffset(e4.currentRepresentation);
            }
            function pe2(e4) {
              H2.addBufferState(D2, e4.state, h2.getBufferTarget()), e4.state !== s2.Z.BUFFER_EMPTY || B2.isSeeking() || (n3.info("Buffer is empty! Stalling!"), H2.pushPlayListTraceMetrics(/* @__PURE__ */ new Date(), ee.REBUFFERING_REASON));
            }
            function me2(e4) {
              k2.syncExecutedRequestsWithBufferedRange(g2.getBuffer().getAllBufferRanges(), N2.duration), e4.quotaExceeded && e4.from > B2.getTime() && Fe2(e4.from), e4.hasEnoughSpaceToAppend && e4.quotaExceeded && h2.startScheduleTimer();
            }
            function ye2(e4) {
              if (e4 && e4.lastRequestAppended && e4.lastRequestAppended.url) {
                var t4 = e4.lastRequestAppended.url;
                e4.lastRequestAppended.range && (t4 = t4.concat("_", e4.lastRequestAppended.range)), n3.warn("Blacklisting segment with url ".concat(t4)), $2.add(t4);
              }
            }
            function Ee2(e4) {
              if (n3.debug("Appended bytes for ".concat(e4.mediaType, " and stream id ").concat(e4.streamId)), e4.segmentType === C.w.INIT_SEGMENT_TYPE) {
                var t4 = e4.quality;
                h2.setLastInitializedQuality(t4), n3.info("[" + D2 + "] lastInitializedRepresentationInfo changed to " + e4.quality);
              }
              A2 ? ve2(A2) : h2.startScheduleTimer(0);
            }
            function ve2(e4) {
              var t4 = k2.getRequests({ state: T.FRAGMENT_MODEL_LOADING });
              if (t4 && t4.length > 0)
                return n3.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."), void (A2 = e4);
              g2.updateBufferTimestampOffset(e4).then(function() {
                h2.setCheckPlaybackQuality(false), i2.segmentAlignment || i2.subSegmentAlignment ? h2.startScheduleTimer() : Pe2(), A2 = null, E2 = false;
              }).catch(function() {
                A2 = null, E2 = false;
              });
            }
            function _e2(e4) {
              n3.info("onFragmentLoadingAbandoned request: " + e4.request.url + " has been aborted"), B2.isSeeking() || h2.getSwitchTrack() || E2 || (n3.info("onFragmentLoadingAbandoned request: " + e4.request.url + " has to be downloaded again, origin is not seeking process or switch track call"), e4.request && e4.request.isInitializationRequest() ? h2.setInitSegmentRequired(true) : Fe2(e4.request.startTime + e4.request.duration / 2), h2.startScheduleTimer(0));
            }
            function Te2(e4) {
              n3.info("OnFragmentLoadingCompleted for stream id " + N2.id + " and media type " + D2 + " - Url:", e4.request ? e4.request.url : "undefined", e4.request.range ? ", Range:" + e4.request.range : ""), ae2() && h2.startScheduleTimer(0), e4.error && e4.request.serviceLocation && function(e5) {
                n3.info("Fragment loading completed with an error"), e5 && e5.request && e5.request.type && (e5.request.type === C.w.INIT_SEGMENT_TYPE ? ue2({ representationId: e5.request.representationId, sender: {} }, false) : e5.request.type === C.w.MEDIA_SEGMENT_TYPE && (Fe2(e5.request.startTime + e5.request.duration / 2), le2({}, false)));
              }(e4);
            }
            function Se2() {
              Fe2(B2.getTime()), we2().startScheduleTimer();
            }
            function be2(e4) {
              var t4 = e4.currentTrackInfo;
              if (t4) {
                var n4 = c2.find(function(e5) {
                  return e5.index === t4.index && e5.lang === t4.lang;
                });
                n4 && Re2(n4).then(function() {
                  g2.setIsBufferingCompleted(false), Fe2(B2.getTime()), h2.setInitSegmentRequired(true), h2.startScheduleTimer();
                });
              }
            }
            function Ae2(e4) {
              Fe2(e4.quotaExceededTime), h2.clearScheduleTimer();
            }
            function Ie2() {
              return g2 ? g2.getBuffer() : null;
            }
            function Re2(e4) {
              e4 === i2 || e4 && i2 && e4.type !== i2.type || (i2 = e4);
              var t4 = L2.getRealAdaptation(N2, i2), n4 = L2.getVoRepresentations(i2);
              if (p2) {
                var o2, s3 = p2.getData(), u2 = U2.getMaxAllowedIndexFor(D2, N2.id), l2 = U2.getMinAllowedIndexFor(D2, N2.id), c3 = null;
                return null !== s3 && s3.id === t4.id || D2 === a2.Z.TEXT ? o2 = U2.getQualityFor(D2, N2.id) : (c3 = U2.getThroughputHistory().getAverageThroughput(D2, r3) || U2.getInitialBitrateFor(D2, N2.id), o2 = U2.getQualityForBitrate(i2, c3, N2.id)), void 0 !== l2 && o2 < l2 && (o2 = l2), o2 > u2 && (o2 = u2), p2.updateData(t4, n4, D2, i2.isFragmented, o2);
              }
              return Promise.resolve();
            }
            function we2() {
              return h2;
            }
            function Ne2(e4) {
              var t4;
              return void 0 !== e4 ? ((0, z.SE)(e4), t4 = p2 ? p2.getRepresentationForQuality(e4) : null) : t4 = p2 ? p2.getCurrentRepresentation() : null, L2.convertRepresentationToRepresentationInfo(t4);
            }
            function Ce2() {
              return !!g2 && g2.getIsBufferingCompleted();
            }
            function De2(e4) {
              if (V2.get().streaming.enableManifestTimescaleMismatchFix) {
                var t4 = e4.chunk, n4 = t4.bytes, r4 = Ne2(t4.quality), i3 = p2 && r4 ? p2.getRepresentationForQuality(r4.quality) : null;
                r4 && i3 && (i3.timescale = J2.getMediaTimescaleFromMoov(n4));
              }
            }
            function Oe2(e4) {
              var t4 = e4.chunk, n4 = t4.bytes, r4 = t4.quality, i3 = Ne2(r4), a3 = p2 && i3 ? p2.getRepresentationForQuality(i3.quality) : null;
              if (i3 && a3) {
                var s3;
                if (V2.get().streaming.parseInbandPrft && e4.request.type === C.w.MEDIA_SEGMENT_TYPE) {
                  var u2 = function(e5, t5) {
                    var n5 = e5.getBoxes("prft"), r5 = [];
                    return n5.forEach(function(e6) {
                      r5.push(function(e7, t6) {
                        var n6 = "unknown";
                        switch (e7.flags) {
                          case 0:
                            n6 = o.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;
                            break;
                          case 16:
                            n6 = o.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;
                            break;
                          case 24:
                            n6 = o.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED;
                        }
                        var r6 = 1e3 * e7.ntp_timestamp_sec + e7.ntp_timestamp_frac / Math.pow(2, 32) * 1e3;
                        return { type: n6, ntpTimestamp: r6 = re(I2).getInstance().ntpToUTC(r6), mediaTime: e7.media_time / t6 };
                      }(e6, t5));
                    }), r5;
                  }(s3 = s3 || J2.parse(n4), a3.timescale);
                  u2 && u2.length && R2.trigger(d.Z.INBAND_PRFT, { data: u2 }, { streamId: N2.id, mediaType: D2 });
                }
                var c3 = L2.getEventsFor(i3.mediaInfo, null, N2), f2 = L2.getEventsFor(i3, a3, N2);
                if (c3 && c3.length > 0 || f2 && f2.length > 0) {
                  var g3 = k2.getRequests({ state: T.FRAGMENT_MODEL_EXECUTED, quality: r4, index: t4.index })[0], h3 = function(e5, t5, n5, r5) {
                    try {
                      for (var i4 = {}, a4 = [], o2 = n5.concat(r5), s4 = 0, u3 = o2.length; s4 < u3; s4++)
                        i4[o2[s4].schemeIdUri + "/" + o2[s4].value] = o2[s4];
                      var l2 = e5.getBoxes("emsg");
                      if (!l2 || 0 === l2.length)
                        return a4;
                      for (var c4 = e5.getBox("sidx"), f3 = !c4 || isNaN(c4.earliest_presentation_time) || isNaN(c4.timescale) ? t5 && !isNaN(t5.mediaStartTime) ? t5.mediaStartTime : 0 : c4.earliest_presentation_time / c4.timescale, d2 = Math.max(f3, 0), g4 = p2.getCurrentRepresentation(), h4 = 0, m3 = l2.length; h4 < m3; h4++) {
                        var y3 = L2.getEvent(l2[h4], i4, d2, g4);
                        y3 && a4.push(y3);
                      }
                      return a4;
                    } catch (e6) {
                      return [];
                    }
                  }(s3 = s3 || J2.parse(n4), g3, c3, f2);
                  R2.trigger(l.Z.INBAND_EVENTS, { events: h3 }, { streamId: N2.id });
                }
              }
            }
            function Me2() {
              var e4 = B2.getTime();
              V2.get().streaming.buffer.flushBufferAtTrackSwitch && B2.seek(e4 + 1e-3, false, true), Fe2(e4), g2.setSeekTarget(e4), h2.startScheduleTimer();
            }
            function Pe2() {
              var e4 = B2.getTime(), t4 = g2.getContinuousBufferTimeForTargetTime(e4);
              Fe2(isNaN(t4) ? e4 : t4), h2.startScheduleTimer();
            }
            function Le2(e4) {
              e4 && !isNaN(e4.time) && (Fe2(e4.time), g2.setSeekTarget(e4.time));
            }
            function Fe2(e4) {
              b2 = e4, m2 = true;
            }
            return t3 = { initialize: function(n4, i3, s3) {
              _2 = (0, te.Z)(I2).create({ events: l.Z, eventBus: R2, streamInfo: N2, timelineConverter: P2, dashConstants: o.Z, segmentBaseController: e3.segmentBaseController, type: D2 }), v2 = (0, W.Z)(I2).create({ streamInfo: N2, type: D2, timelineConverter: P2, dashMetrics: H2, mediaPlayerModel: x2, baseURLController: e3.baseURLController, errHandler: O2, segmentsController: _2, settings: V2, boxParser: J2, events: l.Z, eventBus: R2, errors: w, debug: (0, f.Z)(I2).getInstance(), requestModifier: (0, X.Z)(I2).getInstance(), dashConstants: o.Z, constants: a2.Z, urlUtils: (0, Q.Z)(I2).getInstance() }), r3 = N2.manifestInfo.isDynamic, v2.initialize(r3), U2.registerStreamType(D2, t3), p2 = K(I2).create({ streamInfo: N2, type: D2, abrController: U2, dashMetrics: H2, playbackController: B2, timelineConverter: P2, dashConstants: o.Z, events: l.Z, eventBus: R2, errors: w, isDynamic: r3, adapter: L2, segmentsController: _2 }), g2 = function(e4, t4) {
                return e4 ? e4 !== a2.Z.TEXT || t4 ? Z(I2).create({ streamInfo: N2, type: e4, mediaPlayerModel: x2, manifestModel: F2, fragmentModel: k2, errHandler: O2, mediaController: G2, representationController: p2, adapter: L2, textController: Y2, abrController: U2, playbackController: B2, settings: V2 }) : q(I2).create({ streamInfo: N2, type: e4, mimeType: M2, fragmentModel: k2, textController: Y2, errHandler: O2, settings: V2 }) : (O2.error(new S.Z(w.MEDIASOURCE_TYPE_UNSUPPORTED_CODE, w.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE + "not properly defined")), null);
              }(D2, s3), g2 && g2.initialize(n4), (h2 = j(I2).create({ streamInfo: N2, type: D2, mimeType: M2, adapter: L2, dashMetrics: H2, mediaPlayerModel: x2, fragmentModel: k2, abrController: U2, playbackController: B2, textController: Y2, mediaController: G2, bufferController: g2, representationController: p2, settings: V2 })).initialize(i3), b2 = 0, m2 = false, y2 = false;
            }, getStreamId: ne2, getType: ie2, isUpdating: function() {
              return !!p2 && p2.isUpdating();
            }, getBufferController: function() {
              return g2;
            }, dischargePreBuffer: function() {
              g2.dischargePreBuffer();
            }, getFragmentModel: function() {
              return k2;
            }, getScheduleController: we2, getRepresentationController: function() {
              return p2;
            }, getRepresentationInfo: Ne2, getBufferLevel: function() {
              return g2 ? g2.getBufferLevel() : 0;
            }, isBufferingCompleted: Ce2, createBufferSinks: function(e4) {
              var t4 = Ie2();
              return t4 ? Promise.resolve(t4) : g2 ? g2.createBufferSink(i2, e4) : Promise.resolve(null);
            }, updateStreamInfo: function(e4) {
              return N2 = e4, Ce2() ? Promise.resolve() : g2.updateAppendWindow();
            }, getStreamInfo: function() {
              return N2;
            }, selectMediaInfo: Re2, clearMediaInfoArray: function() {
              c2 = [];
            }, addMediaInfo: function(e4) {
              -1 === c2.indexOf(e4) && c2.push(e4);
            }, prepareTrackSwitch: function() {
              return new Promise(function(e4) {
                n3.debug("Preparing track switch for type ".concat(D2));
                var t4 = D2 === a2.Z.TEXT || V2.get().streaming.trackSwitchMode[D2] === a2.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE && B2.getTimeToStreamEnd(N2) > V2.get().streaming.buffer.stallThreshold;
                if (g2.getIsBufferingCompleted() && !t4)
                  return g2.prepareForNonReplacementTrackSwitch(i2.codec).then(function() {
                    R2.trigger(l.Z.BUFFERING_COMPLETED, {}, { streamId: N2.id, mediaType: D2 });
                  }).catch(function() {
                    R2.trigger(l.Z.BUFFERING_COMPLETED, {}, { streamId: N2.id, mediaType: D2 });
                  }), void e4();
                h2.clearScheduleTimer(), h2.setSwitchTrack(true), t4 ? (R2.trigger(l.Z.BUFFER_REPLACEMENT_STARTED, { mediaType: D2, streamId: N2.id }, { mediaType: D2, streamId: N2.id }), k2.abortRequests(), g2.prepareForReplacementTrackSwitch(i2.codec).then(function() {
                  var e5 = Ne2();
                  return g2.updateBufferTimestampOffset(e5);
                }).then(function() {
                  Me2(), e4();
                }).catch(function() {
                  Me2(), e4();
                })) : g2.prepareForNonReplacementTrackSwitch(i2.codec).then(function() {
                  Pe2(), e4();
                }).catch(function() {
                  Pe2(), e4();
                });
              });
            }, prepareQualityChange: function(e4) {
              A2 && n3.warn("Canceling queued representation switch to ".concat(A2.quality, " for ").concat(D2)), n3.debug("Preparing quality switch for type ".concat(D2));
              var t4 = e4.newQuality;
              E2 = true, h2.clearScheduleTimer(), p2.prepareQualityChange(t4);
              var r4 = Ne2(t4);
              e4.reason && e4.reason.forceReplace ? function(e5) {
                k2.abortRequests(), R2.trigger(l.Z.BUFFER_REPLACEMENT_STARTED, { mediaType: D2, streamId: N2.id }, { mediaType: D2, streamId: N2.id }), h2.setCheckPlaybackQuality(false), g2.prepareForForceReplacementQualitySwitch(e5).then(function() {
                  Me2(), A2 = null, E2 = false;
                }).catch(function() {
                  Me2(), A2 = null, E2 = false;
                });
              }(r4) : e4 && e4.reason && e4.reason.forceAbandon ? function(e5) {
                g2.updateBufferTimestampOffset(e5).then(function() {
                  k2.abortRequests(), y2 = true, h2.setCheckPlaybackQuality(false), h2.startScheduleTimer(), E2 = false, A2 = null;
                }).catch(function() {
                  A2 = null, E2 = false;
                });
              }(r4) : V2.get().streaming.buffer.fastSwitchEnabled ? function(e5) {
                var t5 = B2.getTime(), n4 = 1.5 * (isNaN(e5.fragmentDuration) ? 1 : e5.fragmentDuration), r5 = k2.getRequests({ state: T.FRAGMENT_MODEL_EXECUTED, time: t5 + n4, threshold: 0 })[0];
                if (r5 && !ae2()) {
                  var i3 = g2.getBufferLevel(), a3 = U2.getAbandonmentStateFor(N2.id, D2);
                  r5.quality < e5.quality && i3 >= n4 && a3 !== s2.Z.ABANDON_LOAD ? g2.updateBufferTimestampOffset(e5).then(function() {
                    k2.abortRequests(), Fe2(t5 + n4), h2.setCheckPlaybackQuality(false), h2.startScheduleTimer(), E2 = false;
                  }).catch(function() {
                    E2 = false;
                  }) : ve2(e5);
                } else
                  ve2(e5);
              }(r4) : ve2(r4), H2.pushPlayListTraceMetrics(/* @__PURE__ */ new Date(), ee.REPRESENTATION_SWITCH_STOP_REASON), H2.createPlaylistTraceMetrics(r4.id, 1e3 * B2.getTime(), B2.getPlaybackRate());
            }, getMediaInfo: function() {
              return i2;
            }, getMediaSource: function() {
              return g2.getMediaSource();
            }, setMediaSource: function(e4) {
              return g2.setMediaSource(e4, i2);
            }, getBuffer: Ie2, setExplicitBufferingTime: Fe2, finalisePlayList: function(e4, t4) {
              H2.pushPlayListTraceMetrics(e4, t4);
            }, probeNextRequest: function() {
              var e4 = Ne2(), t4 = p2 && e4 ? p2.getRepresentationForQuality(e4.quality) : null;
              return v2.getNextSegmentRequestIdempotent(i2, t4);
            }, prepareInnerPeriodPlaybackSeeking: function(e4) {
              return new Promise(function(t4) {
                if (g2.hasBufferAtTime(e4.seekTime))
                  return g2.pruneBuffer(), se2(g2.getContinuousBufferTimeForTargetTime(e4.seekTime)) && g2.setIsBufferingCompleted(true), void t4();
                h2.clearScheduleTimer(), k2.abortRequests(), g2.prepareForPlaybackSeek().then(function() {
                  var t5 = g2.getAllRangesWithSafetyFactor(e4.seekTime);
                  return g2.clearBuffers(t5);
                }).then(function() {
                  var n4 = g2.getContinuousBufferTimeForTargetTime(e4.seekTime);
                  if (se2(n4))
                    g2.setIsBufferingCompleted(true), t4();
                  else {
                    var r4 = isNaN(n4) ? e4.seekTime : n4;
                    Fe2(r4), g2.setSeekTarget(r4);
                    var i3 = [];
                    i3.push(g2.updateAppendWindow());
                    var a3 = Ne2();
                    i3.push(g2.updateBufferTimestampOffset(a3)), Promise.all(i3).then(function() {
                      h2.setInitSegmentRequired(true), h2.setCheckPlaybackQuality(false), h2.startScheduleTimer(), t4();
                    });
                  }
                }).catch(function(e5) {
                  n3.error(e5);
                });
              });
            }, prepareOuterPeriodPlaybackSeeking: function() {
              return new Promise(function(e4, t4) {
                try {
                  h2.clearScheduleTimer(), k2.abortRequests(), g2.prepareForPlaybackSeek().then(function() {
                    return g2.pruneAllSafely();
                  }).then(function() {
                    e4();
                  });
                } catch (e5) {
                  t4(e5);
                }
              });
            }, reset: function(e4, n4) {
              v2 && v2.reset(), g2 && (g2.reset(e4, n4), g2 = null), h2 && (h2.reset(), h2 = null), p2 && (p2.reset(), p2 = null), _2 && (_2 = null), U2 && U2.unRegisterStreamType(ne2(), D2), R2.off(l.Z.DATA_UPDATE_COMPLETED, he2, t3), R2.off(l.Z.INIT_FRAGMENT_NEEDED, ue2, t3), R2.off(l.Z.MEDIA_FRAGMENT_NEEDED, le2, t3), R2.off(l.Z.INIT_FRAGMENT_LOADED, De2, t3), R2.off(l.Z.MEDIA_FRAGMENT_LOADED, Oe2, t3), R2.off(l.Z.BUFFER_LEVEL_STATE_CHANGED, pe2, t3), R2.off(l.Z.BUFFER_CLEARED, me2, t3), R2.off(l.Z.SEEK_TARGET, Le2, t3), R2.off(l.Z.FRAGMENT_LOADING_ABANDONED, _e2, t3), R2.off(l.Z.FRAGMENT_LOADING_COMPLETED, Te2, t3), R2.off(l.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED, Se2, t3), R2.off(l.Z.SET_NON_FRAGMENTED_TEXT, be2, t3), R2.off(l.Z.QUOTA_EXCEEDED, Ae2, t3), R2.off(l.Z.SOURCE_BUFFER_ERROR, ye2, t3), R2.off(l.Z.BYTES_APPENDED_END_FRAGMENT, Ee2, t3), oe2(), D2 = null, N2 = null;
            } }, n3 = (0, f.Z)(I2).getInstance().getLogger(t3), oe2(), R2.on(l.Z.DATA_UPDATE_COMPLETED, he2, t3, { priority: u.Z.EVENT_PRIORITY_HIGH }), R2.on(l.Z.INIT_FRAGMENT_NEEDED, ue2, t3), R2.on(l.Z.MEDIA_FRAGMENT_NEEDED, le2, t3), R2.on(l.Z.INIT_FRAGMENT_LOADED, De2, t3), R2.on(l.Z.MEDIA_FRAGMENT_LOADED, Oe2, t3), R2.on(l.Z.BUFFER_LEVEL_STATE_CHANGED, pe2, t3), R2.on(l.Z.BUFFER_CLEARED, me2, t3), R2.on(l.Z.SEEK_TARGET, Le2, t3), R2.on(l.Z.FRAGMENT_LOADING_ABANDONED, _e2, t3), R2.on(l.Z.FRAGMENT_LOADING_COMPLETED, Te2, t3), R2.on(l.Z.QUOTA_EXCEEDED, Ae2, t3), R2.on(l.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED, Se2, t3), R2.on(l.Z.SET_NON_FRAGMENTED_TEXT, be2, t3), R2.on(l.Z.SOURCE_BUFFER_ERROR, ye2, t3), R2.on(l.Z.BYTES_APPENDED_END_FRAGMENT, Ee2, t3), t3;
          }
          ie.__dashjs_factory_name = "StreamProcessor";
          var ae = c.Z.getClassFactory(ie), oe = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.streamId = null, this.mediaInfo = null, this.segmentType = null, this.quality = NaN, this.index = NaN, this.bytes = null, this.start = NaN, this.end = NaN, this.duration = NaN, this.representationId = null, this.endFragment = null;
          }, se = n2(9032);
          function ue(e3, t3) {
            if (e3) {
              if ("string" == typeof e3)
                return le(e3, t3);
              var n3 = Object.prototype.toString.call(e3).slice(8, -1);
              return "Object" === n3 && e3.constructor && (n3 = e3.constructor.name), "Map" === n3 || "Set" === n3 ? Array.from(e3) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? le(e3, t3) : void 0;
            }
          }
          function le(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var n3 = 0, r3 = new Array(t3); n3 < t3; n3++)
              r3[n3] = e3[n3];
            return r3;
          }
          function ce(e3) {
            e3 = e3 || {};
            var t3, n3, r3 = this.context, i2 = e3.requestModifier, o2 = e3.lowLatencyThroughputModel, s3 = e3.boxParser, u2 = (0, N.Z)(r3).getInstance();
            function l2(e4) {
              var t4, r4 = /* @__PURE__ */ new Date(), l3 = e4.request, d2 = new Headers();
              if (l3.range && d2.append("Range", "bytes=" + l3.range), e4.headers)
                for (var g2 in e4.headers) {
                  var h2 = e4.headers[g2];
                  h2 && d2.append(g2, h2);
                }
              l3.requestStartDate || (l3.requestStartDate = r4), i2 && i2.modifyRequestHeader && i2.modifyRequestHeader({ setRequestHeader: function(e5, t5) {
                d2.append(e5, t5);
              } }, { url: e4.url }), "function" == typeof window.AbortController && (t4 = new AbortController(), e4.abortController = t4, t4.signal.onabort = e4.onabort);
              var p2 = { method: e4.method, headers: d2, credentials: e4.withCredentials ? "include" : void 0, signal: t4 ? t4.signal : void 0 }, m2 = u2.get().streaming.abr.fetchThroughputCalculationMode, y2 = Date.now(), E2 = 0;
              new Promise(function(e5) {
                if (m2 === a2.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST && o2 && (E2 = o2.getThroughputCapacityDelayMS(l3, 1e3 * n3.getCurrentBufferLevel(l3.mediaType))))
                  return setTimeout(e5, E2);
                e5();
              }).then(function() {
                var t5 = Date.now();
                fetch(e4.url, p2).then(function(r5) {
                  e4.response || (e4.response = {}), e4.response.status = r5.status, e4.response.statusText = r5.statusText, e4.response.responseURL = r5.url, r5.ok || e4.onerror();
                  var i3, u3 = "", d3 = function(e5, t6) {
                    var n4;
                    if ("undefined" == typeof Symbol || null == e5[Symbol.iterator]) {
                      if (Array.isArray(e5) || (n4 = ue(e5))) {
                        n4 && (e5 = n4);
                        var r6 = 0, i4 = function() {
                        };
                        return { s: i4, n: function() {
                          return r6 >= e5.length ? { done: true } : { done: false, value: e5[r6++] };
                        }, e: function(e6) {
                          throw e6;
                        }, f: i4 };
                      }
                      throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                    }
                    var a3, o3 = true, s4 = false;
                    return { s: function() {
                      n4 = e5[Symbol.iterator]();
                    }, n: function() {
                      var e6 = n4.next();
                      return o3 = e6.done, e6;
                    }, e: function(e6) {
                      s4 = true, a3 = e6;
                    }, f: function() {
                      try {
                        o3 || null == n4.return || n4.return();
                      } finally {
                        if (s4)
                          throw a3;
                      }
                    } };
                  }(r5.headers.keys());
                  try {
                    for (d3.s(); !(i3 = d3.n()).done; ) {
                      var g3 = i3.value;
                      u3 += g3 + ": " + r5.headers.get(g3) + "\r\n";
                    }
                  } catch (e5) {
                    d3.e(e5);
                  } finally {
                    d3.f();
                  }
                  if (e4.response.responseHeaders = u3, !r5.body)
                    return r5.arrayBuffer().then(function(t6) {
                      e4.response.response = t6;
                      var n4 = { loaded: t6.byteLength, total: t6.byteLength, stream: false };
                      e4.progress(n4), e4.onload(), e4.onend();
                    });
                  var h3, p3, v2, _2, T2 = parseInt(r5.headers.get("Content-Length"), 10), S2 = 0, b2 = false, A2 = new Uint8Array(), I2 = 0;
                  if (m2 === a2.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST && o2) {
                    var R2 = t5, w2 = 0, N2 = (v2 = r5.body.tee(), _2 = 2, function(e5) {
                      if (Array.isArray(e5))
                        return e5;
                    }(v2) || function(e5, t6) {
                      if ("undefined" != typeof Symbol && Symbol.iterator in Object(e5)) {
                        var n4 = [], r6 = true, i4 = false, a3 = void 0;
                        try {
                          for (var o3, s4 = e5[Symbol.iterator](); !(r6 = (o3 = s4.next()).done) && (n4.push(o3.value), !t6 || n4.length !== t6); r6 = true)
                            ;
                        } catch (e6) {
                          i4 = true, a3 = e6;
                        } finally {
                          try {
                            r6 || null == s4.return || s4.return();
                          } finally {
                            if (i4)
                              throw a3;
                          }
                        }
                        return n4;
                      }
                    }(v2, _2) || ue(v2, _2) || function() {
                      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                    }()), C2 = N2[0], D2 = N2[1];
                    h3 = C2.getReader(), p3 = [], h3.read().then(function r6(i4) {
                      var a3 = i4.value, s4 = i4.done;
                      if (w2 = Date.now(), a3 && a3.length) {
                        var c3 = w2 - R2, f3 = a3.length;
                        p3.push({ chunkDownloadTimeRelativeMS: w2 - t5, chunkDownloadDurationMS: c3, chunkBytes: f3, kbps: Math.round(8 * f3 / (c3 / 1e3)), bufferLevel: n3.getCurrentBufferLevel(l3.mediaType) });
                      }
                      if (s4) {
                        var d4 = w2 - t5, g4 = p3.reduce(function(e5, t6) {
                          return e5 + t6.chunkBytes;
                        }, 0);
                        return o2.addMeasurement(l3, d4, p3, y2, E2, u3), void e4.progress({ loaded: g4, total: g4, lengthComputable: true, time: o2.getEstimatedDownloadDurationMS(l3), stream: true });
                      }
                      return R2 = Date.now(), h3.read().then(r6);
                    }), e4.reader = D2.getReader();
                  } else
                    e4.reader = r5.body.getReader();
                  var O2 = [], M2 = [], P2 = [], L2 = true;
                  c2(e4, function t6(n4) {
                    var r6 = n4.value;
                    if (n4.done) {
                      if (A2) {
                        if (m2 !== a2.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST) {
                          var i4 = null, o3 = null;
                          m2 === a2.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING ? (i4 = function(e5, t7) {
                            try {
                              var n5, r7;
                              n5 = e5.filter(function(t8, n6) {
                                return n6 < e5.length - 1;
                              }), r7 = t7.filter(function(e6, n6) {
                                return n6 < t7.length - 1;
                              });
                              var i5 = [];
                              if (n5.length > 1) {
                                for (var a3 = 0, o4 = 0, s4 = 0; s4 < n5.length; s4++)
                                  if (n5[s4] && r7[s4]) {
                                    var u5 = r7[s4].ts - n5[s4].ts;
                                    if (u5 > 1)
                                      i5.push(8 * r7[s4].bytes / u5), o4 = 0;
                                    else {
                                      0 === o4 && (o4 = n5[s4].ts, a3 = 0);
                                      var l5 = r7[s4].ts - o4;
                                      l5 > 1 ? (a3 += r7[s4].bytes, i5.push(8 * a3 / l5), o4 = 0) : a3 += r7[s4].bytes;
                                    }
                                  }
                                if (i5.length > 0)
                                  return i5.reduce(function(e6, t8) {
                                    return e6 + t8;
                                  }, 0) / i5.length;
                              }
                              return null;
                            } catch (e6) {
                              return null;
                            }
                          }(M2, P2), i4 && (o3 = 8 * S2 / i4)) : m2 === a2.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA && (o3 = f2(O2, S2)), e4.progress({ loaded: S2, total: isNaN(T2) ? S2 : T2, lengthComputable: true, time: o3, stream: true });
                        }
                        e4.response.response = A2.buffer;
                      }
                      return e4.onload(), void e4.onend();
                    }
                    if (r6 && r6.length > 0) {
                      A2 = function(e5, t7) {
                        if (0 === e5.length)
                          return t7;
                        var n5 = new Uint8Array(e5.length + t7.length);
                        return n5.set(e5), n5.set(t7, e5.length), n5;
                      }(A2, r6), S2 += r6.length, O2.push({ ts: Date.now(), bytes: r6.length }), m2 === a2.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING && L2 && s3.findLastTopIsoBoxCompleted(["moof"], A2, I2).found && (L2 = false, M2.push({ ts: performance.now(), bytes: r6.length }));
                      var u4 = s3.findLastTopIsoBoxCompleted(["moov", "mdat"], A2, I2);
                      if (u4.found) {
                        var l4, d4 = u4.lastCompletedOffset + u4.size;
                        m2 !== a2.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING || L2 || (L2 = true, P2.push({ ts: performance.now(), bytes: A2.length })), d4 === A2.length ? (l4 = A2, A2 = new Uint8Array()) : (l4 = new Uint8Array(A2.subarray(0, d4)), A2 = A2.subarray(d4)), e4.progress({ data: l4.buffer, lengthComputable: false, noTrace: true }), I2 = 0;
                      } else
                        I2 = u4.lastCompletedOffset, b2 || (e4.progress({ lengthComputable: false, noTrace: true }), b2 = true);
                    }
                    c2(e4, t6);
                  });
                }).catch(function(t6) {
                  e4.onerror && e4.onerror(t6);
                });
              });
            }
            function c2(e4, t4) {
              e4.reader.read().then(t4).catch(function(t5) {
                e4.onerror && 200 === e4.response.status && e4.onerror(t5);
              });
            }
            function f2(e4, t4) {
              try {
                if ((e4 = e4.filter(function(n5) {
                  return n5.bytes > t4 / 4 / e4.length;
                })).length > 1) {
                  var n4 = 0, r4 = (e4[e4.length - 1].ts - e4[0].ts) / e4.length;
                  return e4.forEach(function(t5, i3) {
                    var a3 = e4[i3 + 1];
                    if (a3) {
                      var o3 = a3.ts - t5.ts;
                      n4 += o3 < r4 ? o3 : 0;
                    }
                  }), n4;
                }
                return null;
              } catch (e5) {
                return null;
              }
            }
            return t3 = { load: function(e4) {
              i2 && i2.modifyRequest ? (0, X.k)(e4, i2).then(function() {
                return l2(e4);
              }) : l2(e4);
            }, abort: function(e4) {
              if (e4.abortController)
                e4.abortController.abort();
              else if (e4.reader)
                try {
                  e4.reader.cancel(), e4.onabort();
                } catch (e5) {
                }
            }, calculateDownloadedTime: f2, setup: function(e4) {
              n3 = e4.dashMetrics;
            } }, t3;
          }
          ce.__dashjs_factory_name = "FetchLoader";
          var fe = c.Z.getClassFactory(ce), de = n2(1180);
          function ge(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var he = function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.id = null, this.index = -1, this.adaptation = null, this.segmentInfoType = null, this.initialization = null, this.codecs = null, this.mimeType = null, this.codecPrivateData = null, this.segmentDuration = NaN, this.timescale = 1, this.startNumber = 1, this.indexRange = null, this.range = null, this.presentationTimeOffset = 0, this.MSETimeOffset = NaN, this.mediaFinishedInformation = { numberOfSegments: 0, mediaTimeOfLastSignaledSegment: NaN }, this.bandwidth = NaN, this.width = NaN, this.height = NaN, this.scanType = null, this.maxPlayoutRate = NaN, this.availabilityTimeOffset = 0, this.availabilityTimeComplete = true, this.frameRate = null;
            }
            var t3, n3;
            return t3 = e3, (n3 = [{ key: "hasInitialization", value: function() {
              return null !== this.initialization || null !== this.range;
            } }, { key: "hasSegments", value: function() {
              return this.segmentInfoType !== o.Z.BASE_URL && this.segmentInfoType !== o.Z.SEGMENT_BASE && !this.indexRange;
            } }]) && ge(t3.prototype, n3), e3;
          }(), pe = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.period = null, this.index = -1, this.type = null;
          }, me = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.id = null, this.index = -1, this.duration = NaN, this.start = NaN, this.mpd = null, this.nextPeriodId = null;
          };
          me.DEFAULT_ID = "defaultId";
          var ye = me, Ee = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.manifest = null, this.suggestedPresentationDelay = 0, this.availabilityStartTime = null, this.availabilityEndTime = Number.POSITIVE_INFINITY, this.timeShiftBufferDepth = Number.POSITIVE_INFINITY, this.maxSegmentDuration = Number.POSITIVE_INFINITY, this.publishTime = null, this.minimumUpdatePeriod = NaN, this.mediaPresentationDuration = NaN;
          }, ve = n2(2610), _e = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.type = "", this.duration = NaN, this.presentationTime = NaN, this.id = NaN, this.messageData = "", this.eventStream = null, this.presentationTimeDelta = NaN;
          }, Te = function e3(t3, n3, r3, i2) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.url = t3 || "", this.serviceLocation = n3 || t3 || "", this.dvbPriority = r3 || 1, this.dvbWeight = i2 || 1, this.availabilityTimeOffset = 0, this.availabilityTimeComplete = true, this.queryParams = {};
          };
          Te.DEFAULT_DVB_PRIORITY = 1, Te.DEFAULT_DVB_WEIGHT = 1;
          var Se = Te, be = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.adaptionSet = null, this.representation = null, this.period = null, this.timescale = 1, this.value = "", this.schemeIdUri = "", this.presentationTimeOffset = 0;
          }, Ae = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.id = null, this.inband = false, this.type = "encoder", this.applicationScheme = null, this.wallClockTime = null, this.presentationTime = NaN, this.UTCTiming = null;
          }, Ie = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.defaultServiceLocation = null, this.defaultServiceLocationArray = [], this.queryBeforeStart = false, this.serverUrl = null, this.clientRequirement = true;
          };
          function Re(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var we = function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.schemeIdUri = null, this.value = null, this.id = null;
            }
            var t3, n3;
            return t3 = e3, (n3 = [{ key: "init", value: function(e4) {
              return e4 && (this.schemeIdUri = e4.schemeIdUri ? e4.schemeIdUri : null, this.value = e4.value ? e4.value : null, this.id = e4.id ? e4.id : null, e4[o.Z.DVB_URL] && (this.dvbUrl = e4[o.Z.DVB_URL]), e4[o.Z.DVB_MIMETYPE] && (this.dvbMimeType = e4[o.Z.DVB_MIMETYPE]), e4[o.Z.DVB_FONTFAMILY] && (this.dvbFontFamily = e4[o.Z.DVB_FONTFAMILY])), this;
            } }]) && Re(t3.prototype, n3), e3;
          }(), Ne = n2(3101), Ce = n2.n(Ne);
          function De() {
            return { areEqual: function(e3, t3) {
              return Ce()(e3, t3);
            } };
          }
          De.__dashjs_factory_name = "ObjectUtils";
          var Oe = c.Z.getSingletonFactory(De), Me = n2(7803), Pe = function e3(t3, n3) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.url = t3 || "", this.serviceLocation = n3 || null, this.queryParams = {};
          }, Le = function e3(t3, n3, r3) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.url = t3 || "", this.serviceLocation = n3 || null, this.ttl = r3 || NaN, this.queryParams = {};
          };
          function Fe(e3, t3) {
            var n3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var r3 = Object.getOwnPropertySymbols(e3);
              t3 && (r3 = r3.filter(function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              })), n3.push.apply(n3, r3);
            }
            return n3;
          }
          function xe(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var n3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? Fe(Object(n3), true).forEach(function(t4) {
                ke(e3, t4, n3[t4]);
              }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(n3)) : Fe(Object(n3)).forEach(function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(n3, t4));
              });
            }
            return e3;
          }
          function ke(e3, t3, n3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t3] = n3, e3;
          }
          function Ue(e3, t3) {
            var n3;
            if ("undefined" == typeof Symbol || null == e3[Symbol.iterator]) {
              if (Array.isArray(e3) || (n3 = Ze(e3)) || t3 && e3 && "number" == typeof e3.length) {
                n3 && (e3 = n3);
                var r3 = 0, i2 = function() {
                };
                return { s: i2, n: function() {
                  return r3 >= e3.length ? { done: true } : { done: false, value: e3[r3++] };
                }, e: function(e4) {
                  throw e4;
                }, f: i2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var a3, o2 = true, s3 = false;
            return { s: function() {
              n3 = e3[Symbol.iterator]();
            }, n: function() {
              var e4 = n3.next();
              return o2 = e4.done, e4;
            }, e: function(e4) {
              s3 = true, a3 = e4;
            }, f: function() {
              try {
                o2 || null == n3.return || n3.return();
              } finally {
                if (s3)
                  throw a3;
              }
            } };
          }
          function Ze(e3, t3) {
            if (e3) {
              if ("string" == typeof e3)
                return Be(e3, t3);
              var n3 = Object.prototype.toString.call(e3).slice(8, -1);
              return "Object" === n3 && e3.constructor && (n3 = e3.constructor.name), "Map" === n3 || "Set" === n3 ? Array.from(e3) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? Be(e3, t3) : void 0;
            }
          }
          function Be(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var n3 = 0, r3 = new Array(t3); n3 < t3; n3++)
              r3[n3] = e3[n3];
            return r3;
          }
          function Ge() {
            var e3, t3, n3, r3, i2 = this.context, s3 = (0, Q.Z)(i2).getInstance(), u2 = Number.isInteger || function(e4) {
              return "number" == typeof e4 && isFinite(e4) && Math.floor(e4) === e4;
            };
            function l2(e4, t4) {
              if (!e4)
                throw new Error("adaptation is not defined");
              if (!t4)
                throw new Error("type is not defined");
              if (e4.Representation_asArray && e4.Representation_asArray.length) {
                var n4 = v2(e4.Representation_asArray[0]);
                if (n4 && n4.length > 0 && Me.Y.indexOf(n4[0].schemeIdUri) >= 0)
                  return t4 === a2.Z.IMAGE;
              }
              if (e4.ContentComponent_asArray && e4.ContentComponent_asArray.length > 0) {
                if (e4.ContentComponent_asArray.length > 1)
                  return t4 === a2.Z.MUXED;
                if (e4.ContentComponent_asArray[0].contentType === t4)
                  return true;
              }
              var r4 = t4 === a2.Z.TEXT ? new RegExp("(ttml|vtt|wvtt|stpp)") : new RegExp(t4);
              if (e4.Representation_asArray && e4.Representation_asArray.length) {
                var i3 = e4.Representation_asArray[0].codecs;
                if (r4.test(i3))
                  return true;
              }
              if (e4.hasOwnProperty(o.Z.MIME_TYPE))
                return r4.test(e4.mimeType);
              if (e4.Representation_asArray) {
                for (var s4, u3 = 0; u3 < e4.Representation_asArray.length; u3++)
                  if ((s4 = e4.Representation_asArray[u3]).hasOwnProperty(o.Z.MIME_TYPE))
                    return r4.test(s4.mimeType);
              }
              return false;
            }
            function c2(e4) {
              if (!e4)
                throw new Error("adaptation is not defined");
              if (e4.hasOwnProperty(o.Z.SEGMENT_TEMPLATE) || e4.hasOwnProperty(o.Z.SEGMENT_TIMELINE) || e4.hasOwnProperty(o.Z.SEGMENT_LIST) || e4.hasOwnProperty(o.Z.SEGMENT_BASE))
                return true;
              if (e4.Representation_asArray && e4.Representation_asArray.length > 0) {
                var t4 = e4.Representation_asArray[0];
                if (t4.hasOwnProperty(o.Z.SEGMENT_TEMPLATE) || t4.hasOwnProperty(o.Z.SEGMENT_TIMELINE) || t4.hasOwnProperty(o.Z.SEGMENT_LIST) || t4.hasOwnProperty(o.Z.SEGMENT_BASE))
                  return true;
              }
              return false;
            }
            function d2(e4) {
              return l2(e4, a2.Z.VIDEO);
            }
            function g2(e4) {
              return l2(e4, a2.Z.TEXT);
            }
            function h2(e4) {
              return l2(e4, a2.Z.IMAGE);
            }
            function p2(e4) {
              return e4 && Array.isArray(e4.Representation_asArray) && e4.Representation_asArray.sort(function(e5, t4) {
                return e5.bandwidth - t4.bandwidth;
              }), e4;
            }
            function m2(e4, t4) {
              return e4 && e4.Period_asArray && u2(t4) && e4.Period_asArray[t4] ? e4.Period_asArray[t4].AdaptationSet_asArray : [];
            }
            function y2(e4) {
              return e4 && e4.Period_asArray ? e4.Period_asArray : [];
            }
            function E2(e4) {
              var t4 = false;
              return e4 && e4.hasOwnProperty("type") && (t4 = e4.type === o.Z.DYNAMIC), t4;
            }
            function v2(e4) {
              return e4 && e4.EssentialProperty_asArray && e4.EssentialProperty_asArray.length ? e4.EssentialProperty_asArray.map(function(e5) {
                return { schemeIdUri: e5.schemeIdUri, value: e5.value };
              }) : null;
            }
            function _2(e4) {
              if (!e4 || !e4.S_asArray)
                return NaN;
              var t4 = e4.S_asArray[0], n4 = e4.S_asArray[1];
              return t4.hasOwnProperty("d") ? t4.d : n4.t - t4.t;
            }
            function T2(e4, t4) {
              if (!e4)
                throw new Error("Period cannot be null or undefined");
              var n4 = ye.DEFAULT_ID + "_" + t4;
              return e4.hasOwnProperty(o.Z.ID) && e4.id.length > 0 && "__proto__" !== e4.id && (n4 = e4.id), n4;
            }
            function b2(e4, t4, n4) {
              var r4, i3 = [];
              if (!e4)
                return i3;
              for (r4 = 0; r4 < e4.length; r4++) {
                var s4 = new be();
                if (s4.timescale = 1, s4.representation = t4, !e4[r4].hasOwnProperty(a2.Z.SCHEME_ID_URI))
                  throw new Error("Invalid EventStream. SchemeIdUri has to be set");
                s4.schemeIdUri = e4[r4].schemeIdUri, e4[r4].hasOwnProperty(o.Z.TIMESCALE) && (s4.timescale = e4[r4].timescale), e4[r4].hasOwnProperty(o.Z.VALUE) && (s4.value = e4[r4].value), i3.push(s4), s4.period = n4;
              }
              return i3;
            }
            function A2(e4) {
              var t4 = [], n4 = e4.BaseURL_asArray || [e4.baseUri], r4 = false;
              return n4.some(function(n5) {
                if (n5) {
                  var i3 = new Se(), a3 = n5.__text || n5;
                  return s3.isRelative(a3) && (r4 = true, e4.baseUri && (a3 = s3.resolve(a3, e4.baseUri))), i3.url = a3, n5.hasOwnProperty(o.Z.SERVICE_LOCATION) && n5.serviceLocation.length ? i3.serviceLocation = n5.serviceLocation : i3.serviceLocation = a3, n5.hasOwnProperty(o.Z.DVB_PRIORITY) && (i3.dvbPriority = n5[o.Z.DVB_PRIORITY]), n5.hasOwnProperty(o.Z.DVB_WEIGHT) && (i3.dvbWeight = n5[o.Z.DVB_WEIGHT]), n5.hasOwnProperty(o.Z.AVAILABILITY_TIME_OFFSET) && (i3.availabilityTimeOffset = n5[o.Z.AVAILABILITY_TIME_OFFSET]), n5.hasOwnProperty(o.Z.AVAILABILITY_TIME_COMPLETE) && (i3.availabilityTimeComplete = "false" !== n5[o.Z.AVAILABILITY_TIME_COMPLETE]), t4.push(i3), r4;
                }
              }), t4;
            }
            function I2(e4) {
              var t4 = new Ie();
              return t4.serverUrl = e4.__text, e4.hasOwnProperty(o.Z.DEFAULT_SERVICE_LOCATION) && (t4.defaultServiceLocation = e4[o.Z.DEFAULT_SERVICE_LOCATION], t4.defaultServiceLocationArray = t4.defaultServiceLocation.split(" ")), e4.hasOwnProperty(o.Z.QUERY_BEFORE_START) && (t4.queryBeforeStart = "true" === e4[o.Z.QUERY_BEFORE_START].toLowerCase()), e4.hasOwnProperty(o.Z.CLIENT_REQUIREMENT) && (t4.clientRequirement = "false" !== e4[o.Z.CLIENT_REQUIREMENT].toLowerCase()), t4;
            }
            return e3 = { getIsTypeOf: l2, getIsText: g2, getIsFragmented: c2, getProducerReferenceTimesForAdaptation: function(e4) {
              var t4 = e4 && e4.hasOwnProperty(o.Z.PRODUCERREFERENCETIME_ASARRAY) ? e4[o.Z.PRODUCERREFERENCETIME_ASARRAY] : [];
              (e4 && e4.hasOwnProperty(o.Z.REPRESENTATION_ASARRAY) ? e4[o.Z.REPRESENTATION_ASARRAY] : []).forEach(function(e5) {
                var n5;
                e5.hasOwnProperty(o.Z.PRODUCERREFERENCETIME_ASARRAY) && t4.push.apply(t4, function(e6) {
                  if (Array.isArray(e6))
                    return Be(e6);
                }(n5 = e5[o.Z.PRODUCERREFERENCETIME_ASARRAY]) || function(e6) {
                  if ("undefined" != typeof Symbol && Symbol.iterator in Object(e6))
                    return Array.from(e6);
                }(n5) || Ze(n5) || function() {
                  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                }());
              });
              var n4 = [];
              return t4.forEach(function(e5) {
                var t5 = new Ae();
                e5.hasOwnProperty(o.Z.ID) && (t5[o.Z.ID] = e5[o.Z.ID], e5.hasOwnProperty(o.Z.WALL_CLOCK_TIME) && (t5[o.Z.WALL_CLOCK_TIME] = e5[o.Z.WALL_CLOCK_TIME], e5.hasOwnProperty(o.Z.PRESENTATION_TIME) && (t5[o.Z.PRESENTATION_TIME] = e5[o.Z.PRESENTATION_TIME], e5.hasOwnProperty(o.Z.INBAND) && (t5[o.Z.INBAND] = "false" !== e5[o.Z.INBAND]), e5.hasOwnProperty(o.Z.TYPE) && (t5[o.Z.TYPE] = e5[o.Z.TYPE]), n4.push(t5))));
              }), n4;
            }, getLanguageForAdaptation: function(e4) {
              var t4 = "";
              return e4 && e4.hasOwnProperty(o.Z.LANG) && (t4 = e4.lang), t4;
            }, getViewpointForAdaptation: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.VIEWPOINT_ASARRAY) && e4[o.Z.VIEWPOINT_ASARRAY].length ? e4[o.Z.VIEWPOINT_ASARRAY].map(function(e5) {
                return new we().init(e5);
              }) : [];
            }, getRolesForAdaptation: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.ROLE_ASARRAY) && e4[o.Z.ROLE_ASARRAY].length ? e4[o.Z.ROLE_ASARRAY].map(function(e5) {
                return new we().init(e5);
              }) : [];
            }, getAccessibilityForAdaptation: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.ACCESSIBILITY_ASARRAY) && e4[o.Z.ACCESSIBILITY_ASARRAY].length ? e4[o.Z.ACCESSIBILITY_ASARRAY].map(function(e5) {
                return new we().init(e5);
              }) : [];
            }, getAudioChannelConfigurationForAdaptation: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY) && e4[o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length ? e4[o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(e5) {
                return new we().init(e5);
              }) : [];
            }, getAudioChannelConfigurationForRepresentation: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY) && e4[o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length ? e4[o.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(e5) {
                return new we().init(e5);
              }) : [];
            }, getAdaptationForIndex: function(e4, t4, n4) {
              var r4 = m2(t4, n4);
              return r4.length > 0 && u2(e4) ? r4[e4] : null;
            }, getIndexForAdaptation: function(e4, t4, n4) {
              if (!e4)
                return -1;
              for (var r4 = m2(t4, n4), a3 = 0; a3 < r4.length; a3++)
                if (Oe(i2).getInstance().areEqual(r4[a3], e4))
                  return a3;
              return -1;
            }, getAdaptationForId: function(e4, t4, n4) {
              var r4, i3, a3 = m2(t4, n4);
              for (r4 = 0, i3 = a3.length; r4 < i3; r4++)
                if (a3[r4].hasOwnProperty(o.Z.ID) && a3[r4].id === e4)
                  return a3[r4];
              return null;
            }, getAdaptationsForType: function(e4, t4, n4) {
              var r4, i3, a3 = m2(e4, t4), o2 = [];
              for (r4 = 0, i3 = a3.length; r4 < i3; r4++)
                l2(a3[r4], n4) && o2.push(p2(a3[r4]));
              return o2;
            }, getRealPeriods: y2, getRealPeriodForIndex: function(e4, t4) {
              var n4 = y2(t4);
              return n4.length > 0 && u2(e4) ? n4[e4] : null;
            }, getCodec: function(e4, t4, n4) {
              var r4 = null;
              if (e4 && e4.Representation_asArray && e4.Representation_asArray.length > 0) {
                var i3 = u2(t4) && t4 >= 0 && t4 < e4.Representation_asArray.length ? e4.Representation_asArray[t4] : e4.Representation_asArray[0];
                i3 && (r4 = i3.mimeType + ';codecs="' + i3.codecs + '"', n4 && void 0 !== i3.width && (r4 += ';width="' + i3.width + '";height="' + i3.height + '"'));
              }
              return r4 && (r4 = r4.replace(/\sprofiles=[^;]*/g, "")), r4;
            }, getSelectionPriority: function(e4) {
              try {
                var t4 = e4 && void 0 !== e4.selectionPriority ? parseInt(e4.selectionPriority) : 1;
                return isNaN(t4) ? 1 : t4;
              } catch (e5) {
                return 1;
              }
            }, getMimeType: function(e4) {
              return e4 && e4.Representation_asArray && e4.Representation_asArray.length > 0 ? e4.Representation_asArray[0].mimeType : null;
            }, getKID: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.CENC_DEFAULT_KID) ? e4[o.Z.CENC_DEFAULT_KID] : null;
            }, getLabelsForAdaptation: function(e4) {
              if (!e4 || !Array.isArray(e4.Label_asArray))
                return [];
              for (var t4 = [], n4 = 0; n4 < e4.Label_asArray.length; n4++)
                t4.push({ lang: e4.Label_asArray[n4].lang, text: e4.Label_asArray[n4].__text || e4.Label_asArray[n4] });
              return t4;
            }, getContentProtectionData: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.CONTENTPROTECTION_ASARRAY) && 0 !== e4.ContentProtection_asArray.length ? e4.ContentProtection_asArray : null;
            }, getIsDynamic: E2, getId: function(e4) {
              return e4 && e4[o.Z.ID] || null;
            }, hasProfile: function(e4, t4) {
              var n4 = false;
              return e4 && e4.profiles && e4.profiles.length > 0 && (n4 = -1 !== e4.profiles.indexOf(t4)), n4;
            }, getDuration: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.MEDIA_PRESENTATION_DURATION) ? e4.mediaPresentationDuration : e4 && "dynamic" == e4.type ? Number.POSITIVE_INFINITY : Number.MAX_SAFE_INTEGER || Number.MAX_VALUE;
            }, getBandwidth: function(e4) {
              return e4 && e4.bandwidth ? e4.bandwidth : NaN;
            }, getManifestUpdatePeriod: function(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n4 = NaN;
              return e4 && e4.hasOwnProperty(o.Z.MINIMUM_UPDATE_PERIOD) && (n4 = e4.minimumUpdatePeriod), isNaN(n4) ? n4 : Math.max(n4 - t4, 1);
            }, getPublishTime: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.PUBLISH_TIME) ? new Date(e4[o.Z.PUBLISH_TIME]) : null;
            }, getRepresentationCount: function(e4) {
              return e4 && Array.isArray(e4.Representation_asArray) ? e4.Representation_asArray.length : 0;
            }, getBitrateListForAdaptation: function(e4) {
              var t4 = p2(e4);
              return (t4 && Array.isArray(t4.Representation_asArray) ? t4.Representation_asArray : []).map(function(e5) {
                return { bandwidth: e5.bandwidth, width: e5.width || 0, height: e5.height || 0, scanType: e5.scanType || null, id: e5.id || null };
              });
            }, getRepresentationFor: function(e4, t4) {
              return t4 && t4.Representation_asArray && t4.Representation_asArray.length > 0 && u2(e4) ? t4.Representation_asArray[e4] : null;
            }, getRepresentationsForAdaptation: function(e4) {
              var t4, n4, r4, i3, a3 = [], s4 = function(e5) {
                if (e5 && e5.period && u2(e5.period.index)) {
                  var t5 = e5.period.mpd.manifest.Period_asArray[e5.period.index];
                  if (t5 && t5.AdaptationSet_asArray && u2(e5.index))
                    return p2(t5.AdaptationSet_asArray[e5.index]);
                }
              }(e4);
              if (s4 && s4.Representation_asArray) {
                if (e4 && e4.period && u2(e4.period.index)) {
                  var l3 = A2(e4.period.mpd.manifest);
                  l3 && (n4 = l3[0]);
                }
                for (var f2 = 0, d3 = s4.Representation_asArray.length; f2 < d3; ++f2) {
                  var h3 = s4.Representation_asArray[f2], m3 = new he();
                  if (m3.index = f2, m3.adaptation = e4, h3.hasOwnProperty(o.Z.ID) && (m3.id = h3.id), h3.hasOwnProperty(o.Z.CODECS) && (m3.codecs = h3.codecs), h3.hasOwnProperty(o.Z.MIME_TYPE) && (m3.mimeType = h3[o.Z.MIME_TYPE]), h3.hasOwnProperty(o.Z.CODEC_PRIVATE_DATA) && (m3.codecPrivateData = h3.codecPrivateData), h3.hasOwnProperty(o.Z.BANDWITH) && (m3.bandwidth = h3.bandwidth), h3.hasOwnProperty(o.Z.WIDTH) && (m3.width = h3.width), h3.hasOwnProperty(o.Z.HEIGHT) && (m3.height = h3.height), h3.hasOwnProperty(o.Z.SCAN_TYPE) && (m3.scanType = h3.scanType), h3.hasOwnProperty(o.Z.MAX_PLAYOUT_RATE) && (m3.maxPlayoutRate = h3.maxPlayoutRate), h3.hasOwnProperty(o.Z.SEGMENT_BASE) ? (t4 = h3.SegmentBase, m3.segmentInfoType = o.Z.SEGMENT_BASE) : h3.hasOwnProperty(o.Z.SEGMENT_LIST) ? (t4 = h3.SegmentList).hasOwnProperty(o.Z.SEGMENT_TIMELINE) ? m3.segmentInfoType = o.Z.SEGMENT_TIMELINE : m3.segmentInfoType = o.Z.SEGMENT_LIST : h3.hasOwnProperty(o.Z.SEGMENT_TEMPLATE) ? ((t4 = h3.SegmentTemplate).hasOwnProperty(o.Z.SEGMENT_TIMELINE) ? m3.segmentInfoType = o.Z.SEGMENT_TIMELINE : m3.segmentInfoType = o.Z.SEGMENT_TEMPLATE, t4.hasOwnProperty(o.Z.INITIALIZATION_MINUS) && (m3.initialization = t4.initialization.split("$Bandwidth$").join(h3.bandwidth).split("$RepresentationID$").join(h3.id))) : m3.segmentInfoType = o.Z.BASE_URL, m3.essentialProperties = v2(h3), t4) {
                    if (t4.hasOwnProperty(o.Z.INITIALIZATION)) {
                      var y3 = t4.Initialization;
                      y3.hasOwnProperty(o.Z.SOURCE_URL) && (m3.initialization = y3.sourceURL), y3.hasOwnProperty(o.Z.RANGE) && (m3.range = y3.range);
                    } else
                      g2(s4) && c2(s4) && s4.mimeType && -1 === s4.mimeType.indexOf("application/mp4") && (m3.range = 0);
                    t4.hasOwnProperty(o.Z.TIMESCALE) && (m3.timescale = t4.timescale), t4.hasOwnProperty(o.Z.DURATION) ? m3.segmentDuration = t4.duration / m3.timescale : h3.hasOwnProperty(o.Z.SEGMENT_TEMPLATE) && (t4 = h3.SegmentTemplate).hasOwnProperty(o.Z.SEGMENT_TIMELINE) && (m3.segmentDuration = _2(t4.SegmentTimeline) / m3.timescale), t4.hasOwnProperty(o.Z.MEDIA) && (m3.media = t4.media), t4.hasOwnProperty(o.Z.START_NUMBER) && (m3.startNumber = t4.startNumber), t4.hasOwnProperty(o.Z.INDEX_RANGE) && (m3.indexRange = t4.indexRange), t4.hasOwnProperty(o.Z.PRESENTATION_TIME_OFFSET) && (m3.presentationTimeOffset = t4.presentationTimeOffset / m3.timescale), t4.hasOwnProperty(o.Z.AVAILABILITY_TIME_OFFSET) ? m3.availabilityTimeOffset = t4.availabilityTimeOffset : n4 && void 0 !== n4.availabilityTimeOffset && (m3.availabilityTimeOffset = n4.availabilityTimeOffset), t4.hasOwnProperty(o.Z.AVAILABILITY_TIME_COMPLETE) ? m3.availabilityTimeComplete = "false" !== t4.availabilityTimeComplete : n4 && void 0 !== n4.availabilityTimeComplete && (m3.availabilityTimeComplete = n4.availabilityTimeComplete);
                  }
                  m3.MSETimeOffset = (void 0, i3 = (r4 = m3).presentationTimeOffset, r4.adaptation.period.start - i3), m3.path = [e4.period.index, e4.index, f2], a3.push(m3);
                }
              }
              return a3;
            }, getAdaptationsForPeriod: function(e4) {
              var n4, r4, i3, s4 = e4 && u2(e4.index) ? e4.mpd.manifest.Period_asArray[e4.index] : null, c3 = [];
              if (s4 && s4.AdaptationSet_asArray)
                for (i3 = 0; i3 < s4.AdaptationSet_asArray.length; i3++)
                  r4 = s4.AdaptationSet_asArray[i3], n4 = new pe(), r4.hasOwnProperty(o.Z.ID) && (n4.id = r4.id), n4.index = i3, n4.period = e4, l2(r4, a2.Z.MUXED) ? n4.type = a2.Z.MUXED : l2(r4, a2.Z.AUDIO) ? n4.type = a2.Z.AUDIO : d2(r4) ? n4.type = a2.Z.VIDEO : g2(r4) ? n4.type = a2.Z.TEXT : h2(r4) ? n4.type = a2.Z.IMAGE : t3.warn("Unknown Adaptation stream type"), c3.push(n4);
              return c3;
            }, getRegularPeriods: function(e4) {
              var r4, i3, s4 = !!e4 && E2(e4.manifest), u3 = [], l3 = null, c3 = null, f2 = null, d3 = null;
              for (i3 = 0, r4 = e4 && e4.manifest && e4.manifest.Period_asArray ? e4.manifest.Period_asArray.length : 0; i3 < r4; i3++)
                (c3 = e4.manifest.Period_asArray[i3]).hasOwnProperty(o.Z.START) ? (d3 = new ye()).start = c3.start : null !== l3 && l3.hasOwnProperty(o.Z.DURATION) && null !== f2 ? (d3 = new ye()).start = parseFloat((f2.start + f2.duration).toFixed(5)) : 0 !== i3 || s4 || ((d3 = new ye()).start = 0), null !== f2 && isNaN(f2.duration) && (null !== d3 ? f2.duration = parseFloat((d3.start - f2.start).toFixed(5)) : t3.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")), null !== d3 && (d3.id = T2(c3, i3), d3.index = i3, d3.mpd = e4, c3.hasOwnProperty(o.Z.DURATION) && (d3.duration = c3.duration), f2 && (f2.nextPeriodId = d3.id), u3.push(d3), l3 = c3, f2 = d3), c3 = null, d3 = null;
              return 0 === u3.length || null !== f2 && isNaN(f2.duration) && (f2.duration = parseFloat((function(e5) {
                !function() {
                  if (!n3 || !n3.hasOwnProperty("error"))
                    throw new Error(a2.Z.MISSING_CONFIG_ERROR);
                }();
                var t4, r5 = E2(e5.mpd.manifest);
                return e5.mpd.manifest.mediaPresentationDuration ? t4 = e5.mpd.manifest.mediaPresentationDuration : e5.duration ? t4 = e5.duration : r5 ? t4 = Number.POSITIVE_INFINITY : n3.error(new S.Z(w.MANIFEST_ERROR_ID_PARSE_CODE, "Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.", e5)), t4;
              }(f2) - f2.start).toFixed(5))), u3;
            }, getMpd: function(e4) {
              var t4 = new Ee();
              return e4 && (t4.manifest = e4, e4.hasOwnProperty(o.Z.AVAILABILITY_START_TIME) ? t4.availabilityStartTime = new Date(e4.availabilityStartTime.getTime()) : e4.loadedTime && (t4.availabilityStartTime = new Date(e4.loadedTime.getTime())), e4.hasOwnProperty(o.Z.AVAILABILITY_END_TIME) && (t4.availabilityEndTime = new Date(e4.availabilityEndTime.getTime())), e4.hasOwnProperty(o.Z.MINIMUM_UPDATE_PERIOD) && (t4.minimumUpdatePeriod = e4.minimumUpdatePeriod), e4.hasOwnProperty(o.Z.MEDIA_PRESENTATION_DURATION) && (t4.mediaPresentationDuration = e4.mediaPresentationDuration), e4.hasOwnProperty(o.Z.SUGGESTED_PRESENTATION_DELAY) && (t4.suggestedPresentationDelay = e4.suggestedPresentationDelay), e4.hasOwnProperty(o.Z.TIMESHIFT_BUFFER_DEPTH) && (t4.timeShiftBufferDepth = e4.timeShiftBufferDepth), e4.hasOwnProperty(o.Z.MAX_SEGMENT_DURATION) && (t4.maxSegmentDuration = e4.maxSegmentDuration), e4.hasOwnProperty(o.Z.PUBLISH_TIME) && (t4.publishTime = new Date(e4.publishTime))), t4;
            }, getEventsForPeriod: function(e4) {
              var t4, n4, i3 = e4 && e4.mpd && e4.mpd.manifest ? e4.mpd.manifest : null, s4 = i3 ? i3.Period_asArray : null, l3 = s4 && e4 && u2(e4.index) ? s4[e4.index].EventStream_asArray : null, c3 = [];
              if (l3)
                for (t4 = 0; t4 < l3.length; t4++) {
                  var f2 = new be();
                  if (f2.period = e4, f2.timescale = 1, !l3[t4].hasOwnProperty(a2.Z.SCHEME_ID_URI))
                    throw new Error("Invalid EventStream. SchemeIdUri has to be set");
                  for (f2.schemeIdUri = l3[t4][a2.Z.SCHEME_ID_URI], l3[t4].hasOwnProperty(o.Z.TIMESCALE) && (f2.timescale = l3[t4][o.Z.TIMESCALE]), l3[t4].hasOwnProperty(o.Z.VALUE) && (f2.value = l3[t4][o.Z.VALUE]), l3[t4].hasOwnProperty(o.Z.PRESENTATION_TIME_OFFSET) && (f2.presentationTimeOffset = l3[t4][o.Z.PRESENTATION_TIME_OFFSET]), n4 = 0; l3[t4].Event_asArray && n4 < l3[t4].Event_asArray.length; n4++) {
                    var d3 = l3[t4].Event_asArray[n4], g3 = new _e();
                    g3.presentationTime = 0, g3.eventStream = f2, d3.hasOwnProperty(o.Z.PRESENTATION_TIME) && (g3.presentationTime = d3.presentationTime);
                    var h3 = f2.presentationTimeOffset ? f2.presentationTimeOffset / f2.timescale : 0;
                    g3.calculatedPresentationTime = g3.presentationTime / f2.timescale + e4.start - h3, d3.hasOwnProperty(o.Z.DURATION) && (g3.duration = d3.duration / f2.timescale), d3.hasOwnProperty(o.Z.ID) ? g3.id = d3.id : g3.id = null, d3.Signal && d3.Signal.Binary ? g3.messageData = r3.decodeArray(d3.Signal.Binary.toString()) : g3.messageData = d3.messageData || d3.__cdata || d3.__text, c3.push(g3);
                  }
                }
              return c3;
            }, getEssentialPropertiesForAdaptation: function(e4) {
              var t4 = {};
              if (e4 && e4.hasOwnProperty(o.Z.ESSENTIAL_PROPERTY_ASARRAY)) {
                var n4, r4 = Ue(e4.EssentialProperty_asArray);
                try {
                  for (r4.s(); !(n4 = r4.n()).done; ) {
                    var i3 = n4.value;
                    i3.hasOwnProperty(a2.Z.SCHEME_ID_URI) && (t4[i3[a2.Z.SCHEME_ID_URI]] = xe({}, i3));
                  }
                } catch (e5) {
                  r4.e(e5);
                } finally {
                  r4.f();
                }
              }
              return t4;
            }, getEssentialPropertiesAsArrayForAdaptation: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.ESSENTIAL_PROPERTY_ASARRAY) && e4.EssentialProperty_asArray.length ? e4.EssentialProperty_asArray.map(function(e5) {
                return new we().init(e5);
              }) : [];
            }, getEssentialPropertiesForRepresentation: v2, getEventStreamForAdaptationSet: function(e4, t4, n4) {
              var r4, i3, a3;
              return e4 && e4.Period_asArray && t4 && t4.period && u2(t4.period.index) && (i3 = e4.Period_asArray[t4.period.index]) && i3.AdaptationSet_asArray && u2(t4.index) && (a3 = i3.AdaptationSet_asArray[t4.index]) && (r4 = a3.InbandEventStream_asArray), b2(r4, null, n4);
            }, getEventStreamForRepresentation: function(e4, t4, n4) {
              var r4, i3, a3, o2;
              return e4 && e4.Period_asArray && t4 && t4.adaptation && t4.adaptation.period && u2(t4.adaptation.period.index) && (i3 = e4.Period_asArray[t4.adaptation.period.index]) && i3.AdaptationSet_asArray && u2(t4.adaptation.index) && (a3 = i3.AdaptationSet_asArray[t4.adaptation.index]) && a3.Representation_asArray && u2(t4.index) && (o2 = a3.Representation_asArray[t4.index]) && (r4 = o2.InbandEventStream_asArray), b2(r4, t4, n4);
            }, getUTCTimingSources: function(e4) {
              var t4 = E2(e4), n4 = !!e4 && e4.hasOwnProperty(o.Z.AVAILABILITY_START_TIME), r4 = e4 ? e4.UTCTiming_asArray : null, i3 = [];
              return (t4 || n4) && r4 && r4.forEach(function(e5) {
                var t5 = new ve.Z();
                e5.hasOwnProperty(a2.Z.SCHEME_ID_URI) && (t5.schemeIdUri = e5.schemeIdUri, e5.hasOwnProperty(o.Z.VALUE) && (t5.value = e5.value.toString(), i3.push(t5)));
              }), i3;
            }, getBaseURLsFromElement: A2, getRepresentationSortFunction: function() {
              return function(e4, t4) {
                return e4.bandwidth - t4.bandwidth;
              };
            }, getContentSteering: function(e4) {
              if (e4 && e4.hasOwnProperty(o.Z.CONTENT_STEERING_AS_ARRAY))
                return I2(e4[o.Z.CONTENT_STEERING_AS_ARRAY][0]);
            }, getLocation: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.LOCATION_AS_ARRAY) ? e4[o.Z.LOCATION_AS_ARRAY].map(function(e5) {
                var t4 = e5.__text || e5, n4 = e5.hasOwnProperty(o.Z.SERVICE_LOCATION) ? e5[o.Z.SERVICE_LOCATION] : null;
                return new Pe(t4, n4);
              }) : [];
            }, getPatchLocation: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.PATCH_LOCATION_AS_ARRAY) ? e4[o.Z.PATCH_LOCATION_AS_ARRAY].map(function(e5) {
                var t4 = e5.__text || e5, n4 = e5.hasOwnProperty(o.Z.SERVICE_LOCATION) ? e5[o.Z.SERVICE_LOCATION] : null, r4 = e5.hasOwnProperty(o.Z.TTL) ? 1e3 * parseFloat(e5[o.Z.TTL]) : NaN;
                return new Le(t4, n4, r4);
              }) : [];
            }, getSuggestedPresentationDelay: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.SUGGESTED_PRESENTATION_DELAY) ? e4.suggestedPresentationDelay : null;
            }, getAvailabilityStartTime: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.AVAILABILITY_START_TIME) && null !== e4.availabilityStartTime ? e4.availabilityStartTime.getTime() : null;
            }, getServiceDescriptions: function(e4) {
              var t4 = [];
              if (e4 && e4.hasOwnProperty(o.Z.SERVICE_DESCRIPTION)) {
                var n4, r4 = Ue(e4.ServiceDescription_asArray);
                try {
                  for (r4.s(); !(n4 = r4.n()).done; ) {
                    var i3 = n4.value, a3 = null, s4 = null, u3 = null, l3 = null, c3 = null, f2 = null, d3 = null;
                    for (var g3 in i3)
                      i3.hasOwnProperty(g3) && (g3 === o.Z.ID ? a3 = i3[g3] : g3 === o.Z.SERVICE_DESCRIPTION_SCOPE ? s4 = i3[g3].schemeIdUri : g3 === o.Z.SERVICE_DESCRIPTION_LATENCY ? u3 = { target: parseInt(i3[g3].target), max: parseInt(i3[g3].max), min: parseInt(i3[g3].min), referenceId: parseInt(i3[g3].referenceId) } : g3 === o.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE ? l3 = { max: parseFloat(i3[g3].max), min: parseFloat(i3[g3].min) } : g3 === o.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY ? c3 = { mediaType: i3[g3].mediaType, max: parseInt(i3[g3].max), min: parseInt(i3[g3].min), target: parseInt(i3[g3].target), type: i3[g3].type, maxQualityDifference: parseInt(i3[g3].maxQualityDifference) } : g3 === o.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH ? f2 = { mediaType: i3[g3].mediaType, max: parseInt(i3[g3].max), min: parseInt(i3[g3].min), target: parseInt(i3[g3].target) } : g3 === o.Z.CONTENT_STEERING && (d3 = I2(i3[g3])));
                    t4.push({ id: a3, schemeIdUri: s4, latency: u3, playbackRate: l3, operatingQuality: c3, operatingBandwidth: f2, contentSteering: d3 });
                  }
                } catch (e5) {
                  r4.e(e5);
                } finally {
                  r4.f();
                }
              }
              return t4;
            }, getSegmentAlignment: function(e4) {
              return !(!e4 || !e4.hasOwnProperty(o.Z.SEGMENT_ALIGNMENT)) && "true" === e4[o.Z.SEGMENT_ALIGNMENT];
            }, getSubSegmentAlignment: function(e4) {
              return !(!e4 || !e4.hasOwnProperty(o.Z.SUB_SEGMENT_ALIGNMENT)) && "true" === e4[o.Z.SUB_SEGMENT_ALIGNMENT];
            }, getSupplementalPropertiesForAdaptation: function(e4) {
              var t4 = {};
              if (e4 && e4.hasOwnProperty(o.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)) {
                var n4, r4 = Ue(e4.SupplementalProperty_asArray);
                try {
                  for (r4.s(); !(n4 = r4.n()).done; ) {
                    var i3 = n4.value;
                    i3.hasOwnProperty(a2.Z.SCHEME_ID_URI) && (t4[i3[a2.Z.SCHEME_ID_URI]] = xe({}, i3));
                  }
                } catch (e5) {
                  r4.e(e5);
                } finally {
                  r4.f();
                }
              }
              return t4;
            }, getSupplementalPropertiesAsArrayForAdaptation: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.SUPPLEMENTAL_PROPERTY_ASARRAY) && e4.SupplementalProperty_asArray.length ? e4.SupplementalProperty_asArray.map(function(e5) {
                return new we().init(e5);
              }) : [];
            }, getSupplementalPropertiesForRepresentation: function(e4) {
              var t4 = {};
              if (e4 && e4.hasOwnProperty(o.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)) {
                var n4, r4 = Ue(e4.SupplementalProperty_asArray);
                try {
                  for (r4.s(); !(n4 = r4.n()).done; ) {
                    var i3 = n4.value;
                    i3.hasOwnProperty(a2.Z.SCHEME_ID_URI) && (t4[i3[a2.Z.SCHEME_ID_URI]] = xe({}, i3));
                  }
                } catch (e5) {
                  r4.e(e5);
                } finally {
                  r4.f();
                }
              }
              return t4;
            }, getSupplementalPropertiesAsArrayForRepresentation: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.SUPPLEMENTAL_PROPERTY_ASARRAY) && e4.SupplementalProperty_asArray.length ? e4.SupplementalProperty_asArray.map(function(e5) {
                return new we().init(e5);
              }) : [];
            }, setConfig: function(e4) {
              e4 && (e4.errHandler && (n3 = e4.errHandler), e4.BASE64 && (r3 = e4.BASE64));
            } }, t3 = (0, f.Z)(i2).getInstance().getLogger(e3), e3;
          }
          Ge.__dashjs_factory_name = "DashManifestModel";
          var qe = c.Z.getSingletonFactory(Ge), Ye = n2(703);
          function je(e3, t3) {
            var n3;
            if ("undefined" == typeof Symbol || null == e3[Symbol.iterator]) {
              if (Array.isArray(e3) || (n3 = function(e4, t4) {
                if (e4) {
                  if ("string" == typeof e4)
                    return He(e4, t4);
                  var n4 = Object.prototype.toString.call(e4).slice(8, -1);
                  return "Object" === n4 && e4.constructor && (n4 = e4.constructor.name), "Map" === n4 || "Set" === n4 ? Array.from(e4) : "Arguments" === n4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n4) ? He(e4, t4) : void 0;
                }
              }(e3)) || t3 && e3 && "number" == typeof e3.length) {
                n3 && (e3 = n3);
                var r3 = 0, i2 = function() {
                };
                return { s: i2, n: function() {
                  return r3 >= e3.length ? { done: true } : { done: false, value: e3[r3++] };
                }, e: function(e4) {
                  throw e4;
                }, f: i2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var a3, o2 = true, s3 = false;
            return { s: function() {
              n3 = e3[Symbol.iterator]();
            }, n: function() {
              var e4 = n3.next();
              return o2 = e4.done, e4;
            }, e: function(e4) {
              s3 = true, a3 = e4;
            }, f: function() {
              try {
                o2 || null == n3.return || n3.return();
              } finally {
                if (s3)
                  throw a3;
              }
            } };
          }
          function He(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var n3 = 0, r3 = new Array(t3); n3 < t3; n3++)
              r3[n3] = e3[n3];
            return r3;
          }
          function Ve() {
            var e3, t3, n3, r3, i2, o2, s3, l2, c2, f2, g2 = this.context, h2 = (0, u.Z)(g2).getInstance(), p2 = (0, N.Z)(g2).getInstance();
            function m2() {
              n3 = { pr: 1, nor: null, st: null, sf: null, sid: "".concat(Ye.Z.generateUuid()), cid: null }, c2 = {}, l2 = {}, f2 = {}, E2();
            }
            function y2() {
              E2();
            }
            function E2() {
              if (o2) {
                var e4 = o2.getStreamController();
                if (e4 && "function" == typeof e4.getActiveStream) {
                  var t4 = e4.getActiveStream();
                  t4 && (s3 = t4.getProcessors());
                }
              }
            }
            function v2(e4, t4) {
              var n4, r4 = {}, i3 = je(t4);
              try {
                for (i3.s(); !(n4 = i3.n()).done; ) {
                  var a3 = n4.value;
                  e4[a3] && (r4[a3] = e4[a3]);
                }
              } catch (e5) {
                i3.e(e5);
              } finally {
                i3.f();
              }
              return r4;
            }
            function _2(e4) {
              var t4 = p2.get().streaming.cmcd.enabledKeys;
              return e4.filter(function(e5) {
                return t4.includes(e5);
              });
            }
            function T2(e4) {
              try {
                return e4.type === C.w.MPD_TYPE ? ((u2 = S2()).ot = "m", u2) : e4.type === C.w.MEDIA_SEGMENT_TYPE ? (t4 = e4.mediaType, f2.hasOwnProperty(t4) || (f2[t4] = false), l2.hasOwnProperty(t4) || (l2[t4] = false), c2.hasOwnProperty(t4) || (c2[t4] = false), function(e5) {
                  var t5, u3 = S2(), d2 = function(e6) {
                    try {
                      var t6 = e6.quality, n4 = e6.mediaInfo.bitrateList;
                      return parseInt(n4[t6].bandwidth / 1e3);
                    } catch (e7) {
                      return null;
                    }
                  }(e5), g3 = function(e6) {
                    try {
                      return isNaN(e6.duration) ? NaN : Math.round(1e3 * e6.duration);
                    } catch (e7) {
                      return null;
                    }
                  }(e5), h3 = function(e6) {
                    try {
                      return 100 * parseInt(r3.getThroughputHistory().getSafeAverageThroughput(e6) / 100);
                    } catch (e7) {
                      return null;
                    }
                  }(e5.mediaType), m3 = function(e6) {
                    try {
                      var t6 = n3.pr, r4 = i2.getCurrentBufferLevel(e6);
                      return isNaN(t6) || isNaN(r4) ? null : 100 * parseInt(r4 / t6 * 10);
                    } catch (e7) {
                      return null;
                    }
                  }(e5.mediaType), y3 = b2(e5.mediaType), E3 = function(e6) {
                    try {
                      var t6 = r3.getTopBitrateInfoFor(e6);
                      return Math.round(t6.bitrate / 1e3);
                    } catch (e7) {
                      return null;
                    }
                  }(e5.mediaType), v3 = n3.pr, _3 = function(e6) {
                    if (s3 && 0 !== s3.length) {
                      var t6, n4 = je(s3);
                      try {
                        for (n4.s(); !(t6 = n4.n()).done; ) {
                          var r4 = t6.value;
                          if (r4.getType() === e6)
                            return r4.probeNextRequest();
                        }
                      } catch (e7) {
                        n4.e(e7);
                      } finally {
                        n4.f();
                      }
                    }
                  }(e5.mediaType);
                  e5.mediaType === a2.Z.VIDEO && (t5 = "v"), e5.mediaType === a2.Z.AUDIO && (t5 = "a"), e5.mediaType === a2.Z.TEXT && (t5 = "application/mp4" === e5.mediaInfo.mimeType ? "tt" : "c");
                  var T3 = p2.get().streaming.cmcd.rtp;
                  return T3 || (T3 = function(e6) {
                    try {
                      var t6 = o2.getPlaybackRate();
                      t6 || (t6 = 1);
                      var n4 = e6.quality, r4 = e6.mediaType, i3 = e6.mediaInfo, a3 = e6.duration;
                      if (!i3)
                        return NaN;
                      var s4 = b2(r4);
                      0 === s4 && (s4 = 500);
                      var u4 = i3.bitrateList[n4].bandwidth * a3 / 1e3 / (s4 / t6 / 1e3), l3 = p2.get().streaming.cmcd.rtpSafetyFactor && !isNaN(p2.get().streaming.cmcd.rtpSafetyFactor) ? p2.get().streaming.cmcd.rtpSafetyFactor : 5;
                      return 100 * (parseInt(u4 * l3 / 100) + 1);
                    } catch (e7) {
                      return NaN;
                    }
                  }(e5)), isNaN(T3) || (u3.rtp = T3), _3 && (e5.url !== _3.url ? u3.nor = encodeURIComponent(Ye.Z.getRelativeUrl(e5.url, _3.url)) : _3.range && (u3.nrr = _3.range)), d2 && (u3.br = d2), t5 && (u3.ot = t5), isNaN(g3) || (u3.d = g3), isNaN(h3) || (u3.mtp = h3), isNaN(m3) || (u3.dl = m3), isNaN(y3) || (u3.bl = y3), isNaN(E3) || (u3.tb = E3), isNaN(v3) || 1 === v3 || (u3.pr = v3), c2[e5.mediaType] && (u3.bs = true, c2[e5.mediaType] = false), !l2[e5.mediaType] && f2[e5.mediaType] || (u3.su = true, l2[e5.mediaType] = false, f2[e5.mediaType] = true), u3;
                }(e4)) : e4.type === C.w.INIT_SEGMENT_TYPE ? function() {
                  var e5 = S2();
                  return e5.ot = "i", e5.su = true, e5;
                }() : e4.type === C.w.OTHER_TYPE || e4.type === C.w.XLINK_EXPANSION_TYPE ? function() {
                  var e5 = S2();
                  return e5.ot = "o", e5;
                }() : e4.type === C.w.LICENSE ? function(e5) {
                  var t5 = S2();
                  return t5.ot = "k", t5;
                }() : null;
              } catch (e5) {
                return null;
              }
              var t4, u2;
            }
            function S2() {
              var e4 = {}, t4 = p2.get().streaming.cmcd.cid ? p2.get().streaming.cmcd.cid : n3.cid;
              return e4.v = 1, e4.sid = p2.get().streaming.cmcd.sid ? p2.get().streaming.cmcd.sid : n3.sid, e4.sid = "".concat(e4.sid), t4 && (e4.cid = "".concat(t4)), isNaN(n3.pr) || 1 === n3.pr || null === n3.pr || (e4.pr = n3.pr), n3.st && (e4.st = n3.st), n3.sf && (e4.sf = n3.sf), e4;
            }
            function b2(e4) {
              try {
                var t4 = i2.getCurrentBufferLevel(e4);
                return isNaN(t4) ? null : 100 * parseInt(10 * t4);
              } catch (e5) {
                return null;
              }
            }
            function A2(e4) {
              try {
                n3.pr = e4.playbackRate;
              } catch (e5) {
              }
            }
            function I2(t4) {
              try {
                var r4 = e3.getIsDynamic(t4.data) ? "l" : "v", i3 = t4.protocol && "MSS" === t4.protocol ? "s" : "d";
                n3.st = "".concat(r4), n3.sf = "".concat(i3);
              } catch (e4) {
              }
            }
            function R2(e4) {
              try {
                e4.state && e4.mediaType && e4.state === d.Z.BUFFER_EMPTY && (c2[e4.mediaType] || (c2[e4.mediaType] = true), l2[e4.mediaType] || (l2[e4.mediaType] = true));
              } catch (e5) {
              }
            }
            function w2() {
              for (var e4 in c2)
                c2.hasOwnProperty(e4) && (c2[e4] = true);
              for (var t4 in l2)
                l2.hasOwnProperty(t4) && (l2[t4] = true);
            }
            function D2(e4) {
              try {
                if (!e4)
                  return null;
                var t4 = Object.keys(e4).sort(function(e5, t5) {
                  return e5.localeCompare(t5);
                }), n4 = t4.length, r4 = t4.reduce(function(t5, r5, i3) {
                  return "v" === r5 && 1 === e4[r5] || ("string" == typeof e4[r5] && "ot" !== r5 && "sf" !== r5 && "st" !== r5 ? t5 += "".concat(r5, "=").concat(JSON.stringify(e4[r5])) : t5 += "".concat(r5, "=").concat(e4[r5]), i3 < n4 - 1 && (t5 += ",")), t5;
                }, "");
                return (r4 = r4.replace(/=true/g, "")).replace(/,\s*$/, "");
              } catch (e5) {
                return null;
              }
            }
            return t3 = { getQueryParameter: function(e4) {
              try {
                if (p2.get().streaming.cmcd && p2.get().streaming.cmcd.enabled) {
                  var t4 = T2(e4), n4 = function(e5) {
                    try {
                      var t5 = p2.get().streaming.cmcd.enabledKeys;
                      return Object.keys(e5).filter(function(e6) {
                        return t5.includes(e6);
                      }).reduce(function(t6, n5) {
                        return t6[n5] = e5[n5], t6;
                      }, {});
                    } catch (t6) {
                      return e5;
                    }
                  }(t4), r4 = D2(n4);
                  return h2.trigger(de.Z.CMCD_DATA_GENERATED, { url: e4.url, mediaType: e4.mediaType, cmcdData: t4, cmcdString: r4 }), { key: "CMCD", value: r4 };
                }
                return null;
              } catch (e5) {
                return null;
              }
            }, getHeaderParameters: function(e4) {
              try {
                if (p2.get().streaming.cmcd && p2.get().streaming.cmcd.enabled) {
                  var t4 = T2(e4), n4 = v2(t4, _2(["br", "d", "ot", "tb"])), r4 = v2(t4, _2(["bl", "dl", "mtp", "nor", "nrr", "su"])), i3 = v2(t4, _2(["bs", "rtp"])), a3 = v2(t4, _2(["cid", "pr", "sf", "sid", "st", "v"])), o3 = { "CMCD-Object": D2(n4), "CMCD-Request": D2(r4), "CMCD-Status": D2(i3), "CMCD-Session": D2(a3) };
                  return h2.trigger(de.Z.CMCD_DATA_GENERATED, { url: e4.url, mediaType: e4.mediaType, cmcdData: t4, headers: o3 }), o3;
                }
                return null;
              } catch (e5) {
                return null;
              }
            }, setConfig: function(e4) {
              e4 && (e4.abrController && (r3 = e4.abrController), e4.dashMetrics && (i2 = e4.dashMetrics), e4.playbackController && (o2 = e4.playbackController));
            }, reset: function() {
              h2.off(d.Z.PLAYBACK_RATE_CHANGED, A2, this), h2.off(d.Z.MANIFEST_LOADED, I2, this), h2.off(d.Z.BUFFER_LEVEL_STATE_CHANGED, R2, t3), h2.off(d.Z.PLAYBACK_SEEKED, w2, t3), m2();
            }, initialize: function() {
              h2.on(d.Z.PLAYBACK_RATE_CHANGED, A2, t3), h2.on(d.Z.MANIFEST_LOADED, I2, t3), h2.on(d.Z.BUFFER_LEVEL_STATE_CHANGED, R2, t3), h2.on(d.Z.PLAYBACK_SEEKED, w2, t3), h2.on(d.Z.PERIOD_SWITCH_COMPLETED, y2, t3);
            } }, e3 = qe(g2).getInstance(), m2(), t3;
          }
          Ve.__dashjs_factory_name = "CmcdModel";
          var Ke = c.Z.getSingletonFactory(Ve);
          function ze(e3) {
            return ze = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, ze(e3);
          }
          function We(e3, t3) {
            We = function(e4, t4) {
              return new a3(e4, void 0, t4);
            };
            var n3 = Qe(RegExp), r3 = RegExp.prototype, i2 = /* @__PURE__ */ new WeakMap();
            function a3(e4, t4, r4) {
              var a4 = n3.call(this, e4, t4);
              return i2.set(a4, r4 || i2.get(e4)), a4;
            }
            function o2(e4, t4) {
              var n4 = i2.get(t4);
              return Object.keys(n4).reduce(function(t5, r4) {
                return t5[r4] = e4[n4[r4]], t5;
              }, /* @__PURE__ */ Object.create(null));
            }
            return Xe(a3, n3), a3.prototype.exec = function(e4) {
              var t4 = r3.exec.call(this, e4);
              return t4 && (t4.groups = o2(t4, this)), t4;
            }, a3.prototype[Symbol.replace] = function(e4, t4) {
              if ("string" == typeof t4) {
                var n4 = i2.get(this);
                return r3[Symbol.replace].call(this, e4, t4.replace(/\$<([^>]+)>/g, function(e5, t5) {
                  return "$" + n4[t5];
                }));
              }
              if ("function" == typeof t4) {
                var a4 = this;
                return r3[Symbol.replace].call(this, e4, function() {
                  var e5 = [];
                  return e5.push.apply(e5, arguments), "object" !== ze(e5[e5.length - 1]) && e5.push(o2(e5, a4)), t4.apply(this, e5);
                });
              }
              return r3[Symbol.replace].call(this, e4, t4);
            }, We.apply(this, arguments);
          }
          function Xe(e3, t3) {
            if ("function" != typeof t3 && null !== t3)
              throw new TypeError("Super expression must either be null or a function");
            e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), t3 && et(e3, t3);
          }
          function Qe(e3) {
            var t3 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
            return Qe = function(e4) {
              if (null === e4 || (n3 = e4, -1 === Function.toString.call(n3).indexOf("[native code]")))
                return e4;
              var n3;
              if ("function" != typeof e4)
                throw new TypeError("Super expression must either be null or a function");
              if (void 0 !== t3) {
                if (t3.has(e4))
                  return t3.get(e4);
                t3.set(e4, r3);
              }
              function r3() {
                return Je(e4, arguments, tt(this).constructor);
              }
              return r3.prototype = Object.create(e4.prototype, { constructor: { value: r3, enumerable: false, writable: true, configurable: true } }), et(r3, e4);
            }, Qe(e3);
          }
          function Je(e3, t3, n3) {
            return Je = $e() ? Reflect.construct : function(e4, t4, n4) {
              var r3 = [null];
              r3.push.apply(r3, t4);
              var i2 = new (Function.bind.apply(e4, r3))();
              return n4 && et(i2, n4.prototype), i2;
            }, Je.apply(null, arguments);
          }
          function $e() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (e3) {
              return false;
            }
          }
          function et(e3, t3) {
            return et = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, et(e3, t3);
          }
          function tt(e3) {
            return tt = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, tt(e3);
          }
          var nt = "static", rt = "dynamic", it = "cmsd-", at = it + nt, ot = it + rt, st = "stream", ut = ["mb", "st", "sf", "v"], lt = { video: "v", audio: "a", text: "tt", stream: st }, ct = /^[-0-9]/;
          function ft() {
            var e3, t3, n3, r3, i2 = this.context, a3 = (0, u.Z)(i2).getInstance();
            function o2() {
              n3 = {}, r3 = {};
            }
            function s3(e4) {
              e4 && Object.keys(e4).forEach(function(t4) {
                ut.includes(t4) || delete e4[t4];
              });
            }
            function c2(e4) {
              return !e4 || "false" !== e4.toLowerCase() && (ct.test(e4) ? parseInt(e4, 10) : e4.replace(/["]+/g, ""));
            }
            function d2(e4) {
              try {
                for (var n4 = {}, r4 = e4.split(","), i3 = 0; i3 < r4.length; i3++) {
                  var a4 = r4[i3].split("="), o3 = a4[0], s4 = c2(a4[1]);
                  n4[o3] = s4;
                }
                return n4;
              } catch (e5) {
                t3.error("Failed to parse CMSD-Static response header value:", e5);
              }
            }
            function g2(e4) {
              try {
                for (var n4 = {}, r4 = e4.split(","), i3 = r4[r4.length - 1].split(";"), a4 = 1; a4 < i3.length; a4++) {
                  var o3 = i3[a4].split("="), s4 = o3[0], u2 = c2(o3[1]);
                  n4[s4] = u2;
                }
                return n4;
              } catch (e5) {
                return t3.error("Failed to parse CMSD-Dynamic response header value:", e5), [];
              }
            }
            function h2(e4) {
              return lt[e4] || "o";
            }
            function p2(e4, t4, i3) {
              var a4 = e4 === nt ? n3 : r3, o3 = a4[t4] || {}, s4 = a4[st] || {};
              return o3[i3] || s4[i3];
            }
            return e3 = { setConfig: function() {
            }, initialize: function() {
            }, reset: function() {
              o2();
            }, parseResponseHeaders: function(e4, t4) {
              for (var i3 = null, o3 = null, u2 = e4.split("\r\n"), c3 = u2.length - 1; c3 >= 0; c3--) {
                var f2 = u2[c3].match(We(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/, { key: 1, value: 2 }));
                if (f2 && f2.groups) {
                  var p3 = f2.groups.key.toLowerCase(), m2 = f2.groups.value;
                  switch (p3) {
                    case at:
                      i3 = d2(m2), a3.trigger(l.Z.CMSD_STATIC_HEADER, i3);
                      break;
                    case ot:
                      o3 || (o3 = g2(m2));
                  }
                }
              }
              var y2 = st;
              return i3 && i3.ot ? y2 = i3.ot : t4 && (y2 = h2(t4)), s3(n3[y2]), s3(r3[y2]), i3 && (n3[y2] = Object.assign(n3[y2] || {}, i3)), o3 && (r3[y2] = Object.assign(r3[y2] || {}, o3)), { static: i3, dynamic: o3 };
            }, getMaxBitrate: function(e4) {
              var t4 = h2(e4);
              return p2(rt, t4, "mb") || -1;
            }, getEstimatedThroughput: function(e4) {
              var t4 = h2(e4);
              return p2(rt, t4, "etp") || null;
            }, getResponseDelay: function(e4) {
              var t4 = h2(e4);
              return p2(rt, t4, "rd") || null;
            }, getRoundTripTime: function(e4) {
              var t4 = h2(e4);
              return p2(rt, t4, "rtt") || null;
            } }, t3 = (0, f.Z)(i2).getInstance().getLogger(e3), o2(), e3;
          }
          ft.__dashjs_factory_name = "CmsdModel";
          var dt = c.Z.getSingletonFactory(ft);
          function gt() {
            var e3, t3, n3 = this.context, r3 = {};
            function i2() {
              t3 = (0, f.Z)(n3).getInstance().getLogger(e3);
            }
            function a3(e4) {
              for (var t4 = {}, n4 = 0, r4 = 0, i3 = 0, a4 = 0, o3 = e4.length, s3 = 0; s3 < o3; ++s3)
                n4 += e4[s3].chunkDownloadTimeRelativeMS, r4 += e4[s3].bufferLevel, i3 += e4[s3].chunkDownloadTimeRelativeMS * e4[s3].bufferLevel, a4 += e4[s3].chunkDownloadTimeRelativeMS * e4[s3].chunkDownloadTimeRelativeMS;
              return t4.m = (i3 - n4 * r4 / o3) / (a4 - n4 * n4 / o3), t4.b = r4 / o3 - t4.m * n4 / o3, function(e5) {
                return t4.m * e5 + t4.b;
              };
            }
            function o2(e4) {
              var t4, n4 = true, r4 = e4.reduce(function(e5, t5) {
                return e5 + t5.bufferLevelAtSegmentEnd;
              }, 0) / e4.length;
              return e4.forEach(function(e5) {
                Math.abs(e5.bufferLevelAtSegmentEnd / e5.bufferLevelAtSegmentStart) < 0.95 && (n4 = false), e5.bufferLevelAtSegmentEnd / r4 < 0.8 && (n4 = false), t4 ? t4 > e5.bitrate && (n4 = false) : t4 = e5.bitrate;
              }), n4;
            }
            return e3 = { setup: i2, addMeasurement: function(e4, t4, n4, i3, o3) {
              e4 && e4.mediaType && !r3[e4.mediaType] && (r3[e4.mediaType] = []);
              var s3 = e4.mediaInfo.bitrateList.find(function(t5) {
                return t5.id === e4.representationId;
              });
              r3[e4.mediaType].push({ index: e4.index, repId: e4.representationId, mediaType: e4.mediaType, requestTimeMS: i3, adjustedAvailabilityStartTimeMS: e4.availabilityStartTime.getTime(), segDurationMS: 1e3 * e4.duration, chunksDurationMS: n4.reduce(function(e5, t5) {
                return e5 + t5.chunkDownloadDurationMS;
              }, 0), segmentBytes: n4.reduce(function(e5, t5) {
                return e5 + t5.chunkBytes;
              }, 0), bitrate: s3 && s3.bandwidth, bitrateList: e4.mediaInfo.bitrateList, chunkMeasurements: n4, fetchDownloadDurationMS: t4, throughputCapacityDelayMS: o3, getEstimatedBufferLevel: a3(n4.slice(1)) }), r3[e4.mediaType].length > 10 && r3[e4.mediaType].shift();
            }, getThroughputCapacityDelayMS: function(e4, t4) {
              var n4 = r3[e4.mediaType] && r3[e4.mediaType].slice(-3);
              return !n4 || n4.length < 3 ? 0 : o2(n4) ? t4 / 4 > 250 ? 250 : t4 / 4 : 0;
            }, getEstimatedDownloadDurationMS: function(e4) {
              var n4 = r3[e4.mediaType].slice(-1).pop(), i3 = r3[e4.mediaType].slice(-3), a4 = n4.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;
              n4.bufferLevelAtSegmentStart = n4.getEstimatedBufferLevel(a4 / 2), n4.bufferLevelAtSegmentEnd = n4.getEstimatedBufferLevel(a4);
              var s3 = o2(i3), u2 = s3 ? 0.6 : 0.8;
              if (n4.isBufferStable && 1.05 * n4.segDurationMS < n4.fetchDownloadDurationMS)
                return n4.fetchDownloadDurationMS;
              if (!s3 || n4.segDurationMS < n4.fetchDownloadDurationMS)
                return 0.8 * n4.fetchDownloadDurationMS;
              if (n4.adjustedAvailabilityStartTimeMS <= n4.requestTimeMS + n4.throughputCapacityDelayMS - n4.segDurationMS)
                return 0.8 * n4.fetchDownloadDurationMS;
              for (var l2 = n4.requestTimeMS + n4.throughputCapacityDelayMS - n4.adjustedAvailabilityStartTimeMS, c2 = 0, f2 = 0, d2 = 0, g2 = 0; g2 < n4.chunkMeasurements.length; g2++) {
                var h2 = n4.chunkMeasurements[g2];
                if (l2 < f2 + h2.chunkDownloadDurationMS)
                  break;
                f2 += h2.chunkDownloadDurationMS, c2 += h2.chunkBytes, d2++;
              }
              if (l2 < 0 && t3.warn("request time was before adjusted availibitly start time"), c2 && f2 && d2 > 0.2 * n4.chunkMeasurements.length) {
                var p2 = c2 / f2, m2 = n4.segmentBytes / p2;
                return n4.fetchDownloadDurationMS < m2 ? n4.fetchDownloadDurationMS * u2 : m2 * u2;
              }
              var y2 = n4.bitrate;
              return n4.bitrateList.some(function(e5) {
                if (e5.bandwidth > n4.bitrate)
                  return y2 = e5.bandwidth, true;
              }), y2 === n4.bitrate ? n4.fetchDownloadDurationMS * u2 : u2 * n4.segmentBytes * 8 * 1e3 / y2;
            } }, i2(), e3;
          }
          gt.__dashjs_factory_name = "LowLatencyThroughputModel";
          var ht = c.Z.getSingletonFactory(gt), pt = n2(5717);
          function mt(e3, t3, n3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t3] = n3, e3;
          }
          function yt(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, o2, s3, c2, d2, g2, h2, p2, m2 = this.context, y2 = e3.errHandler, E2 = e3.dashMetrics, v2 = e3.mediaPlayerModel, _2 = e3.requestModifier, T2 = e3.boxParser, b2 = e3.errors, A2 = e3.requestTimeout || 0, I2 = (0, u.Z)(m2).getInstance(), R2 = (0, N.Z)(m2).getInstance();
            function w2(e4, t4) {
              var u2, f2 = e4.request, p3 = [], b3 = true, N2 = true, D2 = /* @__PURE__ */ new Date(), O2 = D2, M2 = 0, P2 = null, L2 = null;
              if (!_2 || !E2 || !y2)
                throw new Error("config object is not correct or missing");
              var F2, x2 = function(e5) {
                f2.requestStartDate = D2, f2.requestEndDate = /* @__PURE__ */ new Date(), f2.firstByteDate = f2.firstByteDate || D2, f2.fileLoaderType = L2;
                var t5 = u2.response ? u2.response.responseURL : null, n4 = u2.response ? u2.response.status : null, r4 = u2.response && u2.response.getAllResponseHeaders ? u2.response.getAllResponseHeaders() : u2.response ? u2.response.responseHeaders : null, i3 = r4 && R2.get().streaming.cmsd && R2.get().streaming.cmsd.enabled ? c2.parseResponseHeaders(r4, f2.mediaType) : null;
                E2.addHttpRequest(f2, t5, n4, r4, e5 ? p3 : null, i3);
              }, k2 = function(e5) {
                N2 = false, x2(e5), f2.type === C.w.MPD_TYPE && (E2.addManifestUpdate(f2), I2.trigger(l.Z.MANIFEST_LOADING_FINISHED, { request: f2 }));
              }, U2 = function() {
                if (P2 && (clearTimeout(P2), P2 = null), -1 !== n3.indexOf(u2) && (n3.splice(n3.indexOf(u2), 1), N2))
                  if (k2(false), t4 > 0) {
                    try {
                      R2.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError && f2.type === C.w.MEDIA_SEGMENT_TYPE && v2.getRetryAttemptsForType(C.w.MEDIA_SEGMENT_TYPE) === t4 && I2.trigger(l.Z.ATTEMPT_BACKGROUND_SYNC);
                    } catch (e5) {
                    }
                    t4--;
                    var r4 = { config: e4 };
                    i2.push(r4), r4.timeout = setTimeout(function() {
                      -1 !== i2.indexOf(r4) && (i2.splice(i2.indexOf(r4), 1), w2(e4, t4));
                    }, v2.getRetryIntervalsForType(f2.type));
                  } else {
                    if (f2.type === C.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)
                      return;
                    y2.error(new S.Z(o2[f2.type], f2.url + " is not available", { request: f2, response: u2.response })), e4.error && e4.error(f2, "error", u2.response.statusText, u2.response), e4.complete && e4.complete(f2, u2.response.statusText);
                  }
              };
              f2.hasOwnProperty("availabilityTimeComplete") && false === f2.availabilityTimeComplete && window.fetch && "arraybuffer" === f2.responseType && f2.type === C.w.MEDIA_SEGMENT_TYPE ? ((F2 = fe(m2).create({ requestModifier: _2, lowLatencyThroughputModel: g2, boxParser: T2 })).setup({ dashMetrics: E2 }), L2 = a2.Z.FILE_LOADER_TYPES.FETCH) : (F2 = (0, se.Z)(m2).create({ requestModifier: _2 }), L2 = a2.Z.FILE_LOADER_TYPES.XHR);
              var Z2 = null, B2 = _2.modifyRequestURL ? _2.modifyRequestURL(f2.url) : f2.url;
              if (R2.get().streaming.cmcd && R2.get().streaming.cmcd.enabled) {
                var G2 = R2.get().streaming.cmcd.mode;
                if (G2 === a2.Z.CMCD_MODE_QUERY) {
                  var q2 = function(e5) {
                    try {
                      var t5 = [], n4 = s3.getQueryParameter(e5);
                      return n4 && t5.push(n4), t5;
                    } catch (e6) {
                      return [];
                    }
                  }(f2);
                  B2 = Ye.Z.addAditionalQueryParameterToUrl(B2, q2);
                } else
                  G2 === a2.Z.CMCD_MODE_HEADER && (Z2 = s3.getHeaderParameters(f2));
              }
              var Y2 = d2.getXHRWithCredentialsForType(f2.type);
              if (f2.queryParams) {
                var j2 = Object.keys(f2.queryParams).map(function(e5) {
                  return { key: e5, value: f2.queryParams[e5] };
                });
                B2 = Ye.Z.addAditionalQueryParameterToUrl(B2, j2);
              }
              f2.url = B2, u2 = { url: B2, method: C.w.GET, withCredentials: Y2, request: f2, onload: function() {
                u2.response.status >= 200 && u2.response.status <= 299 && (k2(true), e4.success && e4.success(u2.response.response, u2.response.statusText, u2.response.responseURL), e4.complete && e4.complete(f2, u2.response.statusText));
              }, onend: U2, onerror: U2, progress: function(t5) {
                var n4 = /* @__PURE__ */ new Date();
                b3 && (b3 = false, (!t5.lengthComputable || t5.lengthComputable && t5.total !== t5.loaded) && (f2.firstByteDate = n4)), t5.lengthComputable && (f2.bytesLoaded = t5.loaded, f2.bytesTotal = t5.total), t5.noTrace || (p3.push({ s: O2, d: t5.time ? t5.time : n4.getTime() - O2.getTime(), b: [t5.loaded ? t5.loaded - M2 : 0] }), O2 = n4, M2 = t5.loaded), P2 && (clearTimeout(P2), P2 = null), R2.get().streaming.fragmentRequestProgressTimeout > 0 && (P2 = setTimeout(function() {
                  h2.warn("Abort request " + u2.url + " due to progress timeout"), u2.response.onabort = null, u2.loader.abort(u2), U2();
                }, R2.get().streaming.fragmentRequestProgressTimeout)), e4.progress && t5 && e4.progress(t5);
              }, onabort: function() {
                x2(true), P2 && (clearTimeout(P2), P2 = null), e4.abort && e4.abort(f2);
              }, ontimeout: function(e5) {
                var t5;
                if (e5.lengthComputable) {
                  var n4 = e5.loaded / e5.total * 100;
                  t5 = "Request timeout: loaded: " + e5.loaded + ", out of: " + e5.total + " : " + n4.toFixed(3) + "% Completed";
                } else
                  t5 = "Request timeout: non-computable download size";
                h2.warn(t5);
              }, loader: F2, timeout: A2, headers: Z2 };
              var H2 = (/* @__PURE__ */ new Date()).getTime();
              if (isNaN(f2.delayLoadingTime) || H2 >= f2.delayLoadingTime)
                n3.push(u2), F2.load(u2);
              else {
                var V2 = { httpRequest: u2 };
                r3.push(V2), V2.delayTimeout = setTimeout(function() {
                  if (-1 !== r3.indexOf(V2)) {
                    r3.splice(r3.indexOf(V2), 1);
                    try {
                      D2 = /* @__PURE__ */ new Date(), O2 = D2, n3.push(V2.httpRequest), F2.load(V2.httpRequest);
                    } catch (e5) {
                      V2.httpRequest.onerror();
                    }
                  }
                }, f2.delayLoadingTime - H2);
              }
            }
            return t3 = { load: function(e4) {
              e4.request ? w2(e4, v2.getRetryAttemptsForType(e4.request.type)) : e4.error && e4.error(e4.request, "error");
            }, abort: function() {
              i2.forEach(function(e4) {
                clearTimeout(e4.timeout), e4.config.request && e4.config.abort && e4.config.abort(e4.config.request);
              }), i2 = [], r3.forEach(function(e4) {
                return clearTimeout(e4.delayTimeout);
              }), r3 = [], n3.forEach(function(e4) {
                e4.request.type !== C.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE && (e4.onloadend = e4.onerror = e4.onprogress = void 0, e4.loader.abort(e4));
              }), n3 = [];
            } }, h2 = (0, f.Z)(m2).getInstance().getLogger(t3), n3 = [], r3 = [], i2 = [], s3 = Ke(m2).getInstance(), c2 = dt(m2).getInstance(), g2 = ht(m2).getInstance(), d2 = (0, pt.Z)(m2).getInstance(), mt(p2 = {}, C.w.MPD_TYPE, b2.DOWNLOAD_ERROR_ID_MANIFEST_CODE), mt(p2, C.w.XLINK_EXPANSION_TYPE, b2.DOWNLOAD_ERROR_ID_XLINK_CODE), mt(p2, C.w.INIT_SEGMENT_TYPE, b2.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE), mt(p2, C.w.MEDIA_SEGMENT_TYPE, b2.DOWNLOAD_ERROR_ID_CONTENT_CODE), mt(p2, C.w.INDEX_SEGMENT_TYPE, b2.DOWNLOAD_ERROR_ID_CONTENT_CODE), mt(p2, C.w.BITSTREAM_SWITCHING_SEGMENT_TYPE, b2.DOWNLOAD_ERROR_ID_CONTENT_CODE), mt(p2, C.w.OTHER_TYPE, b2.DOWNLOAD_ERROR_ID_CONTENT_CODE), o2 = p2, t3;
          }
          yt.__dashjs_factory_name = "HTTPLoader";
          var Et = c.Z.getClassFactory(yt);
          function vt() {
            var e3;
            function t3() {
              e3 = {};
            }
            function n3() {
              t3();
            }
            return n3(), { getLoader: function(t4) {
              for (var n4 in e3)
                if (e3.hasOwnProperty(n4) && t4.startsWith(n4))
                  return e3[n4];
              return Et;
            }, registerLoader: function(t4, n4) {
              e3[t4] = n4;
            }, unregisterLoader: function(t4) {
              e3[t4] && delete e3[t4];
            }, unregisterAllLoader: t3, reset: n3 };
          }
          vt.__dashjs_factory_name = "SchemeLoaderFactory";
          var _t = c.Z.getSingletonFactory(vt);
          function Tt(e3) {
            e3 = e3 || {};
            var t3, n3, r3 = this.context;
            return t3 = _t(r3).getInstance(), { load: function(i2) {
              if (!n3) {
                var a3 = t3.getLoader(i2 && i2.request ? i2.request.url : null);
                n3 = a3(r3).create({ errHandler: e3.errHandler, mediaPlayerModel: e3.mediaPlayerModel, requestModifier: e3.requestModifier, dashMetrics: e3.dashMetrics, boxParser: e3.boxParser ? e3.boxParser : null, constants: e3.constants ? e3.constants : null, dashConstants: e3.dashConstants ? e3.dashConstants : null, urlUtils: e3.urlUtils ? e3.urlUtils : null, requestTimeout: isNaN(e3.requestTimeout) ? 0 : e3.requestTimeout, errors: e3.errors });
              }
              n3.load(i2);
            }, abort: function() {
              n3 && n3.abort();
            } };
          }
          Tt.__dashjs_factory_name = "URLLoader";
          var St = c.Z.getClassFactory(Tt);
          function bt(e3) {
            return bt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, bt(e3);
          }
          function At(e3, t3) {
            return At = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, At(e3, t3);
          }
          function It(e3, t3) {
            return !t3 || "object" !== bt(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function Rt(e3) {
            return Rt = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, Rt(e3);
          }
          var wt = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && At(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = Rt(t3);
              if (n3) {
                var i3 = Rt(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return It(this, e4);
            });
            function i2(e4) {
              var t4;
              return function(e5, t5) {
                if (!(e5 instanceof t5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2), (t4 = r3.call(this, e4)).checkForExistenceOnly = true, t4;
            }
            return i2;
          }(p.Z);
          function Nt(e3) {
            e3 = e3 || {};
            var t3, n3, r3 = this.context, i2 = e3.eventBus, o2 = e3.events, s3 = e3.urlUtils, u2 = e3.errors, l2 = e3.streamId;
            return t3 = { checkForExistence: function(e4) {
              var t4 = function(t5) {
                i2.trigger(o2.CHECK_FOR_EXISTENCE_COMPLETED, { request: e4, exists: t5 });
              };
              if (e4) {
                var r4 = new wt(e4.url);
                n3.load({ request: r4, success: function() {
                  t4(true);
                }, error: function() {
                  t4(false);
                } });
              } else
                t4(false);
            }, load: function(e4) {
              var r4 = function(n4, r5) {
                i2.trigger(o2.LOADING_COMPLETED, { request: e4, response: n4 || null, error: r5 || null, sender: t3 });
              };
              e4 ? n3.load({ request: e4, progress: function(n4) {
                i2.trigger(o2.LOADING_PROGRESS, { request: e4, stream: n4.stream, streamId: l2 }), n4.data && i2.trigger(o2.LOADING_DATA_PROGRESS, { request: e4, response: n4.data || null, error: null, sender: t3 });
              }, success: function(e5) {
                r4(e5);
              }, error: function(e5, t4, n4) {
                r4(void 0, new S.Z(u2.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE, n4, t4));
              }, abort: function(e5) {
                e5 && i2.trigger(o2.LOADING_ABANDONED, { mediaType: e5.mediaType, request: e5, sender: t3 });
              } }) : r4(void 0, new S.Z(u2.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE, u2.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE));
            }, abort: function() {
              n3 && n3.abort();
            }, reset: function() {
              n3 && (n3.abort(), n3 = null);
            } }, n3 = St(r3).create({ errHandler: e3.errHandler, errors: u2, dashMetrics: e3.dashMetrics, mediaPlayerModel: e3.mediaPlayerModel, requestModifier: e3.requestModifier, urlUtils: s3, constants: a2.Z, boxParser: e3.boxParser, dashConstants: e3.dashConstants, requestTimeout: e3.settings.get().streaming.fragmentRequestTimeout }), t3;
          }
          Nt.__dashjs_factory_name = "FragmentLoader";
          var Ct = c.Z.getClassFactory(Nt);
          function Dt() {
            return { modifyResponseAsync: function(e3) {
              return Promise.resolve(e3);
            } };
          }
          Dt.__dashjs_factory_name = "SegmentResponseModifier";
          var Ot = c.Z.getSingletonFactory(Dt);
          function Mt(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2 = this.context, o2 = (0, u.Z)(i2).getInstance(), s3 = e3.errHandler, c2 = e3.mediaPlayerModel, g2 = e3.dashMetrics, h2 = (0, f.Z)(i2).getInstance(), p2 = Ot(i2).getInstance(), m2 = e3.streamInfo;
            function y2() {
              return m2.id;
            }
            function E2() {
              for (var e4 in r3)
                r3[e4].reset();
              r3 = {};
            }
            function v2(e4) {
              if (e4.sender) {
                var t4 = e4.request, r4 = e4.response, i3 = t4.isInitializationRequest(), s4 = t4.mediaInfo.streamInfo;
                if (e4.error && (t4.mediaType === a2.Z.AUDIO || t4.mediaType === a2.Z.VIDEO || t4.mediaType === a2.Z.TEXT && t4.mediaInfo.isFragmented) && o2.trigger(l.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD, { entry: e4.request.serviceLocation }), r4 && s4) {
                  var u2 = function(e5, t5, n4, r5) {
                    var i4 = new oe();
                    return i4.streamId = n4, i4.mediaInfo = t5.mediaInfo, i4.segmentType = t5.type, i4.start = t5.startTime, i4.duration = t5.duration, i4.end = i4.start + i4.duration, i4.bytes = e5, i4.index = t5.index, i4.quality = t5.quality, i4.representationId = t5.representationId, i4.endFragment = r5, i4;
                  }(r4, t4, m2.id, e4.type !== l.Z.FRAGMENT_LOADING_PROGRESS);
                  p2.modifyResponseAsync(u2).then(function(e5) {
                    o2.trigger(i3 ? l.Z.INIT_FRAGMENT_LOADED : l.Z.MEDIA_FRAGMENT_LOADED, { chunk: e5, request: t4 }, { streamId: s4.id, mediaType: t4.mediaType });
                  }).catch(function(e5) {
                    n3.error(e5), o2.trigger(i3 ? l.Z.INIT_FRAGMENT_LOADED : l.Z.MEDIA_FRAGMENT_LOADED, { chunk: u2, request: t4 }, { streamId: s4.id, mediaType: t4.mediaType });
                  });
                } else
                  n3.warn("No " + t4.mediaType + " bytes to push or stream is inactive.");
              }
            }
            return t3 = { getStreamId: y2, getModel: function(t4) {
              var n4 = r3[t4];
              return n4 || (n4 = T(i2).create({ streamInfo: m2, type: t4, dashMetrics: g2, fragmentLoader: Ct(i2).create({ dashMetrics: g2, mediaPlayerModel: c2, errHandler: s3, requestModifier: (0, X.Z)(i2).getInstance(), settings: e3.settings, boxParser: e3.boxParser, eventBus: o2, events: l.Z, errors: w, dashConstants: e3.dashConstants, urlUtils: e3.urlUtils, streamId: y2() }), debug: h2, eventBus: o2, events: l.Z }), r3[t4] = n4), n4;
            }, reset: function() {
              o2.off(d.Z.FRAGMENT_LOADING_COMPLETED, v2, this), o2.off(d.Z.FRAGMENT_LOADING_PROGRESS, v2, this), E2();
            } }, n3 = h2.getLogger(t3), E2(), o2.on(d.Z.FRAGMENT_LOADING_COMPLETED, v2, t3), o2.on(d.Z.FRAGMENT_LOADING_PROGRESS, v2, t3), t3;
          }
          Mt.__dashjs_factory_name = "FragmentController";
          var Pt = c.Z.getClassFactory(Mt), Lt = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.url = null, this.width = null, this.height = null, this.x = null, this.y = null;
          }, Ft = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.mediaType = null, this.bitrate = null, this.width = null, this.height = null, this.scanType = null, this.qualityIndex = NaN;
          };
          function xt(e3) {
            var t3, n3, r3 = this.context, i2 = e3.streamInfo;
            function o2(e4) {
              n3.setTrackByIndex(e4);
            }
            function s3() {
              n3 && n3.reset();
            }
            return t3 = { getStreamId: function() {
              return i2.id;
            }, initialize: function() {
              n3.addTracks();
              var e4 = n3.getTracks();
              e4 && e4.length > 0 && o2(0);
            }, provide: function(e4, t4) {
              if ("function" == typeof t4) {
                var r4, i3, a3 = n3.getCurrentTrack();
                if (!a3 || a3.segmentDuration <= 0 || null == e4)
                  t4(null);
                else {
                  (i3 = n3.getThumbnailRequestForTime(e4)) && (a3.segmentDuration = i3.duration), r4 = e4 % a3.segmentDuration;
                  var o3 = Math.floor(r4 * a3.tilesHor * a3.tilesVert / a3.segmentDuration), s4 = new Lt();
                  if (s4.width = Math.floor(a3.widthPerTile), s4.height = Math.floor(a3.heightPerTile), s4.x = Math.floor(o3 % a3.tilesHor) * a3.widthPerTile, s4.y = Math.floor(o3 / a3.tilesHor) * a3.heightPerTile, "readThumbnail" in a3)
                    return a3.readThumbnail(e4, function(e5) {
                      s4.url = e5, t4(s4);
                    });
                  if (i3)
                    s4.url = i3.url, a3.segmentDuration = NaN;
                  else {
                    var u2 = Math.floor(e4 / a3.segmentDuration);
                    s4.url = function(e5, t5) {
                      var n4 = t5 + e5.startNumber, r5 = (0, H.vi)(e5.templateUrl, "Number", n4);
                      return r5 = (0, H.vi)(r5, "Time", (n4 - 1) * e5.segmentDuration * e5.timescale), r5 = (0, H.vi)(r5, "Bandwidth", e5.bandwidth), (0, H.eR)(r5);
                    }(a3, u2);
                  }
                  t4(s4);
                }
              }
            }, setTrackByIndex: o2, getCurrentTrackIndex: function() {
              return n3.getCurrentTrackIndex();
            }, getBitrateList: function() {
              var e4 = n3.getTracks(), t4 = 0;
              return e4.map(function(e5) {
                var n4 = new Ft();
                return n4.mediaType = a2.Z.IMAGE, n4.qualityIndex = t4++, n4.bitrate = e5.bitrate, n4.width = e5.width, n4.height = e5.height, n4;
              });
            }, reset: s3 }, s3(), n3 = (0, Me.Z)(r3).create({ streamInfo: i2, adapter: e3.adapter, baseURLController: e3.baseURLController, timelineConverter: e3.timelineConverter, debug: e3.debug, eventBus: e3.eventBus, events: e3.events, dashConstants: e3.dashConstants, dashMetrics: e3.dashMetrics, segmentBaseController: e3.segmentBaseController }), t3;
          }
          xt.__dashjs_factory_name = "ThumbnailController";
          var kt = c.Z.getClassFactory(xt), Ut = n2(7417);
          function Zt(e3) {
            var t3;
            e3 = e3 || {};
            var n3 = [], r3 = (0, u.Z)(this.context).getInstance(), i2 = e3.updateEventName, a3 = e3.addBlacklistEventName;
            function o2(e4) {
              -1 === n3.indexOf(e4) && (n3.push(e4), r3.trigger(i2, { entry: e4 }));
            }
            return t3 = { add: o2, contains: function(e4) {
              return !!(n3.length && e4 && e4.length) && -1 !== n3.indexOf(e4);
            }, reset: function() {
              n3 = [];
            } }, a3 && r3.on(a3, function(e4) {
              o2(e4.entry);
            }, t3), t3;
          }
          Zt.__dashjs_factory_name = "BlackListController";
          var Bt = c.Z.getClassFactory(Zt), Gt = [a2.Z.VIDEO, a2.Z.AUDIO, a2.Z.TEXT, a2.Z.MUXED, a2.Z.IMAGE];
          function qt(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, s3, c2, d2, g2, h2, p2, m2, y2, E2, v2, _2, T2, b2, A2, I2 = this.context, R2 = (0, u.Z)(I2).getInstance(), N2 = (0, Q.Z)(I2).getInstance(), C2 = e3.manifestModel, D2 = e3.mediaPlayerModel, O2 = e3.dashMetrics, M2 = e3.manifestUpdater, P2 = e3.adapter, L2 = e3.timelineConverter, F2 = e3.capabilities, x2 = e3.errHandler, k2 = e3.abrController, U2 = e3.playbackController, Z2 = e3.eventController, B2 = e3.mediaController, G2 = e3.protectionController, q2 = e3.textController, Y2 = e3.videoModel, j2 = e3.streamInfo, H2 = e3.settings;
            function V2(e4, t4) {
              return new Promise(function(i3, o2) {
                ne2(), p2 = true, ie2();
                var s4 = Y2.getElement(), u2 = [];
                Gt.forEach(function(t5) {
                  (t5 !== a2.Z.TEXT || e4) && (t5 !== a2.Z.VIDEO || !s4 || s4 && /^VIDEO$/i.test(s4.nodeName)) && u2.push(K2(t5, e4));
                }), Promise.all(u2).then(function() {
                  return e5 = t4, new Promise(function(t5) {
                    var n4 = {}, i4 = r3.map(function(t6) {
                      return t6.createBufferSinks(e5);
                    });
                    Promise.all(i4).then(function(e6) {
                      e6.forEach(function(e7) {
                        e7 && (n4[e7.getType()] = e7);
                      }), t5(n4);
                    }).catch(function() {
                      t5(n4);
                    });
                  });
                  var e5;
                }).then(function(t5) {
                  if (p2 = false, 0 === r3.length) {
                    var a3 = "No streams to play.";
                    x2.error(new S.Z(w.MANIFEST_ERROR_ID_NOSTREAMS_CODE, a3, C2.getValue())), n3.fatal(a3);
                  } else
                    oe2();
                  e4 && q2.createTracks(j2), i3(t5);
                }).catch(function(e5) {
                  o2(e5);
                });
              });
            }
            function K2(t4, i3) {
              var s4, u2 = P2.getAllMediaInfoForType(j2, t4), c3 = [], f2 = null;
              if (!u2 || 0 === u2.length)
                return n3.info("No " + t4 + " data."), Promise.resolve();
              t4 === a2.Z.VIDEO && (d2 = true), t4 === a2.Z.AUDIO && (g2 = true);
              for (var h3 = 0, p3 = u2.length; h3 < p3; h3++)
                f2 = u2[h3], t4 === a2.Z.TEXT && f2.isEmbedded && (q2.addEmbeddedTrack(j2, f2), c3.push(f2)), z2(f2) && B2.addTrack(f2);
              if (c3.length > 0 && (B2.setInitialMediaSettingsForType(t4, j2), q2.addMediaInfosToBuffer(j2, t4, c3)), u2 = u2.filter(function(e4) {
                return !e4.isEmbedded;
              }), 0 === u2.length)
                return Promise.resolve();
              if (t4 === a2.Z.IMAGE)
                return (y2 = kt(I2).create({ streamInfo: j2, adapter: P2, baseURLController: e3.baseURLController, timelineConverter: e3.timelineConverter, debug: T2, eventBus: R2, events: l.Z, dashConstants: o.Z, dashMetrics: e3.dashMetrics, segmentBaseController: e3.segmentBaseController })).initialize(), Promise.resolve();
              R2.trigger(l.Z.STREAM_INITIALIZING, { streamInfo: j2, mediaInfo: f2 }), B2.setInitialMediaSettingsForType(t4, j2);
              var v3 = function(t5, n4) {
                var i4 = t5 && t5.length > 0 ? t5[0] : null, o2 = m2.getModel(i4 ? i4.type : null), s5 = i4 ? i4.type : null, u3 = i4 ? i4.mimeType : null, l2 = i4 ? i4.isFragmented : null, c4 = ae(I2).create({ streamInfo: j2, type: s5, mimeType: u3, timelineConverter: L2, adapter: P2, manifestModel: C2, mediaPlayerModel: D2, fragmentModel: o2, dashMetrics: e3.dashMetrics, baseURLController: e3.baseURLController, segmentBaseController: e3.segmentBaseController, abrController: k2, playbackController: U2, mediaController: B2, textController: q2, errHandler: x2, settings: H2, boxParser: _2, segmentBlacklistController: E2 });
                c4.initialize(n4, d2, l2), r3.push(c4);
                for (var f3 = 0; f3 < t5.length; f3++)
                  c4.addMediaInfo(t5[f3]);
                return s5 === a2.Z.TEXT && q2.addMediaInfosToBuffer(j2, s5, t5, o2), c4;
              }(u2, i3);
              return (s4 = B2.getCurrentTrackFor(t4, j2.id)) ? (k2.updateTopQualityIndex(s4), v3.selectMediaInfo(t4 === a2.Z.TEXT && s4.isEmbedded ? u2[0] : s4)) : Promise.resolve();
            }
            function z2(e4) {
              var t4, r4 = e4 ? e4.type : null;
              return r4 === a2.Z.MUXED ? (t4 = "Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines", n3.fatal(t4), x2.error(new S.Z(w.MANIFEST_ERROR_ID_MULTIPLEXED_CODE, t4, C2.getValue())), false) : !(r4 !== a2.Z.TEXT && r4 !== a2.Z.IMAGE && e4.contentProtection && !F2.supportsEncryptedMedia() && (x2.error(new S.Z(w.CAPABILITY_MEDIAKEYS_ERROR_CODE, w.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)), 1));
            }
            function W2(e4) {
              for (var t4 = r3 ? r3.length : 0, n4 = 0; n4 < t4; n4++) {
                var i3 = r3[n4].getFragmentModel();
                i3.abortRequests(), i3.resetInitialSettings(), r3[n4].reset(false, e4);
              }
              q2 && q2.deactivateStream(j2), r3 = [], s3 = false, c2 = false, me2(false), J2(false), R2.trigger(l.Z.STREAM_DEACTIVATED, { streamInfo: j2 });
            }
            function X2(e4) {
              W2(e4), i2 = false, d2 = false, g2 = false, h2 = {}, p2 = false, b2 = false, A2 = [];
            }
            function J2(e4) {
              b2 = e4;
            }
            function $2() {
              return j2 ? j2.start : NaN;
            }
            function ee2() {
              return j2 ? j2.id : null;
            }
            function te2() {
              return j2;
            }
            function ne2() {
              if (!Y2 || !k2)
                throw new Error(a2.Z.MISSING_CONFIG_ERROR);
            }
            function re2(e4) {
              e4.error && (x2.error(e4.error), n3.fatal(e4.error.message));
            }
            function ie2() {
              if (Z2) {
                var e4 = P2.getEventsFor(j2);
                e4 && e4.length > 0 && Z2.addInlineEvents(e4, j2.id);
              }
            }
            function oe2() {
              for (var e4 = r3.length, t4 = h2.audio || h2.video ? new S.Z(w.DATA_UPDATE_FAILED_ERROR_CODE, w.DATA_UPDATE_FAILED_ERROR_MESSAGE) : null, n4 = 0; n4 < e4; n4++)
                if (r3[n4].isUpdating() || p2)
                  return;
              if (G2) {
                G2.clearMediaInfoArray();
                for (var o2 = 0; o2 < e4 && r3[o2]; o2++) {
                  var s4 = r3[o2].getType(), u2 = r3[o2].getMediaInfo();
                  if (s4 === a2.Z.AUDIO || s4 === a2.Z.VIDEO || s4 === a2.Z.TEXT && u2.isFragmented) {
                    var c3 = r3[o2].getMediaInfo();
                    c3 && G2.initializeForMedia(c3);
                  }
                }
                G2.handleKeySystemFromManifest();
              }
              t4 ? x2.error(t4) : i2 || (i2 = true, Y2.waitForReadyState(a2.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA, function() {
                R2.trigger(l.Z.STREAM_INITIALIZED, { streamInfo: j2 });
              }));
            }
            function se2() {
              var e4 = de2(), t4 = e4.length;
              if (0 !== t4) {
                for (var r4 = 0; r4 < t4; r4++)
                  if (!e4[r4].isBufferingCompleted() && (e4[r4].getType() === a2.Z.AUDIO || e4[r4].getType() === a2.Z.VIDEO))
                    return void n3.debug("onBufferingCompleted - One streamProcessor has finished but", e4[r4].getType(), "one is not buffering completed");
                n3.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"), c2 = true, R2.trigger(l.Z.STREAM_BUFFERING_COMPLETED, { streamInfo: j2 }, { streamInfo: j2 });
              } else
                n3.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined");
            }
            function ue2(e4) {
              h2[e4.mediaType] = e4.error, oe2();
            }
            function le2(e4) {
              Z2 && Z2.addInbandEvents(e4.events, j2.id);
            }
            function ce2(e4) {
              return e4 && e4.type ? fe2(e4.type) : null;
            }
            function fe2(e4) {
              return e4 ? de2().filter(function(t4) {
                return t4.getType() === e4;
              })[0] : null;
            }
            function de2() {
              for (var e4, t4, n4 = [], i3 = 0; i3 < r3.length; i3++)
                (e4 = (t4 = r3[i3]).getType()) !== a2.Z.AUDIO && e4 !== a2.Z.VIDEO && e4 !== a2.Z.TEXT || n4.push(t4);
              return n4;
            }
            function ge2(e4, t4) {
              var n4 = te2(), r4 = t4.getStreamInfo();
              if (!r4 || !n4)
                return true;
              var i3 = P2.getAdaptationForType(r4.index, e4, r4), a3 = P2.getAdaptationForType(n4.index, e4, n4);
              return i3 && a3 ? !(!he2(a3) && he2(i3)) : !i3 && !a3;
            }
            function he2(e4) {
              return !!e4 && !!(e4.ContentProtection || e4.Representation_asArray && e4.Representation_asArray.length > 0 && e4.Representation_asArray[0].ContentProtection);
            }
            function pe2(e4, t4) {
              var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
              if (!e4 || !e4.hasOwnProperty("getStreamInfo"))
                return false;
              var r4 = e4.getStreamInfo(), i3 = n4 ? n4.getStreamInfo() : te2();
              if (!r4 || !i3)
                return false;
              var a3 = P2.getAdaptationForType(r4.index, t4, r4), o2 = P2.getAdaptationForType(i3.index, t4, i3);
              if (!a3 || !o2)
                return !a3 && !o2;
              var s4 = a3 && o2 && a3.mimeType === o2.mimeType, u2 = o2.Representation_asArray.map(function(e5) {
                return e5.codecs;
              }), l2 = a3.Representation_asArray.map(function(e5) {
                return e5.codecs;
              }), c3 = l2.some(function(e5) {
                return u2.indexOf(e5) > -1;
              }), f2 = l2.some(function(e5) {
                return u2.some(function(t5) {
                  return F2.codecRootCompatibleWithCodec(t5, e5);
                });
              });
              return c3 || f2 && s4;
            }
            function me2(e4) {
              v2 = e4;
            }
            function ye2() {
              return v2;
            }
            return t3 = { initialize: function() {
              R2.on(l.Z.BUFFERING_COMPLETED, se2, t3), R2.on(l.Z.DATA_UPDATE_COMPLETED, ue2, t3), R2.on(l.Z.INBAND_EVENTS, le2, t3), G2 && (R2.on(l.Z.KEY_ERROR, re2, t3), R2.on(l.Z.SERVER_CERTIFICATE_UPDATED, re2, t3), R2.on(l.Z.LICENSE_REQUEST_COMPLETE, re2, t3), R2.on(l.Z.KEY_SYSTEM_SELECTED, re2, t3), R2.on(l.Z.KEY_SESSION_CREATED, re2, t3), R2.on(l.Z.KEY_STATUSES_CHANGED, re2, t3)), q2.initializeForStream(j2), R2.trigger(l.Z.STREAM_UPDATED, { streamInfo: j2 });
            }, getStreamId: function() {
              return j2 ? j2.id : null;
            }, activate: function(e4, t4) {
              return new Promise(function(n4, r4) {
                if (!s3)
                  return ye2() ? (s3 = true, R2.trigger(l.Z.STREAM_ACTIVATED, { streamInfo: j2 }), void n4(t4)) : void function(e5, t5) {
                    return V2(e5, t5);
                  }(e4, t4).then(function(e5) {
                    s3 = true, R2.trigger(l.Z.STREAM_ACTIVATED, { streamInfo: j2 }), n4(e5);
                  }).catch(function(e5) {
                    r4(e5);
                  });
                n4(t4);
              });
            }, deactivate: W2, getIsActive: function() {
              return s3;
            }, getDuration: function() {
              return j2 ? j2.duration : NaN;
            }, getStartTime: $2, getId: ee2, getStreamInfo: te2, getHasAudioTrack: function() {
              return g2;
            }, getHasVideoTrack: function() {
              return d2;
            }, startPreloading: function(e4, t4) {
              return new Promise(function(i3, a3) {
                ye2() ? a3() : (n3.info("[startPreloading] Preloading next stream with id ".concat(ee2())), me2(true), V2(e4, t4).then(function() {
                  for (var e5 = 0; e5 < r3.length && r3[e5]; e5++)
                    r3[e5].setExplicitBufferingTime($2()), r3[e5].getScheduleController().startScheduleTimer();
                  i3();
                }).catch(function() {
                  me2(false), a3();
                }));
              });
            }, initializeForTextWithMediaSource: function(e4) {
              return new Promise(function(t4, n4) {
                K2(a2.Z.TEXT, e4).then(function() {
                  return (e5 = fe2(a2.Z.TEXT)) ? e5.createBufferSinks() : Promise.resolve();
                  var e5;
                }).then(function() {
                  q2.createTracks(j2), t4();
                }).catch(function(e5) {
                  n4(e5);
                });
              });
            }, getThumbnailController: function() {
              return y2;
            }, getBitrateListFor: function(e4) {
              if (ne2(), e4 === a2.Z.IMAGE)
                return y2 ? y2.getBitrateList() : [];
              var t4 = function(e5) {
                for (var t5 = null, n4 = 0; n4 < r3.length; n4++)
                  if ((t5 = r3[n4]).getType() === e5)
                    return t5.getMediaInfo();
                return null;
              }(e4);
              return k2.getBitrateList(t4);
            }, updateData: function(e4) {
              return new Promise(function(t4) {
                p2 = true, j2 = e4, Z2 && ie2();
                for (var n4 = [], i3 = 0, a3 = r3.length; i3 < a3; i3++) {
                  var o2 = r3[i3], s4 = o2.getMediaInfo();
                  n4.push(o2.updateStreamInfo(j2));
                  var u2 = P2.getAllMediaInfoForType(j2, o2.getType());
                  if (u2 = u2.filter(function(e5) {
                    return !e5.isEmbedded;
                  })) {
                    o2.clearMediaInfoArray();
                    for (var c3 = 0; c3 < u2.length; c3++) {
                      var f2 = u2[c3];
                      o2.addMediaInfo(u2[c3]), P2.areMediaInfosEqual(s4, f2) && (k2.updateTopQualityIndex(f2), n4.push(o2.selectMediaInfo(f2)));
                    }
                  }
                }
                Promise.all(n4).then(function() {
                  for (n4 = []; A2.length > 0; ) {
                    var e5 = A2.pop(), t5 = e5.newMediaInfo, r4 = ce2(e5.oldMediaInfo);
                    if (!r4)
                      return;
                    n4.push(r4.prepareTrackSwitch()), n4.push(r4.selectMediaInfo(t5));
                  }
                  return Promise.all(n4);
                }).then(function() {
                  p2 = false, oe2(), R2.trigger(l.Z.STREAM_UPDATED, { streamInfo: j2 }), t4();
                });
              });
            }, reset: function(e4) {
              m2 && (m2.reset(), m2 = null), k2 && j2 && k2.clearDataForStream(j2.id), E2 && (E2.reset(), E2 = null), X2(e4), j2 = null, R2.off(l.Z.DATA_UPDATE_COMPLETED, ue2, t3), R2.off(l.Z.BUFFERING_COMPLETED, se2, t3), R2.off(l.Z.INBAND_EVENTS, le2, t3), G2 && (R2.off(l.Z.KEY_ERROR, re2, t3), R2.off(l.Z.SERVER_CERTIFICATE_UPDATED, re2, t3), R2.off(l.Z.LICENSE_REQUEST_COMPLETE, re2, t3), R2.off(l.Z.KEY_SYSTEM_SELECTED, re2, t3), R2.off(l.Z.KEY_SESSION_CREATED, re2, t3), R2.off(l.Z.KEY_STATUSES_CHANGED, re2, t3));
            }, getProcessors: de2, setMediaSource: function(e4) {
              return new Promise(function(t4, i3) {
                for (var a3 = [], o2 = 0; o2 < r3.length; )
                  z2(r3[o2].getMediaInfo()) ? (a3.push(r3[o2].setMediaSource(e4)), o2++) : (r3[o2].reset(), r3.splice(o2, 1));
                Promise.all(a3).then(function() {
                  for (var e5 = 0; e5 < r3.length; e5++)
                    r3[e5].dischargePreBuffer();
                  if (0 === r3.length) {
                    var i4 = "No streams to play.";
                    x2.error(new S.Z(w.MANIFEST_ERROR_ID_NOSTREAMS_CODE, i4 + "nostreams", C2.getValue())), n3.fatal(i4);
                  }
                  t4();
                }).catch(function(e5) {
                  n3.error(e5), i3(e5);
                });
              });
            }, isMediaCodecCompatible: function(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
              return pe2(e4, a2.Z.VIDEO, t4) && pe2(e4, a2.Z.AUDIO, t4);
            }, isProtectionCompatible: function(e4) {
              return !e4 || ge2(a2.Z.VIDEO, e4) && ge2(a2.Z.AUDIO, e4);
            }, getPreloaded: ye2, getIsEndedEventSignaled: function() {
              return b2;
            }, setIsEndedEventSignaled: J2, getAdapter: function() {
              return P2;
            }, getHasFinishedBuffering: function() {
              return c2;
            }, setPreloaded: me2, startScheduleControllers: function() {
              for (var e4 = r3.length, t4 = 0; t4 < e4 && r3[t4]; t4++)
                r3[t4].getScheduleController().startScheduleTimer();
            }, prepareTrackChange: function(e4) {
              if (s3 && j2) {
                c2 = false;
                var t4 = e4.newMediaInfo, r4 = C2.getValue();
                P2.setCurrentMediaInfo(j2.id, t4.type, t4);
                var i3 = ce2(t4);
                if (i3) {
                  var o2 = U2.getTime();
                  n3.info("Stream -  Process track changed at current time " + o2), r4.refreshManifestOnSwitchTrack ? (A2.push(e4), M2.getIsUpdating() || (n3.debug("Stream -  Refreshing manifest for switch track"), M2.refreshManifest())) : i3.selectMediaInfo(t4).then(function() {
                    t4.type !== a2.Z.VIDEO && t4.type !== a2.Z.AUDIO || k2.updateTopQualityIndex(t4), i3.prepareTrackSwitch();
                  });
                }
              }
            }, prepareQualityChange: function(e4) {
              var t4 = fe2(e4.mediaType);
              t4 && t4.prepareQualityChange(e4);
            } }, function() {
              try {
                T2 = (0, f.Z)(I2).getInstance(), n3 = T2.getLogger(t3), X2(), _2 = (0, Ut.Z)(I2).getInstance(), E2 = Bt(I2).create({ updateEventName: l.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED, addBlacklistEventName: l.Z.SEGMENT_LOCATION_BLACKLIST_ADD }), m2 = Pt(I2).create({ streamInfo: j2, mediaPlayerModel: D2, dashMetrics: O2, errHandler: x2, settings: H2, boxParser: _2, dashConstants: o.Z, urlUtils: N2 });
              } catch (e4) {
                throw e4;
              }
            }(), t3;
          }
          qt.__dashjs_factory_name = "Stream";
          var Yt = c.Z.getClassFactory(qt), jt = function e3(t3) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.url = t3 || null, this.type = C.w.CONTENT_STEERING_TYPE, this.responseType = "json";
          }, Ht = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.version = null, this.ttl = 300, this.reloadUri = null, this.pathwayPriority = [], this.pathwayClones = [];
          };
          function Vt() {
            var e3, t3, n3, r3, i2, a3, s3, u2, l2, c2, g2, h2, p2, m2, y2, E2 = this.context, v2 = (0, Q.Z)(E2).getInstance();
            function _2(e4) {
              I2(e4, "baseUrl");
            }
            function T2(e4) {
              I2(e4, "location");
            }
            function S2(e4) {
              if (e4 && e4.request && e4.request.serviceLocation && e4.request.requestStartDate && e4.request.requestEndDate && !isNaN(e4.request.bytesTotal)) {
                var t4 = e4.request.serviceLocation, n4 = e4.request.requestEndDate.getTime() - e4.request.requestStartDate.getTime();
                A2(t4, parseInt(8 * e4.request.bytesTotal / n4 * 1e3));
              }
            }
            function b2(e4) {
              e4 && e4.httpRequest && e4.httpRequest._serviceLocation && !isNaN(e4.throughput) && A2(e4.httpRequest._serviceLocation, 1e3 * e4.throughput);
            }
            function A2(e4, t4) {
              i2[e4] || (i2[e4] = []), i2[e4].push(t4), i2[e4].length > 4 && i2[e4].shift();
            }
            function I2(e4, t4) {
              if (e4 && e4.request && e4.request.serviceLocation) {
                var n4 = e4.request.serviceLocation;
                -1 === r3[t4].all.indexOf(n4) && r3[t4].all.push(n4), r3[t4].current = n4;
              }
            }
            function R2() {
              var e4 = g2.getValue(), t4 = y2.getContentSteering(e4);
              return t4 || (t4 = p2.getServiceDescriptionSettings().contentSteering), t4;
            }
            function N2() {
              return new Promise(function(e4) {
                try {
                  var a4 = R2();
                  if (!a4 || !a4.serverUrl)
                    return void e4();
                  var u3 = function(e5) {
                    var t4 = e5.serverUrl;
                    n3 && n3.reloadUri && (t4 = v2.isRelative(n3.reloadUri) ? v2.resolve(n3.reloadUri, e5.serverUrl) : n3.reloadUri);
                    var a5 = [], o2 = r3.baseUrl.all.concat(r3.location.all);
                    if (o2.length > 0) {
                      var s4 = o2.map(function(e6) {
                        var t5 = function(e7) {
                          if (!e7 || !i2[e7] || 0 === i2[e7].length)
                            return -1;
                          var t6 = i2[e7].reduce(function(e8, t7) {
                            return e8 + t7;
                          }) / i2[e7].length;
                          return parseInt(t6);
                        }(e6);
                        return { serviceLocation: e6, throughput: t5 };
                      });
                      s4.sort(function(e6, t5) {
                        return t5.throughput - e6.throughput;
                      });
                      var u4 = "", l4 = "";
                      s4.forEach(function(e6, t5) {
                        0 !== t5 && (u4 = "".concat(u4, ","), e6.throughput > -1 && (l4 = "".concat(l4, ","))), u4 = "".concat(u4).concat(e6.serviceLocation), e6.throughput > -1 && (l4 = "".concat(l4).concat(e6.throughput));
                      }), a5.push({ key: "_DASH_pathway", value: '"'.concat(u4, '"') }), a5.push({ key: "_DASH_throughput", value: l4 });
                    }
                    return t4 = Ye.Z.addAditionalQueryParameterToUrl(t4, a5);
                  }(a4), l3 = new jt(u3);
                  s3.load({ request: l3, success: function(t4) {
                    !function(e5) {
                      e5 && e5[o.Z.CONTENT_STEERING_RESPONSE.VERSION] && 1 === parseInt(e5[o.Z.CONTENT_STEERING_RESPONSE.VERSION]) && ((n3 = new Ht()).version = e5[o.Z.CONTENT_STEERING_RESPONSE.VERSION], e5[o.Z.CONTENT_STEERING_RESPONSE.TTL] && !isNaN(e5[o.Z.CONTENT_STEERING_RESPONSE.TTL]) && (n3.ttl = e5[o.Z.CONTENT_STEERING_RESPONSE.TTL]), e5[o.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI] && (n3.reloadUri = e5[o.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]), e5[o.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY] && (n3.pathwayPriority = e5[o.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]), e5[o.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES] && (n3.pathwayClones = e5[o.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES], n3.pathwayClones = n3.pathwayClones.filter(function(e6) {
                        return function(e7) {
                          return e7[o.Z.CONTENT_STEERING_RESPONSE.BASE_ID] && e7[o.Z.CONTENT_STEERING_RESPONSE.ID] && e7[o.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT] && e7[o.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][o.Z.CONTENT_STEERING_RESPONSE.HOST];
                        }(e6);
                      })), O2());
                    }(t4), m2.trigger(d.Z.CONTENT_STEERING_REQUEST_COMPLETED, { currentSteeringResponseData: n3, url: u3 }), e4();
                  }, error: function(r4, i3, a5, o2) {
                    !function(e5, r5) {
                      try {
                        switch (t3.warn("Error fetching data from content steering server", e5), r5.status) {
                          case 410:
                            break;
                          case 429:
                            var i4 = r5 && r5.getResponseHeader ? r5.getResponseHeader("retry-after") : null;
                            null !== i4 && (n3 || (n3 = {}), n3.ttl = parseInt(i4)), O2();
                            break;
                          default:
                            O2();
                        }
                      } catch (e6) {
                        t3.error(e6);
                      }
                    }(r4, o2), e4(r4);
                  }, complete: function() {
                    r3.baseUrl.all = C2(r3.baseUrl), r3.location.all = C2(r3.location);
                  } });
                } catch (t4) {
                  e4(t4);
                }
              });
            }
            function C2(e4) {
              return e4.all && 0 !== e4.all.length && e4.current ? e4.all.filter(function(t4) {
                return t4 === e4.current;
              }) : [];
            }
            function D2(e4) {
              try {
                var r4 = [];
                return e4 && 0 !== e4.length && n3 && n3.pathwayClones && 0 !== n3.pathwayClones.length ? (n3.pathwayClones.forEach(function(t4) {
                  var n4 = e4.filter(function(e5) {
                    return t4[o.Z.CONTENT_STEERING_RESPONSE.BASE_ID] === e5.serviceLocation;
                  }), i3 = null;
                  if (n4 && n4.length > 0 && (i3 = n4[0]), i3) {
                    var a4 = new URL(i3.url), s4 = t4[o.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][o.Z.CONTENT_STEERING_RESPONSE.HOST];
                    s4 = Ye.Z.stringHasProtocol(s4) ? s4 : "".concat(a4.protocol, "//").concat(s4);
                    var u3 = { synthesizedUrl: "".concat(s4).concat(a4.pathname), serviceLocation: t4[o.Z.CONTENT_STEERING_RESPONSE.ID], queryParams: t4[o.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][o.Z.CONTENT_STEERING_RESPONSE.PARAMS], reference: i3 };
                    r4.push(u3);
                  }
                }), r4) : r4;
              } catch (e5) {
                return t3.error(e5), [];
              }
            }
            function O2() {
              n3 && n3.ttl && !isNaN(n3.ttl) && (a3 && clearTimeout(a3), a3 = setTimeout(function() {
                N2();
              }, 1e3 * n3.ttl));
            }
            function M2() {
              a3 && clearTimeout(a3), a3 = null;
            }
            function P2() {
              n3 = null, i2 = {}, r3 = { baseUrl: { current: null, all: [] }, location: { current: null, all: [] } }, M2();
            }
            return e3 = { reset: function() {
              P2(), m2.off(d.Z.FRAGMENT_LOADING_STARTED, _2, e3), m2.off(d.Z.MANIFEST_LOADING_STARTED, T2, e3), m2.off(d.Z.MANIFEST_LOADING_FINISHED, S2, e3), m2.off(d.Z.THROUGHPUT_MEASUREMENT_STORED, b2, e3);
            }, setConfig: function(e4) {
              e4 && (e4.adapter && (y2 = e4.adapter), e4.errHandler && (u2 = e4.errHandler), e4.dashMetrics && (l2 = e4.dashMetrics), e4.mediaPlayerModel && (c2 = e4.mediaPlayerModel), e4.requestModifier && (h2 = e4.requestModifier), e4.manifestModel && (g2 = e4.manifestModel), e4.serviceDescriptionController && (p2 = e4.serviceDescriptionController), e4.eventBus && (m2 = e4.eventBus));
            }, loadSteeringData: N2, getCurrentSteeringResponseData: function() {
              return n3;
            }, shouldQueryBeforeStart: function() {
              var e4 = R2();
              return !!e4 && e4.queryBeforeStart;
            }, getSteeringDataFromManifest: R2, stopSteeringRequestTimer: M2, getSynthesizedBaseUrlElements: function(e4) {
              try {
                return D2(e4).map(function(e5) {
                  var t4 = new Se(e5.synthesizedUrl, e5.serviceLocation);
                  return t4.queryParams = e5.queryParams, t4.dvbPriority = e5.reference.dvbPriority, t4.dvbWeight = e5.reference.dvbWeight, t4.availabilityTimeOffset = e5.reference.availabilityTimeOffset, t4.availabilityTimeComplete = e5.reference.availabilityTimeComplete, t4;
                });
              } catch (e5) {
                return t3.error(e5), [];
              }
            }, getSynthesizedLocationElements: function(e4) {
              try {
                return D2(e4).map(function(e5) {
                  var t4 = new Pe(e5.synthesizedUrl, e5.serviceLocation);
                  return t4.queryParams = e5.queryParams, t4;
                });
              } catch (e5) {
                return t3.error(e5), [];
              }
            }, initialize: function() {
              s3 = St(E2).create({ errHandler: u2, dashMetrics: l2, mediaPlayerModel: c2, requestModifier: h2, errors: w }), m2.on(d.Z.FRAGMENT_LOADING_STARTED, _2, e3), m2.on(d.Z.MANIFEST_LOADING_STARTED, T2, e3), m2.on(d.Z.MANIFEST_LOADING_FINISHED, S2, e3), m2.on(d.Z.THROUGHPUT_MEASUREMENT_STORED, b2, e3);
            } }, t3 = (0, f.Z)(E2).getInstance().getLogger(e3), P2(), e3;
          }
          Vt.__dashjs_factory_name = "ContentSteeringController";
          var Kt = c.Z.getSingletonFactory(Vt);
          function zt() {
            var e3, t3, n3, r3 = this.context, i2 = (0, N.Z)(r3).getInstance();
            return e3 = { select: function(e4) {
              if (!e4 || 0 === e4.length)
                return null;
              var r4 = null;
              return i2.get().streaming.applyContentSteering && (r4 = function(e5) {
                var r5 = n3.getCurrentSteeringResponseData();
                return r5 && r5.pathwayPriority && r5.pathwayPriority.length > 0 ? function() {
                  for (var e6 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], r6 = 0, i3 = null, a3 = function() {
                    var a4 = e6[r6], o2 = n4.findIndex(function(e7) {
                      return e7.serviceLocation && e7.serviceLocation === a4;
                    });
                    if (-1 !== o2 && !t3.contains(n4[o2].serviceLocation))
                      return i3 = n4[o2], "break";
                    r6 += 1;
                  }; r6 < e6.length && "break" !== a3(); )
                    ;
                  return i3;
                }(r5.pathwayPriority, e5) : null;
              }(e4)), r4 || (r4 = function(e5) {
                return e5[0];
              }(e4)), r4;
            }, setConfig: function(e4) {
              e4.blacklistController && (t3 = e4.blacklistController), e4.contentSteeringController && (n3 = e4.contentSteeringController);
            }, reset: function() {
              t3.reset();
            } }, t3 = Bt(r3).create({ updateEventName: l.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED, addBlacklistEventName: l.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD }), n3 = Kt(r3).getInstance(), e3;
          }
          zt.__dashjs_factory_name = "LocationSelector";
          var Wt = c.Z.getClassFactory(zt);
          function Xt() {
            var e3, t3, n3, r3, i2, a3, s3, c2, g2, h2, p2, m2, y2, E2, v2 = this.context, _2 = (0, u.Z)(v2).getInstance(), T2 = (0, Q.Z)(v2).getInstance();
            function S2() {
              n3 = NaN, s3 = false, i2 = true, a3 = false, b2();
            }
            function b2() {
              null !== r3 && (clearTimeout(r3), r3 = null);
            }
            function A2(e4) {
              b2(), a3 || (isNaN(e4) && !isNaN(n3) && (e4 = 1e3 * n3), isNaN(e4) || (t3.debug("Refresh manifest in " + e4 + " milliseconds."), r3 = setTimeout(C2, e4)));
            }
            function I2() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
              s3 = true;
              var t4 = g2.getValue(), n4 = t4.url, r4 = null, i3 = p2.getPatchLocation(t4), a4 = h2.select(i3), o2 = null;
              if (a4 && !e4)
                n4 = a4.url, r4 = a4.serviceLocation, o2 = a4.queryParams;
              else {
                var u2 = R2(t4), l2 = h2.select(u2);
                l2 && (n4 = l2.url, r4 = l2.serviceLocation, o2 = l2.queryParams);
              }
              T2.isRelative(n4) && (n4 = T2.resolve(n4, t4.url)), c2.load(n4, r4, o2);
            }
            function R2(e4) {
              var t4 = p2.getLocation(e4), n4 = y2.getSynthesizedLocationElements(t4);
              return t4.concat(n4);
            }
            function N2(e4) {
              if (e4) {
                if (p2.getIsPatch(e4)) {
                  var r4 = e4;
                  e4 = g2.getValue();
                  var u2 = p2.isPatchValid(e4, r4), c3 = u2;
                  if (u2) {
                    var f2 = p2.getPublishTime(e4);
                    c3 = p2.applyPatchToManifest(e4, r4);
                    var d2 = p2.getPublishTime(e4);
                    c3 = f2.getTime() != d2.getTime();
                  }
                  if (!c3)
                    return t3.debug("Patch provided is invalid, performing full manifest refresh"), void I2(true);
                  e4.loadedTime = /* @__PURE__ */ new Date();
                }
              } else
                (e4 = g2.getValue()).loadedTime = /* @__PURE__ */ new Date();
              if (g2.getValue() && g2.getValue().type === o.Z.DYNAMIC && e4.type === o.Z.STATIC)
                return _2.trigger(l.Z.DYNAMIC_TO_STATIC), s3 = false, void (a3 = true);
              g2.setValue(e4);
              var h3 = /* @__PURE__ */ new Date(), m3 = (h3.getTime() - e4.loadedTime.getTime()) / 1e3;
              1e3 * (n3 = p2.getManifestUpdatePeriod(e4, m3)) > 2147483647 && (n3 = 2147483647e-3), _2.trigger(l.Z.MANIFEST_UPDATED, { manifest: e4 }), t3.info("Manifest has been refreshed at " + h3 + "[" + h3.getTime() / 1e3 + "] "), i2 || A2();
            }
            function C2() {
              i2 || (s3 ? A2(E2.get().streaming.manifestUpdateRetryInterval) : I2());
            }
            function D2(e4) {
              e4.error ? e4.error.code === w.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE && m2.error(e4.error) : N2(e4.manifest);
            }
            function O2() {
              i2 = false, A2();
            }
            function M2() {
              (i2 = !E2.get().streaming.scheduling.scheduleWhilePaused) && b2();
            }
            function P2() {
              s3 = false;
            }
            return e3 = { initialize: function() {
              S2(), _2.on(l.Z.STREAMS_COMPOSED, P2, this), _2.on(d.Z.PLAYBACK_STARTED, O2, this), _2.on(d.Z.PLAYBACK_PAUSED, M2, this), _2.on(l.Z.INTERNAL_MANIFEST_LOADED, D2, this);
            }, setManifest: function(e4) {
              N2(e4);
            }, refreshManifest: I2, getIsUpdating: function() {
              return s3;
            }, setConfig: function(e4) {
              e4 && (e4.manifestModel && (g2 = e4.manifestModel), e4.adapter && (p2 = e4.adapter), e4.manifestLoader && (c2 = e4.manifestLoader), e4.errHandler && (m2 = e4.errHandler), e4.locationSelector && (h2 = e4.locationSelector), e4.settings && (E2 = e4.settings), e4.contentSteeringController && (y2 = e4.contentSteeringController));
            }, reset: function() {
              _2.off(d.Z.PLAYBACK_STARTED, O2, this), _2.off(d.Z.PLAYBACK_PAUSED, M2, this), _2.off(l.Z.STREAMS_COMPOSED, P2, this), _2.off(l.Z.INTERNAL_MANIFEST_LOADED, D2, this), S2();
            } }, t3 = (0, f.Z)(v2).getInstance().getLogger(e3), h2 = Wt(v2).create(), e3;
          }
          Xt.__dashjs_factory_name = "ManifestUpdater";
          var Qt = c.Z.getClassFactory(Xt);
          function Jt() {
            var e3, t3, n3, r3, i2, a3, o2, s3, c2, d2, g2, h2, p2, m2, y2, E2, v2 = this.context, _2 = (0, u.Z)(v2).getInstance(), T2 = (0, Q.Z)(v2).getInstance();
            function b2() {
              s3 = [], c2 = [], d2 = null, g2 = null, p2 = null, h2 = NaN, n3 = false, r3 = false, m2 = i2.get().streaming.utcSynchronization.timeBetweenSyncAttempts;
            }
            function A2() {
              i2.get().streaming.utcSynchronization.enabled && !n3 && !r3 && p2 && p2.value && p2.schemeIdUri && !isNaN(h2) && !isNaN(i2.get().streaming.utcSynchronization.backgroundAttempts) && (g2 && (Date.now() - g2) / 1e3 < 30 || (s3 = [], r3 = true, I2(isNaN(i2.get().streaming.utcSynchronization.backgroundAttempts) ? 2 : i2.get().streaming.utcSynchronization.backgroundAttempts)));
            }
            function I2(e4) {
              try {
                if (e4 <= 0)
                  return void B2();
                var t4 = Date.now();
                a3[p2.schemeIdUri](p2.value, function(n4) {
                  var r4 = Date.now(), i3 = N2(t4, r4, n4);
                  s3.push(i3), I2(e4 - 1);
                }, function() {
                  B2();
                });
              } catch (e5) {
                B2();
              }
            }
            function R2() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t4 = e4 || 0;
              if (!c2 || 0 === c2.length || t4 >= c2.length)
                D2();
              else {
                var n4 = c2[t4];
                if (n4)
                  if (a3.hasOwnProperty(n4.schemeIdUri)) {
                    var r4 = (/* @__PURE__ */ new Date()).getTime();
                    a3[n4.schemeIdUri](n4.value, function(e5) {
                      var t5 = (/* @__PURE__ */ new Date()).getTime(), i3 = N2(r4, t5, e5);
                      p2 = n4, D2(i3);
                    }, function() {
                      R2(t4 + 1);
                    });
                  } else
                    R2(t4 + 1);
                else
                  D2();
              }
            }
            function N2(e4, t4, n4) {
              return n4 - (t4 - (t4 - e4) / 2);
            }
            function D2() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : NaN, t4 = isNaN(e4);
              t4 && i2.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource ? U2() : Z2(t4, e4);
            }
            function O2(e4) {
              var t4 = Date.parse(e4);
              return isNaN(t4) && (t4 = function(e5) {
                var t5, n4, r4 = /^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e5);
                return t5 = Date.UTC(parseInt(r4[1], 10), parseInt(r4[2], 10) - 1, parseInt(r4[3], 10), parseInt(r4[4], 10), parseInt(r4[5], 10), r4[6] && (parseInt(r4[6], 10) || 0), r4[7] && 1e3 * parseFloat(r4[7]) || 0), r4[9] && r4[10] && (n4 = 60 * parseInt(r4[9], 10) + parseInt(r4[10], 10), t5 += ("+" === r4[8] ? -1 : 1) * n4 * 60 * 1e3), new Date(t5).getTime();
              }(e4)), t4;
            }
            function M2(e4) {
              return Date.parse(e4);
            }
            function P2(e4) {
              return Date.parse(e4);
            }
            function L2(e4, t4, n4) {
              n4();
            }
            function F2(e4, t4, n4) {
              var r4 = O2(e4);
              isNaN(r4) ? n4() : t4(r4);
            }
            function x2(e4, t4, n4, r4, i3) {
              var a4, o3, s4 = false, u2 = new XMLHttpRequest(), l2 = i3 ? C.w.HEAD : C.w.GET, c3 = t4.match(/\S+/g);
              if (t4 = c3.shift(), a4 = function() {
                s4 || (s4 = true, c3.length ? x2(e4, c3.join(" "), n4, r4, i3) : r4());
              }, o3 = function() {
                var t5, r5;
                200 === u2.status && (t5 = i3 ? u2.getResponseHeader("Date") : u2.response, r5 = e4(t5), isNaN(r5) || (n4(r5), s4 = true));
              }, T2.isRelative(t4)) {
                var f2 = E2.resolve();
                f2 && (t4 = T2.resolve(t4, f2.url));
              }
              u2.open(l2, t4), u2.timeout = 5e3, u2.onload = o3, u2.onloadend = a4, u2.send();
            }
            function k2(e4, t4, n4) {
              x2(P2, e4, t4, n4, true);
            }
            function U2() {
              var e4 = o2.getLatestMPDRequestHeaderValueByID("Date"), t4 = null !== e4 ? new Date(e4).getTime() : Number.NaN;
              isNaN(t4) ? Z2(true) : Z2(false, t4 - Date.now());
            }
            function Z2(e4, r4) {
              if (isNaN(h2) || isNaN(r4) || e4 || function(e5) {
                try {
                  var n4, r5 = G2(e5), a5 = isNaN(m2) ? 30 : m2, o3 = isNaN(i2.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor) ? 2 : i2.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor, s4 = isNaN(i2.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts) ? 600 : i2.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts, u2 = isNaN(i2.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts) ? 2 : i2.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;
                  r5 ? (n4 = Math.min(a5 * o3, s4), t3.debug("Increasing timeBetweenSyncAttempts to ".concat(n4))) : (n4 = Math.max(a5 / o3, u2), t3.debug("Decreasing timeBetweenSyncAttempts to ".concat(n4))), m2 = n4;
                } catch (e6) {
                }
              }(r4), !e4 && !isNaN(r4)) {
                d2 = Date.now(), n3 = false;
                var a4 = isNaN(h2);
                h2 = r4, a4 && A2(), t3.debug("Completed UTC sync. Setting client - server offset to ".concat(r4));
              }
              e4 && (p2 = null, n3 = false, y2.error(new S.Z(w.TIME_SYNC_FAILED_ERROR_CODE, w.TIME_SYNC_FAILED_ERROR_MESSAGE))), _2.trigger(l.Z.UPDATE_TIME_SYNC_OFFSET, { offset: r4 }), _2.trigger(l.Z.TIME_SYNCHRONIZATION_COMPLETED);
            }
            function B2() {
              if (s3 && 0 !== s3.length) {
                var e4 = s3.reduce(function(e5, t4) {
                  return e5 + t4;
                }, 0) / s3.length;
                G2(e4) ? t3.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted.") : (t3.debug("Completed background UTC sync. Setting client - server offset to ".concat(e4)), h2 = e4, _2.trigger(l.Z.UPDATE_TIME_SYNC_OFFSET, { offset: h2 })), r3 = false, g2 = Date.now();
              }
            }
            function G2(e4) {
              try {
                if (isNaN(h2))
                  return true;
                var t4 = i2.get().streaming.utcSynchronization.maximumAllowedDrift && !isNaN(i2.get().streaming.utcSynchronization.maximumAllowedDrift) ? i2.get().streaming.utcSynchronization.maximumAllowedDrift : 100;
                return e4 >= h2 - t4 && e4 <= h2 + t4;
              } catch (e5) {
                return true;
              }
            }
            return e3 = { initialize: function() {
              b2(), a3 = { "urn:mpeg:dash:utc:http-head:2014": k2, "urn:mpeg:dash:utc:http-xsdate:2014": x2.bind(null, O2), "urn:mpeg:dash:utc:http-iso:2014": x2.bind(null, M2), "urn:mpeg:dash:utc:direct:2014": F2, "urn:mpeg:dash:utc:http-head:2012": k2, "urn:mpeg:dash:utc:http-xsdate:2012": x2.bind(null, O2), "urn:mpeg:dash:utc:http-iso:2012": x2.bind(null, M2), "urn:mpeg:dash:utc:direct:2012": F2, "urn:mpeg:dash:utc:http-ntp:2014": L2, "urn:mpeg:dash:utc:ntp:2014": L2, "urn:mpeg:dash:utc:sntp:2014": L2 };
            }, attemptSync: function(e4, t4) {
              c2 = e4, n3 || (function(e5) {
                try {
                  if (!e5 || !i2.get().streaming.utcSynchronization.enabled)
                    return false;
                  var t5 = isNaN(m2) ? 30 : m2;
                  return !(d2 && t5 && !isNaN(t5)) || (Date.now() - d2) / 1e3 >= t5;
                } catch (e6) {
                  return true;
                }
              }(t4) ? (n3 = true, R2()) : _2.trigger(l.Z.TIME_SYNCHRONIZATION_COMPLETED));
            }, setConfig: function(e4) {
              e4 && (e4.dashMetrics && (o2 = e4.dashMetrics), e4.baseURLController && (E2 = e4.baseURLController), e4.errHandler && (y2 = e4.errHandler), e4.settings && (i2 = e4.settings));
            }, reset: function() {
              b2(), _2.off(l.Z.ATTEMPT_BACKGROUND_SYNC, A2, e3);
            } }, t3 = (0, f.Z)(v2).getInstance().getLogger(e3), _2.on(l.Z.ATTEMPT_BACKGROUND_SYNC, A2, e3), e3;
          }
          Jt.__dashjs_factory_name = "TimeSyncController";
          var $t = c.Z.getSingletonFactory(Jt);
          $t.HTTP_TIMEOUT_MS = 5e3, c.Z.updateSingletonFactory(Jt.__dashjs_factory_name, $t);
          var en = $t;
          function tn() {
            var e3, t3, n3, r3, i2, a3 = this.context, o2 = (0, u.Z)(a3).getInstance();
            return e3 = { attachMediaSource: function(e4) {
              var n4 = window.URL.createObjectURL(t3);
              return e4.setSource(n4), "managedMediaSource" === r3 && (e4.setDisableRemotePlayback(true), t3.addEventListener("startstreaming", function() {
                o2.trigger(d.Z.MANAGED_MEDIA_SOURCE_START_STREAMING);
              }), t3.addEventListener("endstreaming", function() {
                o2.trigger(d.Z.MANAGED_MEDIA_SOURCE_END_STREAMING);
              })), n4;
            }, createMediaSource: function() {
              var e4 = "WebKitMediaSource" in window, n4 = "MediaSource" in window;
              return "ManagedMediaSource" in window ? (t3 = new ManagedMediaSource(), r3 = "managedMediaSource", i2.info("Created ManagedMediaSource")) : n4 ? (t3 = new MediaSource(), r3 = "mediaSource", i2.info("Created MediaSource")) : e4 && (t3 = new WebKitMediaSource(), i2.info("Created WebkitMediaSource")), t3;
            }, detachMediaSource: function(e4) {
              e4.setSource(null);
            }, setConfig: function(e4) {
              e4 && e4.settings && (n3 = e4.settings);
            }, setDuration: function e4(r4) {
              t3 && "open" === t3.readyState && (null === r4 && isNaN(r4) || t3.duration !== r4 && (r4 !== 1 / 0 || n3.get().streaming.buffer.mediaSourceDurationInfinity || (r4 = Math.pow(2, 32)), function(e5) {
                for (var t4 = e5.sourceBuffers, n4 = 0; n4 < t4.length; n4++)
                  if (t4[n4].updating)
                    return true;
                return false;
              }(t3) ? setTimeout(e4.bind(null, r4), 50) : (i2.info("Set MediaSource duration:" + r4), t3.duration = r4)));
            }, setSeekable: function(e4, n4) {
              t3 && "function" == typeof t3.setLiveSeekableRange && "function" == typeof t3.clearLiveSeekableRange && "open" === t3.readyState && e4 >= 0 && e4 < n4 && (t3.clearLiveSeekableRange(), t3.setLiveSeekableRange(e4, n4));
            }, signalEndOfStream: function(e4) {
              if (e4 && "open" === e4.readyState) {
                for (var t4 = e4.sourceBuffers, n4 = 0; n4 < t4.length; n4++) {
                  if (t4[n4].updating)
                    return;
                  if (0 === t4[n4].buffered.length)
                    return;
                }
                i2.info("call to mediaSource endOfStream"), e4.endOfStream();
              }
            } }, i2 = (0, f.Z)(a3).getInstance().getLogger(e3), e3;
          }
          tn.__dashjs_factory_name = "MediaSourceController";
          var nn = c.Z.getSingletonFactory(tn);
          function rn() {
            var e3, t3, n3, r3, i2, a3, o2, s3, l2, c2, g2, h2 = "urn:mpeg:dash:event:2012", p2 = "discarded", m2 = "updated", y2 = "added", E2 = this.context, v2 = (0, u.Z)(E2).getInstance();
            function _2() {
              if (!o2 || !s3)
                throw new Error("setConfig function has to be called previously");
            }
            function T2() {
              g2 = false, n3 = {}, r3 = {}, i2 = null, c2 = false, a3 = Date.now() / 1e3;
            }
            function S2() {
              try {
                if (!c2) {
                  c2 = true;
                  var e4 = s3.getTime(), i3 = e4 - a3;
                  i3 = a3 > 0 ? Math.max(0, i3) : 0, b2(r3, i3, e4), b2(n3, i3, e4), A2(r3), A2(n3), a3 = e4, c2 = false;
                }
              } catch (e5) {
                c2 = false, t3.error(e5);
              }
            }
            function b2(e4, n4, r4) {
              try {
                N2(e4, function(i3) {
                  if (void 0 !== i3) {
                    var a4 = isNaN(i3.duration) ? 0 : i3.duration;
                    i3.calculatedPresentationTime <= r4 && i3.calculatedPresentationTime + n4 + a4 >= r4 ? D2(i3, d.Z.EVENT_MODE_ON_START) : (C2(r4, a4 + n4, i3.calculatedPresentationTime) || function(e5) {
                      try {
                        var n5 = e5.eventStream.period.start + e5.eventStream.period.duration;
                        return e5.calculatedPresentationTime > n5;
                      } catch (e6) {
                        return t3.error(e6), false;
                      }
                    }(i3)) && (t3.debug("Removing event ".concat(i3.id, " from period ").concat(i3.eventStream.period.id, " as it is expired or invalid")), function(e5, n5) {
                      try {
                        var r5 = n5.eventStream.schemeIdUri, i4 = n5.eventStream.period.id, a5 = n5.eventStream.value, o3 = n5.id;
                        e5[i4][r5] = e5[i4][r5].filter(function(e6) {
                          return a5 && e6.eventStream.value && e6.eventStream.value !== a5 || e6.id !== o3;
                        }), 0 === e5[i4][r5].length && delete e5[i4][r5];
                      } catch (e6) {
                        t3.error(e6);
                      }
                    }(e4, i3));
                  }
                });
              } catch (e5) {
                t3.error(e5);
              }
            }
            function A2(e4) {
              try {
                for (var n4 in e4)
                  e4.hasOwnProperty(n4) && 0 === Object.keys(e4[n4]).length && delete e4[n4];
              } catch (e5) {
                t3.error(e5);
              }
            }
            function I2(e4, t4) {
              var n4 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], r4 = e4.eventStream.schemeIdUri, i3 = e4.eventStream.value, a4 = e4.id, o3 = p2;
              t4[r4] || (t4[r4] = []);
              var s4 = t4[r4].findIndex(function(e5) {
                return (!i3 || e5.eventStream.value && e5.eventStream.value === i3) && e5.id === a4;
              });
              if (-1 === s4)
                t4[r4].push(e4), e4.triggeredReceivedEvent = false, e4.triggeredStartEvent = false, o3 = y2;
              else if (n4) {
                var u2 = t4[r4][s4];
                e4.triggeredReceivedEvent = u2.triggeredReceivedEvent, e4.triggeredStartEvent = u2.triggeredStartEvent, t4[r4][s4] = e4, o3 = m2;
              }
              return o3;
            }
            function R2(e4) {
              try {
                if (1 == e4.eventStream.value) {
                  var n4, r4 = e4.calculatedPresentationTime;
                  n4 = 4294967295 == e4.calculatedPresentationTime ? NaN : e4.calculatedPresentationTime + e4.duration, v2.trigger(d.Z.MANIFEST_VALIDITY_CHANGED, { id: e4.id, validUntil: r4, newDuration: n4, newManifestValidAfter: NaN }, { mode: d.Z.EVENT_MODE_ON_START });
                }
              } catch (e5) {
                t3.error(e5);
              }
            }
            function w2(e4) {
              try {
                var n4 = s3.getTime();
                N2(e4, function(e5) {
                  var t4 = e5.eventStream && e5.eventStream.period && !isNaN(e5.eventStream.period.duration) ? e5.eventStream.period.duration : NaN, r4 = e5.eventStream && e5.eventStream.period && !isNaN(e5.eventStream.period.start) ? e5.eventStream.period.start : NaN;
                  if (!isNaN(t4) && !isNaN(r4)) {
                    var i3 = e5.calculatedPresentationTime;
                    Math.abs(i3 - n4) < 300 && D2(e5, d.Z.EVENT_MODE_ON_START);
                  }
                });
              } catch (e5) {
                t3.error(e5);
              }
            }
            function N2(e4, n4) {
              try {
                if (e4)
                  for (var r4 = Object.keys(e4), i3 = 0; i3 < r4.length; i3++)
                    for (var a4 = e4[r4[i3]], o3 = Object.keys(a4), s4 = 0; s4 < o3.length; s4++)
                      a4[o3[s4]].forEach(function(e5) {
                        void 0 !== e5 && n4(e5);
                      });
              } catch (e5) {
                t3.error(e5);
              }
            }
            function C2(e4, n4, r4) {
              try {
                return e4 - n4 > r4;
              } catch (e5) {
                return t3.error(e5), false;
              }
            }
            function D2(e4, n4) {
              try {
                var r4 = s3.getTime(), i3 = e4.id;
                if (n4 === d.Z.EVENT_MODE_ON_RECEIVE && !e4.triggeredReceivedEvent)
                  return t3.debug("Received event ".concat(i3)), e4.triggeredReceivedEvent = true, void v2.trigger(e4.eventStream.schemeIdUri, { event: e4 }, { mode: n4 });
                e4.triggeredStartEvent || (e4.eventStream.schemeIdUri === h2 && 1 == e4.eventStream.value ? 0 === e4.duration && 0 === e4.presentationTimeDelta || (t3.debug("Starting manifest refresh event ".concat(i3, " at ").concat(r4)), function() {
                  try {
                    _2(), o2.refreshManifest();
                  } catch (e5) {
                    t3.error(e5);
                  }
                }()) : "urn:mpeg:dash:event:callback:2015" === e4.eventStream.schemeIdUri && 1 == e4.eventStream.value ? (t3.debug("Starting callback event ".concat(i3, " at ").concat(r4)), function(e5) {
                  try {
                    (0, se.Z)(E2).create({}).load({ method: "get", url: e5, request: { responseType: "arraybuffer" } });
                  } catch (e6) {
                    t3.error(e6);
                  }
                }(e4.messageData)) : (t3.debug("Starting event ".concat(i3, " from period ").concat(e4.eventStream.period.id, " at ").concat(r4)), v2.trigger(e4.eventStream.schemeIdUri, { event: e4 }, { mode: n4 })), e4.triggeredStartEvent = true);
              } catch (e5) {
                t3.error(e5);
              }
            }
            return e3 = { addInlineEvents: function(e4, r4) {
              try {
                if (_2(), n3[r4] || (n3[r4] = {}), e4)
                  for (var i3 = 0; i3 < e4.length; i3++) {
                    var a4 = e4[i3];
                    if (!C2(s3.getTime(), isNaN(a4.duration) ? 0 : a4.duration, a4.calculatedPresentationTime)) {
                      var o3 = I2(a4, n3[r4], true);
                      o3 === y2 ? (t3.debug("Added inline event with id ".concat(a4.id, " from period ").concat(r4)), D2(a4, d.Z.EVENT_MODE_ON_RECEIVE)) : o3 === m2 && t3.debug("Updated inline event with id ".concat(a4.id, " from period ").concat(r4));
                    }
                  }
              } catch (e5) {
                throw e5;
              }
            }, addInbandEvents: function(e4, n4) {
              try {
                _2(), r3[n4] || (r3[n4] = {});
                for (var i3 = 0; i3 < e4.length; i3++) {
                  var a4 = e4[i3];
                  C2(s3.getTime(), isNaN(a4.duration) ? 0 : a4.duration, a4.calculatedPresentationTime) || (I2(a4, r3[n4], false) === y2 ? (a4.eventStream.schemeIdUri === h2 && R2(a4), t3.debug("Added inband event with id ".concat(a4.id, " from period ").concat(n4)), D2(a4, d.Z.EVENT_MODE_ON_RECEIVE)) : t3.debug("Inband event with scheme_id_uri ".concat(a4.eventStream.schemeIdUri, ", value ").concat(a4.eventStream.value, ", period id ").concat(n4, " and event id ").concat(a4.id, " was ignored because it has been added before.")));
                }
                S2();
              } catch (e5) {
                throw e5;
              }
            }, getInbandEvents: function() {
              return r3;
            }, getInlineEvents: function() {
              return n3;
            }, start: function() {
              try {
                _2(), t3.debug("Start Event Controller");
                var e4 = l2.get().streaming.eventControllerRefreshDelay;
                g2 || isNaN(e4) || (g2 = true, i2 = setInterval(S2, e4));
              } catch (e5) {
                throw e5;
              }
            }, setConfig: function(e4) {
              try {
                if (!e4)
                  return;
                e4.manifestUpdater && (o2 = e4.manifestUpdater), e4.playbackController && (s3 = e4.playbackController), e4.settings && (l2 = e4.settings);
              } catch (e5) {
                throw e5;
              }
            }, reset: function() {
              (function() {
                try {
                  null !== i2 && g2 && (clearInterval(i2), i2 = null, g2 = false, function() {
                    try {
                      w2(r3), w2(n3);
                    } catch (e4) {
                      t3.error(e4);
                    }
                  }());
                } catch (e4) {
                  throw e4;
                }
              })(), T2();
            } }, t3 = (0, f.Z)(E2).getInstance().getLogger(e3), T2(), e3;
          }
          rn.__dashjs_factory_name = "EventController";
          var an = c.Z.getSingletonFactory(rn), on = { LEVELS: { SUGGESTION: "Suggestion", WARNING: "Warning", ERROR: "Error" }, EVENTS: { NO_UTC_TIMING_ELEMENT: { key: "NO_UTC_TIMING_ELEMENT", message: "No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/" }, NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE: { key: "NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE", message: 'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"' }, INVALID_DVR_WINDOW: { key: "INVALID_DVR_WINDOW", message: "No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback." } } };
          function sn(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var n3 = 0, r3 = new Array(t3); n3 < t3; n3++)
              r3[n3] = e3[n3];
            return r3;
          }
          function un() {
            var e3, t3, n3, r3, i2, o2, c2, g2, h2, p2, m2, y2, E2, v2, _2, T2, b2, A2, I2, R2, N2, C2, D2, O2, M2, P2, L2, x2, k2, U2, Z2, B2, G2, q2, Y2, j2, H2, V2, K2, z2, W2, X2, Q2, J2, te2, ne2, re2, ie2, ae2 = this.context, oe2 = (0, u.Z)(ae2).getInstance();
            function se2() {
              if (!(o2 && o2.hasOwnProperty("load") && N2 && N2.hasOwnProperty("initialize") && N2.hasOwnProperty("reset") && N2.hasOwnProperty("getClientTimeOffset") && c2 && R2 && h2 && G2))
                throw new Error(a2.Z.MISSING_CONFIG_ERROR);
            }
            function ue2() {
              if (!i2 || !i2.hasOwnProperty("setManifest"))
                throw new Error("initialize function has to be called previously");
            }
            function le2() {
              !function() {
                try {
                  var e4 = g2.getStreamsInfo();
                  if (!D2 && 0 === e4.length)
                    throw new Error("There are no periods in the MPD");
                  D2 && e4.length > 0 && h2.updateManifestUpdateInfo({ currentTime: G2.getTime(), buffered: B2.getBufferRange(), presentationStartTime: e4[0].start, clientTimeOffset: N2.getClientTimeOffset() }), C2.length > 0 && function(e5) {
                    0 !== e5.length ? C2 = C2.filter(function(n5) {
                      var r5 = e5.filter(function(e6) {
                        return e6.id === n5.getId();
                      }).length > 0 || n5.getId() === D2.getId();
                      return r5 || (t3.debug("Removing stream ".concat(n5.getId())), n5.reset(true)), r5;
                    }) : t3.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.");
                  }(e4);
                  for (var n4 = [], r4 = 0, i3 = e4.length; r4 < i3; r4++) {
                    var a3 = e4[r4];
                    n4.push(fe2(a3)), h2.addManifestUpdateStreamInfo(a3);
                  }
                  Promise.all(n4).then(function() {
                    return new Promise(function(t4, n5) {
                      D2 ? t4() : de2(e4, t4, n5);
                    });
                  }).then(function() {
                    oe2.trigger(l.Z.STREAMS_COMPOSED), Me2();
                  }).catch(function(e5) {
                    throw e5;
                  });
                } catch (e5) {
                  R2.error(new S.Z(w.MANIFEST_ERROR_ID_NOSTREAMS_CODE, e5.message + " nostreamscomposed", c2.getValue())), U2 = true, Qe2();
                }
              }();
            }
            function ce2() {
              te2 = true;
            }
            function fe2(e4) {
              var t4 = ze2(e4.id);
              return t4 ? t4.updateData(e4) : (t4 = Yt(ae2).create({ manifestModel: c2, mediaPlayerModel: Y2, dashMetrics: h2, manifestUpdater: i2, adapter: g2, timelineConverter: N2, capabilities: n3, capabilitiesFilter: r3, errHandler: R2, baseURLController: E2, segmentBaseController: v2, textController: M2, abrController: T2, playbackController: G2, eventController: A2, mediaController: b2, protectionController: O2, videoModel: B2, streamInfo: e4, settings: J2 }), C2.push(t4), t4.initialize(), Promise.resolve());
            }
            function de2(e4, n4, r4) {
              try {
                Ae2();
                var i3 = h2.getCurrentDVRInfo().range;
                if (i3.end < i3.start) {
                  ne2 && clearTimeout(ne2);
                  var a3 = Math.min(1e3 * (-1 * (i3.end - i3.start) + 2), 2147483647);
                  return t3.debug("Waiting for ".concat(a3, " ms before playback can start")), oe2.trigger(l.Z.AST_IN_FUTURE, { delay: a3 }), void (ne2 = setTimeout(function() {
                    de2(e4, n4, r4);
                  }, a3));
                }
                J2.get().streaming.applyProducerReferenceTime && q2.calculateProducerReferenceTimeOffsets(e4);
                var o3 = e4[0].manifestInfo;
                if (J2.get().streaming.applyServiceDescription && q2.applyServiceDescription(o3), g2.getIsDynamic()) {
                  var s3 = Be2(e4, o3);
                  G2.computeAndSetLiveDelay(s3, o3);
                }
                (J2.get().streaming.applyContentSteering && y2.shouldQueryBeforeStart() ? y2.loadSteeringData() : Promise.resolve()).then(function() {
                  var e5 = c2.getValue();
                  e5 && E2.update(e5), ge2(), n4();
                }).catch(function(e5) {
                  t3.error(e5), ge2(), n4();
                });
              } catch (e5) {
                r4(e5);
              }
            }
            function ge2() {
              var e4 = function() {
                var e5;
                if (g2.getIsDynamic()) {
                  var n5 = h2.getCurrentDVRInfo();
                  e5 = (n5 && n5.range ? n5.range.end : 0) - G2.getOriginalLiveDelay();
                  var r5 = n5 ? n5.range : null;
                  if (r5) {
                    if (isNaN(re2) && -1 === re2.toString().indexOf("posix:")) {
                      var i3 = ke2(true);
                      isNaN(i3) || (t3.info("Start time from URI parameters: ".concat(i3)), e5 = Math.min(e5, i3));
                    } else {
                      t3.info("Start time provided by the app: ".concat(re2));
                      var a3 = Ue2(true, re2);
                      isNaN(a3) || (e5 = Math.min(e5, a3));
                    }
                    var o3 = J2.get().streaming.timeShiftBuffer.calcFromSegmentTimeline ? 0.1 : 0;
                    e5 = Math.max(e5, r5.start + o3);
                  }
                } else if (e5 = $e2()[0].getStreamInfo().start, isNaN(re2)) {
                  var s3 = ke2(false);
                  isNaN(s3) || (t3.info("Start time from URI parameters: ".concat(s3)), e5 = Math.max(e5, s3));
                } else {
                  t3.info("Start time provided by the app: ".concat(re2));
                  var u2 = Ue2(false, re2);
                  isNaN(u2) || (e5 = Math.max(e5, u2));
                }
                return e5;
              }(), n4 = be2(e4), r4 = null !== n4 ? n4 : C2[0];
              oe2.trigger(l.Z.INITIAL_STREAM_SWITCH, { startTime: e4 }), he2(r4, null, e4), z2 || (z2 = setInterval(function() {
                !x2 && G2.getTimeToStreamEnd() <= 0 && !G2.isSeeking() && oe2.trigger(l.Z.PLAYBACK_ENDED, { isLast: Ke2().isLast });
              }, 200));
            }
            function he2(e4, n4, r4) {
              try {
                if (x2 || !e4 || n4 === e4 && e4.getIsActive())
                  return;
                x2 = true, oe2.trigger(l.Z.PERIOD_SWITCH_STARTED, { fromStreamInfo: n4 ? n4.getStreamInfo() : null, toStreamInfo: e4.getStreamInfo() });
                var i3 = false;
                D2 = e4, n4 && (i3 = Te2(e4, n4), n4.deactivate(i3)), r4 = isNaN(r4) ? !i3 && n4 ? e4.getStreamInfo().start : NaN : r4, t3.info("Switch to stream ".concat(e4.getId(), ". Seektime is ").concat(r4, ", current playback time is ").concat(G2.getTime(), ". Seamless period switch is set to ").concat(i3)), X2 = X2.filter(function(e5) {
                  return e5.getId() !== D2.getId();
                }), G2.initialize(Ke2(), !!n4), B2.getElement() ? pe2(r4, i3, false) : me2(r4, i3);
              } catch (e5) {
                x2 = false;
              }
            }
            function pe2(e4, n4) {
              var r4, i3 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
              function a3() {
                if (Z2 && "open" === Z2.readyState) {
                  t3.debug("MediaSource is open!"), window.URL.revokeObjectURL(r4), Z2.removeEventListener("sourceopen", a3), Z2.removeEventListener("webkitsourceopen", a3), xe2();
                  var o4 = h2.getCurrentDVRInfo();
                  p2.setSeekable(o4.range.start, o4.range.end), i3 ? (isNaN(e4) || G2.seek(e4, true, true), D2.setMediaSource(Z2).then(function() {
                    D2.initializeForTextWithMediaSource(Z2);
                  })) : me2(e4, n4);
                }
              }
              function o3() {
                Z2.addEventListener("sourceopen", a3, false), Z2.addEventListener("webkitsourceopen", a3, false), r4 = p2.attachMediaSource(B2), t3.debug("MediaSource attached to element.  Waiting on open...");
              }
              Z2 ? n4 ? me2(e4, n4) : (p2.detachMediaSource(B2), o3()) : (Z2 = p2.createMediaSource(), o3());
            }
            function me2(e4, t4) {
              D2.activate(Z2, t4 ? W2 : void 0, e4).then(function(t5) {
                if (t5) {
                  var n4 = Object.keys(t5);
                  n4.length > 0 && t5[n4[0]].getBuffer().changeType && (Q2 = true), W2 = t5;
                }
                isNaN(e4) || (oe2.trigger(l.Z.SEEK_TARGET, { time: e4 }, { streamId: D2.getId() }), G2.seek(e4, false, true), D2.startScheduleControllers()), x2 = false, oe2.trigger(l.Z.PERIOD_SWITCH_COMPLETED, { toStreamInfo: Ke2() });
              });
            }
            function ye2(e4) {
              var t4 = be2(e4.seekTime);
              t4 && t4 !== D2 ? t4 && t4 !== D2 && (Ee2(), function(e5, t5) {
                var n4 = e5 && !isNaN(e5.seekTime) ? e5.seekTime : NaN, r4 = D2.getProcessors().map(function(t6) {
                  return t6.prepareOuterPeriodPlaybackSeeking(e5);
                });
                Promise.all(r4).then(function() {
                  he2(t5, D2, n4);
                }).catch(function(e6) {
                  R2.error(e6);
                });
              }(e4, t4)) : (Ee2(), function(e5) {
                D2.getProcessors().forEach(function(t5) {
                  return t5.prepareInnerPeriodPlaybackSeeking(e5);
                }), je2(ee.USER_REQUEST_STOP_REASON);
              }(e4)), He2($.SEEK_START_REASON);
            }
            function Ee2() {
              ve2();
            }
            function ve2() {
              X2 && X2.length > 0 && (X2.forEach(function(e4) {
                e4.deactivate(true);
              }), X2 = []);
            }
            function _e2(e4) {
              if (e4.newMediaInfo.streamInfo.id === D2.getId()) {
                if (ve2(), J2.get().streaming.buffer.resetSourceBuffersForTrackSwitch && e4.oldMediaInfo && e4.oldMediaInfo.codec !== e4.newMediaInfo.codec) {
                  var t4 = G2.getTime();
                  return D2.deactivate(false), void pe2(t4, false, false);
                }
                D2.prepareTrackChange(e4);
              }
            }
            function Te2(e4, t4) {
              try {
                return J2.get().streaming.buffer.reuseExistingSourceBuffers && (t4.isProtectionCompatible(e4) || te2) && (Q2 && J2.get().streaming.buffer.useChangeTypeForTrackSwitch || t4.isMediaCodecCompatible(e4, t4));
              } catch (e5) {
                return false;
              }
            }
            function Se2(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
              if (Z2 && !e4.getPreloaded()) {
                var n4 = Te2(e4, t4);
                n4 && e4.startPreloading(Z2, W2).then(function() {
                  X2.push(e4);
                });
              }
            }
            function be2(e4) {
              if (isNaN(e4))
                return null;
              for (var t4 = C2.length, n4 = 0; n4 < t4; n4++) {
                var r4 = C2[n4];
                if (e4 < parseFloat((r4.getStartTime() + r4.getDuration()).toFixed(5)))
                  return r4;
              }
              return null;
            }
            function Ae2() {
              try {
                var e4 = g2.getIsDynamic(), t4 = g2.getStreamsInfo()[0].manifestInfo, n4 = G2.getTime(), r4 = N2.calcTimeShiftBufferWindow(C2, e4), i3 = Le2();
                if (void 0 === r4.start || void 0 === r4.end)
                  return;
                i3 && 0 !== i3.length ? i3.forEach(function(e5) {
                  h2.addDVRInfo(e5.getType(), n4, t4, r4);
                }) : h2.addDVRInfo(a2.Z.VIDEO, n4, t4, r4);
              } catch (e5) {
              }
            }
            function Ie2(e4) {
              if (V2 && L2) {
                var t4 = Y2.getInitialBufferLevel(), n4 = [a2.Z.TEXT];
                (isNaN(t4) || t4 <= G2.getBufferLevel(n4) || g2.getIsDynamic() && t4 > G2.getLiveDelay()) && (V2 = false, He2($.INITIAL_PLAYOUT_START_REASON), G2.play());
              }
              e4 && e4.mediaType && h2.addBufferLevel(e4.mediaType, /* @__PURE__ */ new Date(), 1e3 * e4.bufferLevel);
            }
            function Re2(e4) {
              e4.streamInfo.id === D2.getId() && e4.reason && e4.reason.forceReplace && ve2(), ze2(e4.streamInfo.id).prepareQualityChange(e4);
            }
            function we2() {
              if (g2.getIsDynamic() && 0 !== G2.getOriginalLiveDelay() && D2) {
                var e4 = g2.getStreamsInfo();
                if (e4.length > 0) {
                  var t4 = e4[0].manifestInfo, n4 = Be2(e4, t4);
                  G2.computeAndSetLiveDelay(n4, t4);
                }
              }
            }
            function Ne2() {
              if (qe2()) {
                var e4 = B2.getPlaybackQuality();
                e4 && h2.addDroppedFrames(e4);
              }
            }
            function Ce2() {
              t3.debug("[onPlaybackStarted]"), !V2 && H2 && He2($.RESUME_FROM_PAUSE_START_REASON), V2 && (V2 = false), K2 && (K2 = false, J2.get().streaming.applyContentSteering && !y2.shouldQueryBeforeStart() && y2.loadSteeringData()), H2 = false;
            }
            function De2(e4) {
              t3.debug("[onPlaybackPaused]"), e4.ended || (H2 = true, je2(ee.USER_REQUEST_STOP_REASON));
            }
            function Oe2(e4) {
              t3.debug("Stream with id ".concat(e4.streamInfo.id, " finished buffering"));
              var n4 = e4.streamInfo.isLast;
              Z2 && n4 ? (t3.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."), p2.signalEndOfStream(Z2)) : Me2();
            }
            function Me2() {
              if (D2 && D2.getHasFinishedBuffering())
                for (var e4 = function() {
                  var e5 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                  try {
                    var t5 = e5 || D2 || null;
                    if (t5) {
                      var n5 = t5.getStreamInfo();
                      return C2.filter(function(e6) {
                        var t6 = e6.getStreamInfo();
                        return t6.start > n5.start && n5.id !== t6.id;
                      });
                    }
                  } catch (e6) {
                    return [];
                  }
                }(D2), t4 = 0; t4 < e4.length; ) {
                  var n4 = e4[t4], r4 = 0 === t4 ? D2 : e4[t4 - 1];
                  !n4.getPreloaded() && r4.getHasFinishedBuffering() && Z2 && Se2(n4, r4), t4 += 1;
                }
            }
            function Pe2() {
              z2 && (clearInterval(z2), z2 = null);
            }
            function Le2() {
              return D2 ? D2.getProcessors() : [];
            }
            function Fe2(e4) {
              if (D2 && !D2.getIsEndedEventSignaled()) {
                D2.setIsEndedEventSignaled(true);
                var n4 = function() {
                  var e5 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t4 = e5 || D2 || null;
                  if (!t4)
                    return null;
                  for (var n5 = t4.getStreamInfo(), r4 = n5.start, i3 = 0, a3 = -1, o3 = NaN; i3 < C2.length; ) {
                    var s3 = C2[i3].getStreamInfo(), u2 = s3.start - r4;
                    u2 > 0 && (isNaN(o3) || u2 < o3) && n5.id !== s3.id && (o3 = u2, a3 = i3), i3 += 1;
                  }
                  return a3 >= 0 ? C2[a3] : null;
                }();
                n4 ? (t3.debug("StreamController onEnded, found next stream with id ".concat(n4.getStreamInfo().id, ". Switching from ").concat(D2.getStreamInfo().id, " to ").concat(n4.getStreamInfo().id)), he2(n4, D2, NaN)) : (t3.debug("StreamController no next stream found"), D2.setIsEndedEventSignaled(false)), je2(n4 ? ee.END_OF_PERIOD_STOP_REASON : ee.END_OF_CONTENT_STOP_REASON);
              }
              e4 && e4.isLast && (Pe2(), y2.stopSteeringRequestTimer());
            }
            function xe2(e4) {
              var t4 = e4 || Ke2().manifestInfo.duration;
              p2.setDuration(t4);
            }
            function ke2(e4) {
              var t4 = _2.getURIFragmentData();
              if (!t4 || !t4.t)
                return NaN;
              var n4 = $e2()[0].getStreamInfo().start;
              return t4.t = t4.t.split(",")[0], Ze2(e4, t4.t, n4);
            }
            function Ue2(e4, t4) {
              var n4 = 0;
              return e4 || (n4 = $e2()[0].getStreamInfo().start), Ze2(e4, t4, n4);
            }
            function Ze2(e4, t4, n4) {
              var r4 = g2.getRegularPeriods()[0], i3 = t4.toString(), a3 = -1 !== i3.indexOf("posix:") ? "now" === i3.substring(6) ? Date.now() / 1e3 : parseFloat(i3.substring(6)) : NaN;
              return e4 && !isNaN(a3) ? N2.calcPresentationTimeFromWallTime(new Date(1e3 * a3), r4) : parseFloat(i3) + n4;
            }
            function Be2(e4, t4) {
              try {
                var n4 = NaN;
                if (t4 && !isNaN(t4.maxFragmentDuration) && isFinite(t4.maxFragmentDuration))
                  return t4.maxFragmentDuration;
                if (e4 && 1 === e4.length) {
                  var r4 = e4[0], i3 = [a2.Z.VIDEO, a2.Z.AUDIO, a2.Z.TEXT].reduce(function(e5, t5) {
                    var n5 = g2.getMediaInfoForType(r4, t5);
                    return n5 && false !== n5.isFragmented && e5.push(n5), e5;
                  }, []).reduce(function(e5, t5) {
                    var n5 = g2.getVoRepresentations(t5);
                    return n5 && n5.length > 0 && n5.forEach(function(t6) {
                      t6 && e5.push(t6);
                    }), e5;
                  }, []).reduce(function(e5, t5) {
                    var n5 = g2.convertRepresentationToRepresentationInfo(t5);
                    return n5 && n5.fragmentDuration && !isNaN(n5.fragmentDuration) && e5.push(n5.fragmentDuration), e5;
                  }, []);
                  n4 = Math.max.apply(Math, function(e5) {
                    if (Array.isArray(e5))
                      return sn(e5);
                  }(o3 = i3) || function(e5) {
                    if ("undefined" != typeof Symbol && Symbol.iterator in Object(e5))
                      return Array.from(e5);
                  }(o3) || function(e5, t5) {
                    if (e5) {
                      if ("string" == typeof e5)
                        return sn(e5, t5);
                      var n5 = Object.prototype.toString.call(e5).slice(8, -1);
                      return "Object" === n5 && e5.constructor && (n5 = e5.constructor.name), "Map" === n5 || "Set" === n5 ? Array.from(e5) : "Arguments" === n5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n5) ? sn(e5, t5) : void 0;
                    }
                  }(o3) || function() {
                    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                  }());
                }
                return isFinite(n4) ? n4 : NaN;
              } catch (e5) {
                return NaN;
              }
              var o3;
            }
            function Ge2(e4) {
              if (e4.error)
                U2 = true, Qe2();
              else {
                t3.info("Manifest updated... updating data system wide.");
                var n4 = e4.manifest;
                g2.updatePeriods(n4);
                var i3 = g2.getUTCTimingSources();
                !g2.getIsDynamic() || i3 && 0 !== i3.length || oe2.trigger(d.Z.CONFORMANCE_VIOLATION, { level: on.LEVELS.WARNING, event: on.EVENTS.NO_UTC_TIMING_ELEMENT });
                var a3 = g2.getIsDynamic() ? i3.concat(j2.getUTCTimingSources()) : i3;
                r3.filterUnsupportedFeatures(n4).then(function() {
                  E2.initialize(n4), m2.attemptSync(a3, g2.getIsDynamic());
                });
              }
            }
            function qe2() {
              return !!D2 && D2.getHasVideoTrack();
            }
            function Ye2() {
              return !!D2 && D2.getHasAudioTrack();
            }
            function je2(e4, t4) {
              t4 = t4 || /* @__PURE__ */ new Date(), Le2().forEach(function(n4) {
                n4.finalisePlayList(t4, e4);
              }), h2.addPlayList();
            }
            function He2(e4) {
              h2.createPlaylistMetrics(1e3 * G2.getTime(), e4);
            }
            function Ve2(e4) {
              if (e4.error) {
                var n4 = "";
                switch (e4.error.code) {
                  case 1:
                    n4 = "MEDIA_ERR_ABORTED";
                    break;
                  case 2:
                    n4 = "MEDIA_ERR_NETWORK";
                    break;
                  case 3:
                    n4 = "MEDIA_ERR_DECODE", ie2.counts.mediaErrorDecode += 1;
                    break;
                  case 4:
                    n4 = "MEDIA_ERR_SRC_NOT_SUPPORTED";
                    break;
                  case 5:
                    n4 = "MEDIA_ERR_ENCRYPTED";
                    break;
                  default:
                    n4 = "UNKNOWN";
                }
                "MEDIA_ERR_DECODE" === n4 && J2.get().errors.recoverAttempts.mediaErrorDecode >= ie2.counts.mediaErrorDecode ? function() {
                  t3.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");
                  var e5 = G2.getTime();
                  D2.deactivate(false), t3.warn("MediaSource has been resetted. Resuming playback from time ".concat(e5)), pe2(e5, false, false);
                }() : (k2 = true, e4.error.message && (n4 += " (" + e4.error.message + ")"), e4.error.msExtendedCode && (n4 += " (0x" + (e4.error.msExtendedCode >>> 0).toString(16).toUpperCase() + ")"), t3.fatal("Video Element Error: " + n4), e4.error && t3.fatal(e4.error), R2.error(new S.Z(e4.error.code, n4)), Qe2());
              }
            }
            function Ke2() {
              return D2 ? D2.getStreamInfo() : null;
            }
            function ze2(e4) {
              for (var t4 = 0, n4 = C2.length; t4 < n4; t4++)
                if (C2[t4].getId() === e4)
                  return C2[t4];
              return null;
            }
            function We2(e4) {
              isNaN(e4.newDuration) || xe2(e4.newDuration);
            }
            function Xe2() {
              C2 = [], re2 = NaN, O2 = null, x2 = false, D2 = null, k2 = false, U2 = false, V2 = true, K2 = true, H2 = false, L2 = true, z2 = null, te2 = false, Q2 = false, X2 = [], ne2 = null, ie2 = { counts: { mediaErrorDecode: 0 } };
            }
            function Qe2() {
              se2(), m2.reset(), je2(k2 || U2 ? ee.FAILURE_STOP_REASON : ee.USER_REQUEST_STOP_REASON);
              for (var t4 = 0, n4 = C2 ? C2.length : 0; t4 < n4; t4++)
                C2[t4].reset(k2);
              oe2.off(d.Z.PLAYBACK_TIME_UPDATED, Ne2, e3), oe2.off(d.Z.PLAYBACK_SEEKING, ye2, e3), oe2.off(d.Z.PLAYBACK_ERROR, Ve2, e3), oe2.off(d.Z.PLAYBACK_STARTED, Ce2, e3), oe2.off(d.Z.PLAYBACK_PAUSED, De2, e3), oe2.off(d.Z.PLAYBACK_ENDED, Fe2, e3), oe2.off(d.Z.METRIC_ADDED, Je2, e3), oe2.off(d.Z.MANIFEST_VALIDITY_CHANGED, We2, e3), oe2.off(d.Z.BUFFER_LEVEL_UPDATED, Ie2, e3), oe2.off(d.Z.QUALITY_CHANGE_REQUESTED, Re2, e3), l.Z.KEY_SESSION_UPDATED && oe2.off(l.Z.KEY_SESSION_UPDATED, ce2, e3), oe2.off(l.Z.MANIFEST_UPDATED, Ge2, e3), oe2.off(l.Z.STREAM_BUFFERING_COMPLETED, Oe2, e3), oe2.off(l.Z.TIME_SYNCHRONIZATION_COMPLETED, le2, e3), oe2.off(l.Z.CURRENT_TRACK_CHANGED, _e2, e3), oe2.off(l.Z.SETTING_UPDATED_LIVE_DELAY, we2, e3), oe2.off(l.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT, we2, e3), E2.reset(), i2.reset(), A2.reset(), h2.clearAllCurrentMetrics(), c2.setValue(null), o2.reset(), N2.reset(), I2.reset(), Z2 && (p2.detachMediaSource(B2), Z2 = null), B2 = null, O2 && (O2 = null, P2 = null, c2.getValue() && oe2.trigger(l.Z.PROTECTION_DESTROYED, { data: c2.getValue().url })), Pe2(), oe2.trigger(l.Z.STREAM_TEARDOWN_COMPLETE), Xe2();
            }
            function Je2(e4) {
              if (e4.metric === s2.Z.DVR_INFO) {
                var t4 = Ye2() ? a2.Z.AUDIO : a2.Z.VIDEO;
                e4.mediaType === t4 && p2.setSeekable(e4.value.range.start, e4.value.range.end);
              }
            }
            function $e2() {
              return C2;
            }
            return e3 = { initialize: function(t4, n4) {
              se2(), L2 = t4, P2 = n4, N2.initialize(), (i2 = Qt(ae2).create()).setConfig({ manifestModel: c2, adapter: g2, manifestLoader: o2, errHandler: R2, settings: J2, contentSteeringController: y2 }), i2.initialize(), (A2 = an(ae2).getInstance()).setConfig({ manifestUpdater: i2, playbackController: G2, settings: J2 }), A2.start(), m2.setConfig({ dashMetrics: h2, baseURLController: E2, errHandler: R2, settings: J2 }), m2.initialize(), p2.setConfig({ settings: J2 }), O2 && (oe2.trigger(l.Z.PROTECTION_CREATED, { controller: O2 }), O2.setMediaElement(B2.getElement()), P2 && O2.setProtectionData(P2)), oe2.on(d.Z.PLAYBACK_TIME_UPDATED, Ne2, e3), oe2.on(d.Z.PLAYBACK_SEEKING, ye2, e3), oe2.on(d.Z.PLAYBACK_ERROR, Ve2, e3), oe2.on(d.Z.PLAYBACK_STARTED, Ce2, e3), oe2.on(d.Z.PLAYBACK_PAUSED, De2, e3), oe2.on(d.Z.PLAYBACK_ENDED, Fe2, e3), oe2.on(d.Z.METRIC_ADDED, Je2, e3), oe2.on(d.Z.MANIFEST_VALIDITY_CHANGED, We2, e3), oe2.on(d.Z.BUFFER_LEVEL_UPDATED, Ie2, e3), oe2.on(d.Z.QUALITY_CHANGE_REQUESTED, Re2, e3), l.Z.KEY_SESSION_UPDATED && oe2.on(l.Z.KEY_SESSION_UPDATED, ce2, e3), oe2.on(l.Z.MANIFEST_UPDATED, Ge2, e3), oe2.on(l.Z.STREAM_BUFFERING_COMPLETED, Oe2, e3), oe2.on(l.Z.TIME_SYNCHRONIZATION_COMPLETED, le2, e3), oe2.on(l.Z.CURRENT_TRACK_CHANGED, _e2, e3), oe2.on(l.Z.SETTING_UPDATED_LIVE_DELAY, we2, e3), oe2.on(l.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT, we2, e3);
            }, getActiveStreamInfo: Ke2, addDVRMetric: Ae2, hasVideoTrack: qe2, hasAudioTrack: Ye2, getStreamById: ze2, getStreamForTime: be2, getTimeRelativeToStreamId: function(e4, t4) {
              for (var n4 = null, r4 = 0, i3 = 0, a3 = null, o3 = 0; o3 < C2.length; o3++) {
                if (i3 = (n4 = C2[o3]).getStartTime(), a3 = n4.getDuration(), Number.isFinite(i3) && (r4 = i3), n4.getId() === t4)
                  return e4 - r4;
                Number.isFinite(a3) && (r4 += a3);
              }
              return null;
            }, load: function(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : NaN;
              se2(), re2 = t4, o2.load(e4);
            }, loadWithManifest: function(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : NaN;
              ue2(), re2 = t4, i2.setManifest(e4);
            }, getActiveStreamProcessors: Le2, setConfig: function(e4) {
              e4 && (e4.capabilities && (n3 = e4.capabilities), e4.capabilitiesFilter && (r3 = e4.capabilitiesFilter), e4.manifestLoader && (o2 = e4.manifestLoader), e4.manifestModel && (c2 = e4.manifestModel), e4.mediaPlayerModel && (Y2 = e4.mediaPlayerModel), e4.customParametersModel && (j2 = e4.customParametersModel), e4.protectionController && (O2 = e4.protectionController), e4.adapter && (g2 = e4.adapter), e4.dashMetrics && (h2 = e4.dashMetrics), e4.errHandler && (R2 = e4.errHandler), e4.timelineConverter && (N2 = e4.timelineConverter), e4.videoModel && (B2 = e4.videoModel), e4.playbackController && (G2 = e4.playbackController), e4.serviceDescriptionController && (q2 = e4.serviceDescriptionController), e4.contentSteeringController && (y2 = e4.contentSteeringController), e4.textController && (M2 = e4.textController), e4.abrController && (T2 = e4.abrController), e4.mediaController && (b2 = e4.mediaController), e4.settings && (J2 = e4.settings), e4.baseURLController && (E2 = e4.baseURLController), e4.uriFragmentModel && (_2 = e4.uriFragmentModel), e4.segmentBaseController && (v2 = e4.segmentBaseController), e4.manifestUpdater && (i2 = e4.manifestUpdater));
            }, setProtectionData: function(e4) {
              P2 = e4, O2 && O2.setProtectionData(P2);
            }, getIsStreamSwitchInProgress: function() {
              return x2;
            }, switchToVideoElement: function(e4) {
              D2 && (G2.initialize(Ke2()), pe2(e4, false, true));
            }, getHasMediaOrInitialisationError: function() {
              return k2 || U2;
            }, getStreams: $e2, getActiveStream: function() {
              return D2;
            }, getInitialPlayback: function() {
              return V2;
            }, getAutoPlay: function() {
              return L2;
            }, refreshManifest: function() {
              i2.getIsUpdating() || i2.refreshManifest();
            }, reset: Qe2 }, t3 = (0, f.Z)(ae2).getInstance().getLogger(e3), m2 = en(ae2).getInstance(), p2 = nn(ae2).getInstance(), I2 = F(ae2).getInstance(), Xe2(), e3;
          }
          un.__dashjs_factory_name = "StreamController";
          var ln = c.Z.getSingletonFactory(un);
          function cn() {
            var e3, t3, n3, r3, i2, o2, s3, c2, d2, g2, h2, p2, m2 = this.context, y2 = (0, u.Z)(m2).getInstance();
            function E2() {
              p2.debug("Stopping the gap controller"), i2 && (clearInterval(i2), i2 = null), function() {
                y2.off(l.Z.WALLCLOCK_TIME_UPDATED, b2, this), y2.off(l.Z.INITIAL_STREAM_SWITCH, S2, this), y2.off(l.Z.PLAYBACK_SEEKING, v2, this), y2.off(l.Z.BUFFER_REPLACEMENT_STARTED, _2, e3), y2.off(l.Z.TRACK_CHANGE_RENDERED, T2, e3);
              }(), i2 = null, o2 = NaN, r3 = 0, g2 = null, h2 = {};
            }
            function v2() {
              g2 && (clearTimeout(g2), g2 = null);
            }
            function _2(e4) {
              try {
                if (e4.streamId !== c2.getActiveStreamInfo().id || e4.mediaType !== a2.Z.VIDEO && e4.mediaType !== a2.Z.AUDIO)
                  return;
                e4.streamId === c2.getActiveStreamInfo().id && (h2[e4.mediaType] = true);
              } catch (e5) {
                p2.error(e5);
              }
            }
            function T2(e4) {
              e4 && e4.mediaType && (h2[e4.mediaType] = false);
            }
            function S2() {
              i2 || function() {
                try {
                  i2 || (p2.debug("Starting the gap controller"), i2 = setInterval(function() {
                    A2() && N2(s3.getTime());
                  }, 100));
                } catch (e4) {
                }
              }();
            }
            function b2() {
              if (A2(n3.get().streaming.gaps.enableSeekFix) && ++r3 >= 10) {
                var e4 = s3.getTime();
                t3 === e4 ? N2(e4, true) : (t3 = e4, o2 = NaN), r3 = 0;
              }
            }
            function A2() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
              if (!c2.getActiveStream())
                return false;
              var t4 = Object.keys(h2).some(function(e5) {
                return h2[e5];
              }), r4 = !!e4 && I2();
              return !t4 && n3.get().streaming.gaps.jumpGaps && c2.getActiveStreamProcessors().length > 0 && (!s3.isSeeking() || r4) && !s3.isPaused() && !c2.getIsStreamSwitchInProgress() && !c2.getHasMediaOrInitialisationError();
            }
            function I2() {
              var e4 = c2.getActiveStream(), t4 = parseFloat((e4.getStartTime() + e4.getDuration()).toFixed(5));
              return s3.getTime() + n3.get().streaming.gaps.threshold >= t4;
            }
            function R2(e4, t4) {
              try {
                if (!e4 || e4.length <= 1 && t4 > 0)
                  return NaN;
                for (var r4 = NaN, i3 = 0; isNaN(r4) && i3 < e4.length; ) {
                  var a3 = i3 > 0 ? e4.end(i3 - 1) : 0;
                  t4 < e4.start(i3) && a3 - t4 < n3.get().streaming.gaps.threshold && (r4 = i3), i3 += 1;
                }
                return r4;
              } catch (e5) {
                return null;
              }
            }
            function w2(e4, t4) {
              for (var n4 = 0, r4 = e4.length; n4 < r4; n4++)
                if (t4 >= e4.start(n4) && t4 <= e4.end(n4))
                  return true;
              return false;
            }
            function N2(e4) {
              var t4, r4 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], i3 = n3.get().streaming.gaps.enableStallFix, a3 = n3.get().streaming.gaps.stallSeek, u2 = n3.get().streaming.gaps.smallGapLimit, l2 = n3.get().streaming.gaps.jumpLargeGaps, f2 = d2.getBufferRange(), h3 = NaN, m3 = false;
              if (t4 = R2(f2, e4), !isNaN(t4)) {
                var y3 = f2.start(t4), E3 = y3 - e4;
                E3 > 0 && (E3 <= u2 || l2) && (h3 = y3);
              }
              var v3 = s3.getTimeToStreamEnd();
              if (isNaN(h3) && r4 && isFinite(v3) && !isNaN(v3) && v3 < u2 && (h3 = parseFloat(s3.getStreamEndTime().toFixed(5)), m3 = true), i3 && isNaN(h3) && r4 && isNaN(t4) && w2(f2, e4) && (0 === a3 ? (p2.warn("Toggle play pause to break stall"), d2.pause(), d2.play()) : (p2.warn("Jumping ".concat(a3, "s to break stall")), h3 = e4 + a3)), h3 > 0 && o2 !== h3 && h3 > e4 && !g2) {
                var _3 = h3 - e4;
                if (m3) {
                  var T3 = c2.getStreamForTime(h3), S3 = T3 && !!T3.getPreloaded();
                  p2.warn("Jumping to end of stream because of gap from ".concat(e4, " to ").concat(h3, ". Gap duration: ").concat(_3)), s3.seek(h3, true, S3);
                } else {
                  var b3 = s3.getIsDynamic(), A3 = t4 > 0 ? f2.end(t4 - 1) : e4, I3 = b3 ? 1e3 * Math.max(0, _3 - 0.1) : 0;
                  g2 = window.setTimeout(function() {
                    s3.seek(h3, true, true), p2.warn("Jumping gap occuring in period ".concat(c2.getActiveStream().getStreamId(), " starting at ").concat(A3, " and ending at ").concat(h3, ". Jumping by: ").concat(h3 - A3)), g2 = null;
                  }, I3);
                }
                o2 = h3;
              }
            }
            return e3 = { reset: E2, setConfig: function(e4) {
              e4 && (e4.settings && (n3 = e4.settings), e4.playbackController && (s3 = e4.playbackController), e4.streamController && (c2 = e4.streamController), e4.videoModel && (d2 = e4.videoModel));
            }, initialize: function() {
              !function() {
                y2.on(l.Z.WALLCLOCK_TIME_UPDATED, b2, this), y2.on(l.Z.INITIAL_STREAM_SWITCH, S2, this), y2.on(l.Z.PLAYBACK_SEEKING, v2, this), y2.on(l.Z.BUFFER_REPLACEMENT_STARTED, _2, e3), y2.on(l.Z.TRACK_CHANGE_RENDERED, T2, e3);
              }();
            } }, p2 = (0, f.Z)(m2).getInstance().getLogger(e3), E2(), e3;
          }
          cn.__dashjs_factory_name = "GapController";
          var fn = c.Z.getSingletonFactory(cn);
          function dn() {
            var e3, t3, n3, r3, i2, o2, c2, g2, h2, p2, m2 = this.context, y2 = (0, u.Z)(m2).getInstance();
            function E2() {
              t3 = false;
              var e4 = Ye.Z.parseUserAgent();
              n3 = e4 && e4.browser && e4.browser.name && "safari" === e4.browser.name.toLowerCase();
            }
            function v2() {
              t3 = false;
            }
            function _2(e4) {
              if (e4.streamId === o2.getActiveStreamInfo().id && h2) {
                var t4 = c2.getLiveDelay();
                c2.getBufferLevel() > t4 / 2 && (h2 = false);
              }
            }
            function T2(e4) {
              e4.streamId === o2.getActiveStreamInfo().id && (h2 = e4.state === s2.Z.BUFFER_EMPTY);
            }
            function S2() {
              g2.getCatchupModeEnabled() || r3.setPlaybackRate(1);
            }
            function b2() {
              c2.getIsDynamic() && g2.getCatchupModeEnabled() && (g2.getCatchupPlaybackRates().max > 0 || g2.getCatchupPlaybackRates().min < 0) && !c2.isPaused() && !c2.isSeeking() && function() {
                try {
                  return !(!c2.getTime() > 0 || t3) && (I2() === a2.Z.LIVE_CATCHUP_MODE_LOLP ? function(e4, t4) {
                    try {
                      return Math.abs(A2()) > 0 || e4 < t4;
                    } catch (e5) {
                      return false;
                    }
                  }(c2.getBufferLevel(), i2.get().streaming.liveCatchup.playbackBufferMin) : function() {
                    try {
                      return Math.abs(A2()) > 0;
                    } catch (e4) {
                      return false;
                    }
                  }());
                } catch (e4) {
                  return false;
                }
              }() && function() {
                if (!t3 && r3) {
                  var e4, o3 = r3.getPlaybackRate(), s3 = g2.getCatchupPlaybackRates(), u2 = c2.getBufferLevel(), l2 = A2(), f2 = g2.getCatchupMaxDrift();
                  if (!isNaN(f2) && f2 > 0 && l2 > f2)
                    p2.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"), t3 = true, c2.seekToCurrentLive(true, false);
                  else {
                    var d2 = c2.getCurrentLiveLatency(), m3 = c2.getLiveDelay();
                    e4 = I2() === a2.Z.LIVE_CATCHUP_MODE_LOLP ? function(e5, t4, n4, r4, i3) {
                      var a3;
                      if (i3 < r4) {
                        var o4 = Math.abs(e5.min), s4 = 5 * (i3 - r4);
                        a3 = 1 - o4 + 2 * o4 / (1 + Math.pow(Math.E, -s4)), p2.debug("[LoL+ playback control_buffer-based] bufferLevel: " + i3 + ", newRate: " + a3);
                      } else {
                        if (Math.abs(t4 - n4) <= 0.02 * n4)
                          a3 = 1;
                        else {
                          var u3 = t4 - n4, l3 = u3 < 0 ? Math.abs(e5.min) : e5.max, c3 = 5 * u3;
                          a3 = 1 - l3 + 2 * l3 / (1 + Math.pow(Math.E, -c3));
                        }
                        p2.debug("[LoL+ playback control_latency-based] latency: " + t4 + ", newRate: " + a3);
                      }
                      return a3;
                    }(s3, d2, m3, i2.get().streaming.liveCatchup.playbackBufferMin, u2) : function(e5, t4, n4, r4) {
                      if (h2)
                        return 1;
                      var i3 = t4 - n4, a3 = i3 < 0 ? Math.abs(e5.min) : e5.max, o4 = 5 * i3, s4 = 1 - a3 + 2 * a3 / (1 + Math.pow(Math.E, -o4));
                      return c2.getPlaybackStalled() && r4 <= n4 / 2 && i3 > 0 && (s4 = 1), s4;
                    }(s3, d2, m3, u2);
                    var y3 = n3 ? 0.25 : 0.02 / (0.5 / s3.max);
                    e4 && Math.abs(o3 - e4) >= y3 && (p2.debug("[CatchupController]: Setting playback rate to ".concat(e4)), r3.setPlaybackRate(e4));
                  }
                }
              }();
            }
            function A2() {
              return c2.getCurrentLiveLatency() - c2.getLiveDelay();
            }
            function I2() {
              var e4 = i2.get().streaming.liveCatchup.playbackBufferMin;
              return i2.get().streaming.liveCatchup.mode !== a2.Z.LIVE_CATCHUP_MODE_LOLP || null === e4 || isNaN(e4) ? a2.Z.LIVE_CATCHUP_MODE_DEFAULT : a2.Z.LIVE_CATCHUP_MODE_LOLP;
            }
            function R2() {
              g2.getCatchupPlaybackRates(true);
            }
            return e3 = { reset: function() {
              y2.off(d.Z.BUFFER_LEVEL_UPDATED, _2, e3), y2.off(d.Z.BUFFER_LEVEL_STATE_CHANGED, T2, e3), y2.off(d.Z.PLAYBACK_PROGRESS, b2, e3), y2.off(d.Z.PLAYBACK_TIME_UPDATED, b2, e3), y2.off(d.Z.PLAYBACK_SEEKED, v2, e3), y2.off(l.Z.SETTING_UPDATED_CATCHUP_ENABLED, S2, e3), y2.off(l.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN, R2, e3), y2.off(l.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX, R2, e3), y2.off(d.Z.STREAM_INITIALIZED, R2, e3), E2(), r3.setPlaybackRate(1, true);
            }, setConfig: function(e4) {
              e4 && (e4.settings && (i2 = e4.settings), e4.videoModel && (r3 = e4.videoModel), e4.streamController && (o2 = e4.streamController), e4.playbackController && (c2 = e4.playbackController), e4.mediaPlayerModel && (g2 = e4.mediaPlayerModel));
            }, initialize: function() {
              y2.on(d.Z.BUFFER_LEVEL_UPDATED, _2, e3), y2.on(d.Z.BUFFER_LEVEL_STATE_CHANGED, T2, e3), y2.on(d.Z.PLAYBACK_PROGRESS, b2, e3), y2.on(d.Z.PLAYBACK_TIME_UPDATED, b2, e3), y2.on(d.Z.PLAYBACK_SEEKED, v2, e3), y2.on(l.Z.SETTING_UPDATED_CATCHUP_ENABLED, S2, e3), y2.on(l.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN, R2, e3), y2.on(l.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX, R2, e3), y2.on(d.Z.STREAM_INITIALIZED, R2, e3), R2();
            } }, p2 = (0, f.Z)(m2).getInstance().getLogger(e3), E2(), e3;
          }
          dn.__dashjs_factory_name = "CatchupController";
          var gn = c.Z.getSingletonFactory(dn), hn = [a2.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME], pn = "video", mn = "audio";
          function yn() {
            var e3, t3, n3, r3, i2, s3 = this.context;
            function u2() {
              t3 = { liveDelay: NaN, liveCatchup: { maxDrift: NaN, playbackRate: { min: NaN, max: NaN } }, minBitrate: {}, maxBitrate: {}, initialBitrate: {}, contentSteering: null }, n3 = [];
            }
            function l2(e4, n4, i3) {
              try {
                t3[e4][n4] = i3 / 1e3;
              } catch (e5) {
                r3.error(e5);
              }
            }
            return e3 = { getServiceDescriptionSettings: function() {
              return t3;
            }, getProducerReferenceTimeOffsets: function() {
              return n3;
            }, calculateProducerReferenceTimeOffsets: function(e4) {
              try {
                var t4 = [];
                if (e4 && e4.length > 0) {
                  var s4 = [a2.Z.VIDEO, a2.Z.AUDIO, a2.Z.TEXT], u3 = i2.getAvailabilityStartTime() / 1e3;
                  e4.forEach(function(e5) {
                    var n4 = s4.reduce(function(t5, n5) {
                      return t5.concat(i2.getAllMediaInfoForType(e5, n5));
                    }, []).reduce(function(t5, n5) {
                      return i2.getProducerReferenceTimes(e5, n5).forEach(function(r4) {
                        var a3 = i2.getVoRepresentations(n5);
                        if (a3 && a3.length > 0 && a3[0].adaptation && a3[0].segmentInfoType === o.Z.SEGMENT_TEMPLATE) {
                          var s5 = a3[0], l3 = new Date(r4[o.Z.WALL_CLOCK_TIME]).getTime() / 1e3 - (r4[o.Z.PRESENTATION_TIME] / s5[o.Z.TIMESCALE] - s5[o.Z.PRESENTATION_TIME_OFFSET] + e5.start), c2 = u3 - l3;
                          t5.push({ id: r4[o.Z.ID], to: c2 });
                        }
                      }), t5;
                    }, []);
                    t4 = t4.concat(n4);
                  });
                }
                n3 = t4;
              } catch (e5) {
                r3.error(e5), n3 = [];
              }
            }, applyServiceDescription: function(e4) {
              if (e4 && e4.serviceDescriptions) {
                var i3 = e4.serviceDescriptions.filter(function(e5) {
                  return hn.includes(e5.schemeIdUri);
                }), o2 = e4.serviceDescriptions.filter(function(e5) {
                  return null == e5.schemeIdUri;
                }), s4 = i3.length > 0 ? i3[i3.length - 1] : o2[o2.length - 1];
                s4 && (s4.latency && s4.latency.target > 0 && function(e5) {
                  var i4;
                  if (e5.schemeIdUri, a2.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME, i4 = function(e6) {
                    return { liveDelay: e6.latency.target / 1e3, maxDrift: !isNaN(e6.latency.max) && e6.latency.max > e6.latency.target ? (e6.latency.max - e6.latency.target + 500) / 1e3 : NaN, referenceId: e6.latency.referenceId || NaN };
                  }(e5), n3.length > 0) {
                    var o3 = function(e6) {
                      var t4, r4 = 0, i5 = n3.filter(function(t5) {
                        return t5.id === e6.referenceId;
                      });
                      return 0 === i5.length ? (r4 = n3.length > 0 ? n3[0].to : 0, t4 = n3[0].id || NaN) : (r4 = i5[0].to || 0, t4 = i5[0].id || NaN), { to: r4, id: t4 };
                    }(i4), s5 = o3.to, u3 = o3.id;
                    t3.liveDelay = i4.liveDelay - s5, t3.liveCatchup.maxDrift = i4.maxDrift, r3.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(s5, " from ProducerReferenceTime element with id ").concat(u3, ".\n                Live Delay: ").concat(i4.liveDelay - s5, ", Live catchup max drift: ").concat(i4.maxDrift, "\n            "));
                  } else
                    t3.liveDelay = i4.liveDelay, t3.liveCatchup.maxDrift = i4.maxDrift, r3.debug("Found latency properties coming from service description: Live Delay: ".concat(i4.liveDelay, ", Live catchup max drift: ").concat(i4.maxDrift));
                }(s4), s4.playbackRate && function(e5) {
                  var n4 = e5.playbackRate.min ? Math.round(1e3 * (e5.playbackRate.min - 1)) / 1e3 : NaN, i4 = e5.playbackRate.max ? Math.round(1e3 * (e5.playbackRate.max - 1)) / 1e3 : NaN;
                  t3.liveCatchup.playbackRate.min = n4, t3.liveCatchup.playbackRate.max = i4, r3.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(n4)), r3.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(i4));
                }(s4), s4.operatingQuality, s4.operatingBandwidth && function(e5) {
                  if (e5 && e5.operatingBandwidth && e5.operatingBandwidth.mediaType && "all" !== e5.operatingBandwidth.mediaType) {
                    var t4 = {};
                    t4.minBandwidth = e5.operatingBandwidth.min, t4.maxBandwidth = e5.operatingBandwidth.max, t4.targetBandwidth = e5.operatingBandwidth.target;
                    var n4 = [];
                    e5.operatingBandwidth.mediaType === pn || e5.operatingBandwidth.mediaType === mn ? n4.push(e5.operatingBandwidth.mediaType) : "any" === e5.operatingBandwidth.mediaType && (n4.push(mn), n4.push(pn)), n4.forEach(function(e6) {
                      isNaN(t4.minBandwidth) || l2("minBitrate", e6, t4.minBandwidth), isNaN(t4.maxBandwidth) || l2("maxBitrate", e6, t4.maxBandwidth), isNaN(t4.targetBandwidth) || l2("initialBitrate", e6, t4.targetBandwidth);
                    });
                  }
                }(s4), s4.contentSteering && function(e5) {
                  t3.contentSteering = e5.contentSteering;
                }(s4));
              }
            }, reset: function() {
              u2();
            }, setConfig: function(e4) {
              e4 && e4.adapter && (i2 = e4.adapter);
            } }, r3 = (0, f.Z)(s3).getInstance().getLogger(e3), u2(), e3;
          }
          yn.__dashjs_factory_name = "ServiceDescriptionController";
          var En = c.Z.getSingletonFactory(yn), vn = n2(3973), _n = n2.n(vn), Tn = n2(3039);
          function Sn() {
            var e3, t3, n3, r3, i2, o2, s3, c2, d2 = this.context, g2 = (0, u.Z)(d2).getInstance();
            function h2(e4, t4) {
              return e4 && n3[t4] && n3[t4][e4] ? n3[t4][e4].list : [];
            }
            function p2(e4, t4) {
              return e4 && n3[t4] && n3[t4][e4] ? n3[t4][e4].current : null;
            }
            function m2(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
              if (e4 && e4.streamInfo) {
                var i3 = e4.type, s4 = e4.streamInfo, u2 = s4.id, f2 = p2(i3, u2);
                if (n3[u2] && n3[u2][i3] && (n3[u2][i3].current = e4, n3[u2][i3].current && (i3 !== a2.Z.TEXT && !v2(e4, f2) || i3 === a2.Z.TEXT && e4.isFragmented) && g2.trigger(l.Z.CURRENT_TRACK_CHANGED, { oldMediaInfo: f2, newMediaInfo: e4, switchMode: r3.get().streaming.trackSwitchMode[i3] }, { streamId: u2 }), !t4)) {
                  var d3 = T2(e4);
                  if (!d3 || !n3[u2][i3].storeLastSettings)
                    return;
                  d3.roles && (d3.role = d3.roles[0], delete d3.roles), d3.accessibility && (d3.accessibility = d3.accessibility[0]), d3.audioChannelConfiguration && (d3.audioChannelConfiguration = d3.audioChannelConfiguration[0]), o2[i3] = d3, c2.setSavedMediaSettings(i3, d3);
                }
              }
            }
            function y2(e4, t4) {
              e4 && t4 && (i2[e4] = t4);
            }
            function E2(e4) {
              return e4 ? i2[e4] : null;
            }
            function v2(e4, t4) {
              if (!e4 && !t4)
                return true;
              if (!e4 || !t4)
                return false;
              var n4 = e4.id === t4.id, r4 = e4.viewpoint === t4.viewpoint, i3 = JSON.stringify(e4.viewpointsWithSchemeIdUri) === JSON.stringify(t4.viewpointsWithSchemeIdUri), a3 = e4.lang === t4.lang, o3 = e4.codec === t4.codec, s4 = e4.roles.toString() === t4.roles.toString(), u2 = JSON.stringify(e4.rolesWithSchemeIdUri) === JSON.stringify(t4.rolesWithSchemeIdUri), l2 = e4.accessibility.toString() === t4.accessibility.toString(), c3 = JSON.stringify(e4.accessibilitiesWithSchemeIdUri) === JSON.stringify(t4.accessibilitiesWithSchemeIdUri), f2 = e4.audioChannelConfiguration.toString() === t4.audioChannelConfiguration.toString(), d3 = JSON.stringify(e4.audioChannelConfigurationsWithSchemeIdUri) === JSON.stringify(t4.audioChannelConfigurationsWithSchemeIdUri);
              return n4 && o3 && r4 && i3 && a3 && s4 && u2 && l2 && c3 && f2 && d3;
            }
            function _2() {
              n3 = {}, o2 = {}, i2 = { audio: null, video: null, text: null };
            }
            function T2(e4) {
              var t4 = { lang: e4.lang, viewpoint: e4.viewpoint, roles: e4.roles, accessibility: e4.accessibility, audioChannelConfiguration: e4.audioChannelConfiguration, codec: e4.codec };
              return t4.lang || t4.viewpoint || t4.role && t4.role.length > 0 || t4.accessibility && t4.accessibility.length > 0 || t4.audioChannelConfiguration && t4.audioChannelConfiguration.length > 0 ? t4 : null;
            }
            function S2(e4, t4, n4) {
              var r4 = [];
              return e4.forEach(function(e5) {
                t4(n4, e5) && r4.push(e5);
              }), 0 !== r4.length ? r4 : e4;
            }
            function b2(e4, t4) {
              try {
                return !e4.lang || e4.lang instanceof RegExp ? t4.lang.match(e4.lang) : "" !== t4.lang && (0, Tn.extendedFilter)(t4.lang, _n()(e4.lang)).length > 0;
              } catch (e5) {
                return false;
              }
            }
            function A2(e4, t4) {
              return void 0 === e4.index || null === e4.index || t4.index === e4.index;
            }
            function I2(e4, t4) {
              return !e4.viewpoint || e4.viewpoint === t4.viewpoint;
            }
            function R2(e4, t4) {
              var n4 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], r4 = !e4.role || !!t4.roles.filter(function(t5) {
                return t5 === e4.role;
              })[0];
              return r4 || t4.type === a2.Z.AUDIO && n4;
            }
            function w2(e4, t4) {
              return e4.accessibility ? !!t4.accessibility.filter(function(t5) {
                return t5 === e4.accessibility;
              })[0] : !t4.accessibility.length;
            }
            function N2(e4, t4) {
              return !e4.audioChannelConfiguration || !!t4.audioChannelConfiguration.filter(function(t5) {
                return t5 === e4.audioChannelConfiguration;
              })[0];
            }
            function C2(e4, t4) {
              return !e4.codec || e4.codec === t4.codec;
            }
            function D2(e4) {
              var t4, n4 = 0, r4 = [];
              return e4.forEach(function(e5) {
                (t4 = Math.max.apply(Math, e5.bitrateList.map(function(e6) {
                  return e6.bandwidth;
                }))) > n4 ? (n4 = t4, r4 = [e5]) : t4 === n4 && r4.push(e5);
              }), r4;
            }
            function O2(e4) {
              var t4, n4 = 1 / 0, r4 = [];
              return e4.forEach(function(e5) {
                var i3 = e5.bitrateList.reduce(function(e6, t5) {
                  var n5 = Math.max(1, t5.width * t5.height);
                  return e6 + t5.bandwidth / n5;
                }, 0);
                (t4 = i3 / e5.bitrateList.length) < n4 ? (n4 = t4, r4 = [e5]) : t4 === n4 && r4.push(e5);
              }), r4;
            }
            function M2(e4) {
              var t4, n4 = 0, r4 = [];
              return e4.forEach(function(e5) {
                (t4 = e5.representationCount) > n4 ? (n4 = t4, r4 = [e5]) : t4 === n4 && r4.push(e5);
              }), r4;
            }
            function P2(e4, n4) {
              if (e4 === a2.Z.TEXT)
                return n4[0];
              var i3, o3 = r3.get().streaming.selectionModeForInitialTrack, u2 = s3.getCustomInitialTrackSelectionFunction();
              if (u2 && "function" == typeof u2)
                i3 = u2(n4);
              else
                switch (o3) {
                  case a2.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:
                    i3 = function(e5) {
                      var t4, n5, r4 = (t4 = 0, n5 = [], e5.forEach(function(e6) {
                        isNaN(e6.selectionPriority) || (e6.selectionPriority > t4 ? (t4 = e6.selectionPriority, n5 = [e6]) : e6.selectionPriority === t4 && n5.push(e6));
                      }), n5);
                      return r4.length > 1 && (r4 = D2(r4)), r4.length > 1 && (r4 = M2(r4)), r4;
                    }(n4);
                    break;
                  case a2.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:
                    i3 = function(e5) {
                      var t4 = D2(e5);
                      return t4.length > 1 && (t4 = M2(t4)), t4;
                    }(n4);
                    break;
                  case a2.Z.TRACK_SELECTION_MODE_FIRST_TRACK:
                    i3 = L2(n4);
                    break;
                  case a2.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:
                    i3 = function(e5) {
                      var t4 = O2(e5);
                      return t4.length > 1 && (t4 = D2(t4)), t4;
                    }(n4);
                    break;
                  case a2.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:
                    i3 = function(e5) {
                      var t4 = M2(e5);
                      return t4.length > 1 && (t4 = D2(e5)), t4;
                    }(n4);
                    break;
                  default:
                    t3.warn("Track selection mode ".concat(o3, " is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")), i3 = L2(n4);
                }
              return i3.length > 0 ? i3[0] : n4[0];
            }
            function L2(e4) {
              return e4[0];
            }
            return e3 = { setInitialMediaSettingsForType: function(e4, t4) {
              var n4 = o2[e4] || E2(e4), r4 = h2(e4, t4.id), i3 = [];
              n4 || ((n4 = c2.getSavedMediaSettings(e4)) && delete n4.codec, y2(e4, n4)), r4 && 0 !== r4.length && (n4 && (i3 = S2(i3 = Array.from(r4), b2, n4), i3 = S2(i3, A2, n4), i3 = S2(i3, I2, n4), e4 === a2.Z.AUDIO && o2[e4] || (i3 = S2(i3, R2, n4)), i3 = S2(i3, w2, n4), i3 = S2(i3, N2, n4), i3 = S2(i3, C2, n4)), 0 === i3.length ? m2(P2(e4, r4), true) : i3.length > 1 ? m2(P2(e4, i3)) : m2(i3[0]));
            }, addTrack: function(e4) {
              if (e4) {
                var t4 = e4.type;
                if ((i3 = t4) === a2.Z.AUDIO || i3 === a2.Z.VIDEO || i3 === a2.Z.TEXT || i3 === a2.Z.IMAGE) {
                  var i3, o3, s4 = e4.streamInfo.id;
                  n3[s4] || (n3[s4] = { audio: { list: [], storeLastSettings: o3 = r3.get().streaming.saveLastMediaSettingsForCurrentStreamingSession, current: null }, video: { list: [], storeLastSettings: o3, current: null }, text: { list: [], storeLastSettings: o3, current: null }, image: { list: [], storeLastSettings: o3, current: null } });
                  for (var u2 = n3[s4][t4].list, l2 = 0, c3 = u2.length; l2 < c3; ++l2)
                    if (v2(u2[l2], e4))
                      return;
                  u2.push(e4);
                }
              }
            }, getTracksFor: h2, getCurrentTrackFor: p2, isCurrentTrack: function(e4) {
              if (!e4)
                return false;
              var t4 = e4.type, r4 = e4.streamInfo.id;
              return n3[r4] && n3[r4][t4] && v2(n3[r4][t4].current, e4);
            }, setTrack: m2, selectInitialTrack: P2, setInitialSettings: y2, getInitialSettings: E2, getTracksWithHighestBitrate: D2, getTracksWithHighestEfficiency: O2, getTracksWithWidestRange: M2, isTracksEqual: v2, matchSettings: function(e4, t4) {
              var n4 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
              try {
                var r4 = false;
                if (e4.lang) {
                  if (e4.lang instanceof RegExp)
                    r4 = t4.lang.match(e4.lang);
                  else if ("" !== t4.lang) {
                    var i3 = _n()(e4.lang);
                    i3 && (r4 = (0, Tn.extendedFilter)(t4.lang, i3).length > 0);
                  }
                } else
                  r4 = true;
                var o3 = void 0 === e4.index || null === e4.index || t4.index === e4.index, s4 = !e4.viewpoint || e4.viewpoint === t4.viewpoint, u2 = !e4.role || !!t4.roles.filter(function(t5) {
                  return t5 === e4.role;
                })[0], l2 = !e4.accessibility || !!t4.accessibility.filter(function(t5) {
                  return t5 === e4.accessibility;
                })[0], c3 = !e4.audioChannelConfiguration || !!t4.audioChannelConfiguration.filter(function(t5) {
                  return t5 === e4.audioChannelConfiguration;
                })[0];
                return r4 && o3 && s4 && (u2 || t4.type === a2.Z.AUDIO && n4) && l2 && c3;
              } catch (e5) {
                return false;
              }
            }, matchSettingsLang: b2, matchSettingsIndex: A2, matchSettingsViewPoint: I2, matchSettingsRole: R2, matchSettingsAccessibility: w2, matchSettingsAudioChannelConfig: N2, saveTextSettingsDisabled: function() {
              c2.setSavedMediaSettings(a2.Z.TEXT, null);
            }, setConfig: function(e4) {
              e4 && (e4.domStorage && (c2 = e4.domStorage), e4.settings && (r3 = e4.settings), e4.customParametersModel && (s3 = e4.customParametersModel));
            }, reset: _2 }, t3 = (0, f.Z)(d2).getInstance().getLogger(e3), _2(), e3;
          }
          Sn.__dashjs_factory_name = "MediaController";
          var bn = c.Z.getSingletonFactory(Sn);
          c.Z.updateSingletonFactory(Sn.__dashjs_factory_name, bn);
          var An = bn, In = NaN, Rn = function e3(t3, n3) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.data = { baseUrls: t3 || null, selectedIdx: n3 || In }, this.children = [];
          };
          function wn() {
            var e3, t3, n3, r3, i2 = this.context, a3 = Oe(i2).getInstance();
            function o2(e4, t4, n4) {
              var r4 = s3(n4);
              e4[t4] ? a3.areEqual(r4, e4[t4].data.baseUrls) || (e4[t4].data.baseUrls = r4, e4[t4].data.selectedIdx = In) : e4[t4] = new Rn(r4);
            }
            function s3(e4) {
              var t4 = n3.getBaseURLsFromElement(e4), i3 = r3.getSynthesizedBaseUrlElements(t4);
              return i3 && i3.length > 0 && (t4 = t4.concat(i3)), t4;
            }
            function u2(e4, n4) {
              var r4 = n4 || t3;
              e4(r4.data), r4.children && r4.children.forEach(function(t4) {
                return u2(e4, t4);
              });
            }
            function l2() {
              t3 = new Rn();
            }
            return e3 = { reset: l2, update: function(e4) {
              !function(e5) {
                !function() {
                  if (!n3 || !n3.hasOwnProperty("getBaseURLsFromElement") || !n3.hasOwnProperty("getRepresentationSortFunction"))
                    throw new Error("setConfig function has to be called previously");
                }();
                var r4 = s3(e5);
                a3.areEqual(r4, t3.data.baseUrls) || (t3.data.baseUrls = r4, t3.data.selectedIdx = In), e5 && e5.Period_asArray && e5.Period_asArray.forEach(function(e6, r5) {
                  o2(t3.children, r5, e6), e6.AdaptationSet_asArray && e6.AdaptationSet_asArray.forEach(function(e7, i3) {
                    o2(t3.children[r5].children, i3, e7), e7.Representation_asArray && e7.Representation_asArray.sort(n3.getRepresentationSortFunction()).forEach(function(e8, n4) {
                      o2(t3.children[r5].children[i3].children, n4, e8);
                    });
                  });
                });
              }(e4);
            }, getForPath: function(e4) {
              var n4 = t3, r4 = [n4.data];
              return e4 && e4.forEach(function(e5) {
                (n4 = n4.children[e5]) && r4.push(n4.data);
              }), r4.filter(function(e5) {
                return e5.baseUrls.length;
              });
            }, invalidateSelectedIndexes: function(e4) {
              u2(function(t4) {
                isNaN(t4.selectedIdx) || e4 === t4.baseUrls[t4.selectedIdx].serviceLocation && (t4.selectedIdx = In);
              });
            }, setConfig: function(e4) {
              e4.adapter && (n3 = e4.adapter), e4.contentSteeringController && (r3 = e4.contentSteeringController);
            }, getBaseUrls: function(e4) {
              return s3(e4);
            } }, l2(), e3;
          }
          wn.__dashjs_factory_name = "BaseURLTreeModel";
          var Nn = c.Z.getClassFactory(wn);
          function Cn(e3) {
            var t3 = (e3 = e3 || {}).blacklistController;
            return { select: function(e4) {
              return e4 && function(e5) {
                var t4, n4, r3 = 0, i2 = [], a3 = 0;
                if ((n4 = e5.sort(function(e6, t5) {
                  var n5 = e6.dvbPriority - t5.dvbPriority;
                  return isNaN(n5) ? 0 : n5;
                }).filter(function(e6, t5, n5) {
                  return !t5 || n5[0].dvbPriority && e6.dvbPriority && n5[0].dvbPriority === e6.dvbPriority;
                })).length)
                  return n4.length > 1 && (n4.forEach(function(e6) {
                    r3 += e6.dvbWeight, i2.push(r3);
                  }), t4 = Math.floor(Math.random() * (r3 - 1)), i2.every(function(e6, n5) {
                    return a3 = n5, !(t4 < e6);
                  })), n4[a3];
              }((n3 = [], e4.filter(function(e5) {
                return !t3.contains(e5.serviceLocation) || (e5.dvbPriority && n3.push(e5.dvbPriority), false);
              }).filter(function(e5) {
                return !n3.length || !e5.dvbPriority || -1 === n3.indexOf(e5.dvbPriority);
              })));
              var n3;
            } };
          }
          Cn.__dashjs_factory_name = "DVBSelector";
          var Dn = c.Z.getClassFactory(Cn);
          function On(e3) {
            var t3 = (e3 = e3 || {}).blacklistController;
            return { select: function(e4) {
              var n3, r3 = 0;
              return e4 && e4.some(function(e5, n4) {
                return r3 = n4, !t3.contains(e5.serviceLocation);
              }) && (n3 = e4[r3]), n3;
            } };
          }
          On.__dashjs_factory_name = "BasicSelector";
          var Mn = c.Z.getClassFactory(On);
          function Pn() {
            var e3, t3, n3, r3 = this.context;
            function i2() {
              for (var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], r4 = 0, i3 = NaN, a3 = function() {
                var a4 = e4[r4], o3 = t4.findIndex(function(e5) {
                  return e5.serviceLocation && e5.serviceLocation === a4;
                });
                if (-1 !== o3 && !n3.contains(t4[o3].serviceLocation))
                  return i3 = o3, "break";
                r4 += 1;
              }; r4 < e4.length; ) {
                var o2 = a3();
                if ("break" === o2)
                  break;
              }
              return i3;
            }
            return e3 = { selectBaseUrlIndex: function(e4) {
              var n4 = NaN;
              if (isNaN(e4.selectedIdx)) {
                var r4 = t3.getSteeringDataFromManifest();
                r4 && r4.defaultServiceLocationArray.length > 0 && (n4 = i2(r4.defaultServiceLocationArray, e4.baseUrls));
              }
              var a3 = t3.getCurrentSteeringResponseData();
              return e4.baseUrls && e4.baseUrls.length && a3 && a3.pathwayPriority && a3.pathwayPriority.length && (n4 = i2(a3.pathwayPriority, e4.baseUrls)), n4;
            }, setConfig: function(e4) {
              e4.blacklistController && (n3 = e4.blacklistController), e4.contentSteeringController && (t3 = e4.contentSteeringController);
            } }, t3 = Kt(r3).getInstance(), e3;
          }
          Pn.__dashjs_factory_name = "ContentSteeringSelector";
          var Ln = c.Z.getClassFactory(Pn);
          function Fn() {
            var e3, t3, n3, r3, i2, a3, o2 = this.context, s3 = (0, u.Z)(o2).getInstance(), c2 = (0, N.Z)(o2).getInstance();
            function f2() {
              t3.reset();
            }
            return e3 = { chooseSelector: function(e4) {
              (0, z.PS)(e4, "boolean"), a3 = e4 ? r3 : n3;
            }, select: function(e4) {
              if (e4) {
                if (c2.get().streaming.applyContentSteering) {
                  var t4 = i2.selectBaseUrlIndex(e4);
                  isNaN(t4) || -1 === t4 || (e4.selectedIdx = t4);
                }
                if (!isNaN(e4.selectedIdx))
                  return e4.baseUrls[e4.selectedIdx];
                var r4 = a3.select(e4.baseUrls);
                return r4 ? (e4.selectedIdx = e4.baseUrls.indexOf(r4), r4) : (s3.trigger(l.Z.URL_RESOLUTION_FAILED, { error: new S.Z(w.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE, w.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE) }), void (a3 === n3 && f2()));
              }
            }, reset: f2, setConfig: function(e4) {
              e4.selector && (a3 = e4.selector), e4.contentSteeringSelector && (i2 = e4.contentSteeringSelector);
            } }, t3 = Bt(o2).create({ updateEventName: l.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED, addBlacklistEventName: l.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD }), n3 = Mn(o2).create({ blacklistController: t3 }), r3 = Dn(o2).create({ blacklistController: t3 }), (i2 = Ln(o2).create()).setConfig({ blacklistController: t3 }), a3 = n3, e3;
          }
          Fn.__dashjs_factory_name = "BaseURLSelector";
          var xn = c.Z.getClassFactory(Fn);
          function kn() {
            var e3, t3, n3, r3, i2, a3 = this.context, o2 = (0, u.Z)(a3).getInstance(), s3 = (0, Q.Z)(a3).getInstance();
            function c2(e4) {
              n3.update(e4), r3.chooseSelector(t3.getIsDVB(e4)), o2.trigger(d.Z.BASE_URLS_UPDATED, { baseUrls: f2(e4) });
            }
            function f2(e4) {
              return n3.getBaseUrls(e4);
            }
            return e3 = { reset: function() {
              n3.reset(), r3.reset();
            }, initialize: function(e4) {
              n3.setConfig({ adapter: t3, contentSteeringController: i2 }), c2(e4);
            }, resolve: function(e4) {
              var t4 = n3.getForPath(e4).reduce(function(e5, t5) {
                var n4 = r3.select(t5);
                return n4 ? (s3.isRelative(n4.url) ? e5.url = s3.resolve(n4.url, e5.url) : (e5.url = n4.url, e5.serviceLocation = n4.serviceLocation), e5.availabilityTimeOffset = n4.availabilityTimeOffset, e5.availabilityTimeComplete = n4.availabilityTimeComplete, e5.queryParams = n4.queryParams, e5) : new Se();
              }, new Se());
              if (!s3.isRelative(t4.url))
                return t4;
            }, setConfig: function(e4) {
              e4.baseURLTreeModel && (n3 = e4.baseURLTreeModel), e4.baseURLSelector && (r3 = e4.baseURLSelector), e4.adapter && (t3 = e4.adapter), e4.contentSteeringController && (i2 = e4.contentSteeringController);
            }, getBaseUrls: f2, update: c2 }, n3 = Nn(a3).create(), r3 = xn(a3).create(), o2.on(l.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED, function(e4) {
              n3.invalidateSelectedIndexes(e4.entry);
            }, e3), e3;
          }
          kn.__dashjs_factory_name = "BaseURLController";
          var Un = c.Z.getClassFactory(kn);
          function Zn(e3) {
            return Zn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, Zn(e3);
          }
          function Bn(e3, t3) {
            return Bn = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, Bn(e3, t3);
          }
          function Gn(e3, t3) {
            return !t3 || "object" !== Zn(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function qn(e3) {
            return qn = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, qn(e3);
          }
          var Yn = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && Bn(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = qn(t3);
              if (n3) {
                var i3 = qn(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return Gn(this, e4);
            });
            function i2(e4, t4) {
              var n4;
              return function(e5, t5) {
                if (!(e5 instanceof t5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2), (n4 = r3.call(this)).url = e4 || null, n4.type = t4 || null, n4.mediaType = a2.Z.STREAM, n4.responseType = "", n4;
            }
            return i2;
          }(p.Z);
          function jn(e3) {
            e3 = e3 || {};
            var t3 = this.context, n3 = (0, u.Z)(t3).getInstance(), r3 = St(t3).create({ errHandler: e3.errHandler, dashMetrics: e3.dashMetrics, mediaPlayerModel: e3.mediaPlayerModel, requestModifier: e3.requestModifier, errors: w });
            return { load: function(e4, t4, i2) {
              var a3 = function(r4, a4) {
                t4.resolved = true, t4.resolvedContent = r4 || null, n3.trigger(l.Z.XLINK_ELEMENT_LOADED, { element: t4, resolveObject: i2, error: r4 || a4 ? null : new S.Z(w.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE, w.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE + e4) });
              };
              if ("urn:mpeg:dash:resolve-to-zero:2013" === e4)
                a3(null, true);
              else {
                var o2 = new Yn(e4, C.w.XLINK_EXPANSION_TYPE);
                r3.load({ request: o2, success: function(e5) {
                  a3(e5);
                }, error: function() {
                  a3(null);
                } });
              }
            }, reset: function() {
              r3 && (r3.abort(), r3 = null);
            } };
          }
          jn.__dashjs_factory_name = "XlinkLoader";
          var Hn = c.Z.getClassFactory(jn), Vn = function(e3) {
            void 0 === (e3 = e3 || {}).escapeMode && (e3.escapeMode = true), void 0 === e3.attributePrefix && (e3.attributePrefix = "_"), e3.arrayAccessForm = e3.arrayAccessForm || "none", e3.emptyNodeForm = e3.emptyNodeForm || "text", void 0 === e3.enableToStringFunc && (e3.enableToStringFunc = true), e3.arrayAccessFormPaths = e3.arrayAccessFormPaths || [], void 0 === e3.skipEmptyTextNodesForObj && (e3.skipEmptyTextNodesForObj = true), void 0 === e3.stripWhitespaces && (e3.stripWhitespaces = true), e3.datetimeAccessFormPaths = e3.datetimeAccessFormPaths || [], void 0 === e3.useDoubleQuotes && (e3.useDoubleQuotes = false), e3.xmlElementsFilter = e3.xmlElementsFilter || [], e3.jsonPropertiesFilter = e3.jsonPropertiesFilter || [], void 0 === e3.keepCData && (e3.keepCData = false), void 0 === e3.ignoreRoot && (e3.ignoreRoot = false);
            function t3(e4) {
              var t4 = e4.localName;
              return null == t4 && (t4 = e4.baseName), null != t4 && "" != t4 || (t4 = e4.nodeName), t4;
            }
            function n3(e4) {
              return "string" == typeof e4 ? e4.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;") : e4;
            }
            function r3(e4, t4, n4, r4) {
              for (var i3 = 0; i3 < e4.length; i3++) {
                var a4 = e4[i3];
                if ("string" == typeof a4) {
                  if (a4 == r4)
                    break;
                } else if (a4 instanceof RegExp) {
                  if (a4.test(r4))
                    break;
                } else if ("function" == typeof a4 && a4(t4, n4, r4))
                  break;
              }
              return i3 != e4.length;
            }
            function i2(t4, n4, i3) {
              "property" === e3.arrayAccessForm && (t4[n4] instanceof Array ? t4[n4 + "_asArray"] = t4[n4] : t4[n4 + "_asArray"] = [t4[n4]]), !(t4[n4] instanceof Array) && e3.arrayAccessFormPaths.length > 0 && r3(e3.arrayAccessFormPaths, t4, n4, i3) && (t4[n4] = [t4[n4]]);
            }
            function a3(e4) {
              var t4 = e4.split(/[-T:+Z]/g), n4 = new Date(t4[0], t4[1] - 1, t4[2]), r4 = t4[5].split(".");
              if (n4.setHours(t4[3], t4[4], r4[0]), r4.length > 1 && n4.setMilliseconds(r4[1]), t4[6] && t4[7]) {
                var i3 = 60 * t4[6] + Number(t4[7]);
                i3 = 0 + ("-" == (/\d\d-\d\d:\d\d$/.test(e4) ? "-" : "+") ? -1 * i3 : i3), n4.setMinutes(n4.getMinutes() - i3 - n4.getTimezoneOffset());
              } else
                -1 !== e4.indexOf("Z", e4.length - 1) && (n4 = new Date(Date.UTC(n4.getFullYear(), n4.getMonth(), n4.getDate(), n4.getHours(), n4.getMinutes(), n4.getSeconds(), n4.getMilliseconds())));
              return n4;
            }
            function o2(t4, n4, i3, a4) {
              return !(1 == n4 && e3.xmlElementsFilter.length > 0) || r3(e3.xmlElementsFilter, t4, i3, a4);
            }
            function s3(n4, u3) {
              if (9 == n4.nodeType) {
                for (var l3 = new Object(), c3 = n4.childNodes, f3 = 0; f3 < c3.length; f3++)
                  1 == (g3 = c3[f3]).nodeType && (e3.ignoreRoot ? l3 = s3(g3) : (l3 = {})[h3 = t3(g3)] = s3(g3));
                return l3;
              }
              if (1 == n4.nodeType) {
                (l3 = new Object()).__cnt = 0;
                var d3 = [];
                for (c3 = n4.childNodes, f3 = 0; f3 < c3.length; f3++) {
                  var g3, h3 = t3(g3 = c3[f3]);
                  if (8 != g3.nodeType) {
                    var p3 = u3 + "." + h3;
                    if (o2(l3, g3.nodeType, h3, p3))
                      if (l3.__cnt++, null == l3[h3]) {
                        var m3 = s3(g3, p3);
                        ("#text" != h3 || /[^\s]/.test(m3)) && ((y3 = {})[h3] = m3, d3.push(y3)), l3[h3] = m3, i2(l3, h3, p3);
                      } else {
                        var y3;
                        null != l3[h3] && (l3[h3] instanceof Array || (l3[h3] = [l3[h3]], i2(l3, h3, p3))), m3 = s3(g3, p3), ("#text" != h3 || /[^\s]/.test(m3)) && ((y3 = {})[h3] = m3, d3.push(y3)), l3[h3][l3[h3].length] = m3;
                      }
                  }
                }
                l3.__children = d3;
                for (var E2 = t3(n4), v2 = 0; v2 < n4.attributes.length; v2++) {
                  var _2 = n4.attributes[v2];
                  l3.__cnt++;
                  for (var T2 = _2.value, S2 = 0, b2 = e3.matchers.length; S2 < b2; S2++) {
                    var A2 = e3.matchers[S2];
                    A2.test(_2, E2) && (T2 = A2.converter(_2.value));
                  }
                  l3[e3.attributePrefix + _2.name] = T2;
                }
                var I2 = function(e4) {
                  return e4.prefix;
                }(n4);
                return null != I2 && "" != I2 && (l3.__cnt++, l3.__prefix = I2), null != l3["#text"] && (l3.__text = l3["#text"], l3.__text instanceof Array && (l3.__text = l3.__text.join("\n")), e3.stripWhitespaces && (l3.__text = l3.__text.trim()), delete l3["#text"], "property" == e3.arrayAccessForm && delete l3["#text_asArray"], l3.__text = function(t4, n5, i3) {
                  if (e3.datetimeAccessFormPaths.length > 0) {
                    var o3 = i3.split(".#")[0];
                    return r3(e3.datetimeAccessFormPaths, t4, n5, o3) ? a3(t4) : t4;
                  }
                  return t4;
                }(l3.__text, h3, u3 + "." + h3)), null != l3["#cdata-section"] && (l3.__cdata = l3["#cdata-section"], delete l3["#cdata-section"], "property" == e3.arrayAccessForm && delete l3["#cdata-section_asArray"]), 0 == l3.__cnt && "text" == e3.emptyNodeForm ? l3 = "" : 1 == l3.__cnt && null != l3.__text ? l3 = l3.__text : 1 != l3.__cnt || null == l3.__cdata || e3.keepCData ? l3.__cnt > 1 && null != l3.__text && e3.skipEmptyTextNodesForObj && (e3.stripWhitespaces && "" == l3.__text || "" == l3.__text.trim()) && delete l3.__text : l3 = l3.__cdata, delete l3.__cnt, !e3.enableToStringFunc || null == l3.__text && null == l3.__cdata || (l3.toString = function() {
                  return (null != this.__text ? this.__text : "") + (null != this.__cdata ? this.__cdata : "");
                }), l3;
              }
              if (3 == n4.nodeType || 4 == n4.nodeType)
                return n4.nodeValue;
            }
            function u2(t4, r4, i3, a4) {
              var o3 = "<" + (null != t4 && null != t4.__prefix ? t4.__prefix + ":" : "") + r4;
              if (null != i3)
                for (var s4 = 0; s4 < i3.length; s4++) {
                  var u3 = i3[s4], l3 = t4[u3];
                  e3.escapeMode && (l3 = n3(l3)), o3 += " " + u3.substr(e3.attributePrefix.length) + "=", e3.useDoubleQuotes ? o3 += '"' + l3 + '"' : o3 += "'" + l3 + "'";
                }
              return o3 + (a4 ? "/>" : ">");
            }
            function l2(e4, t4) {
              return "</" + (null != e4.__prefix ? e4.__prefix + ":" : "") + t4 + ">";
            }
            function c2(t4, n4) {
              return "property" == e3.arrayAccessForm && (i3 = "_asArray", -1 !== (r4 = n4.toString()).indexOf(i3, r4.length - i3.length)) || 0 == n4.toString().indexOf(e3.attributePrefix) || 0 == n4.toString().indexOf("__") || t4[n4] instanceof Function;
              var r4, i3;
            }
            function f2(e4) {
              var t4 = 0;
              if (e4 instanceof Object)
                for (var n4 in e4)
                  c2(e4, n4) || t4++;
              return t4;
            }
            function d2(t4, n4, i3) {
              return 0 == e3.jsonPropertiesFilter.length || "" == i3 || r3(e3.jsonPropertiesFilter, t4, n4, i3);
            }
            function g2(t4) {
              var n4 = [];
              if (t4 instanceof Object)
                for (var r4 in t4)
                  -1 == r4.toString().indexOf("__") && 0 == r4.toString().indexOf(e3.attributePrefix) && n4.push(r4);
              return n4;
            }
            function h2(t4) {
              var r4 = "";
              return t4 instanceof Object ? r4 += function(t5) {
                var r5 = "";
                return null != t5.__cdata && (r5 += "<![CDATA[" + t5.__cdata + "]]>"), null != t5.__text && (e3.escapeMode ? r5 += n3(t5.__text) : r5 += t5.__text), r5;
              }(t4) : null != t4 && (e3.escapeMode ? r4 += n3(t4) : r4 += t4), r4;
            }
            function p2(e4, t4) {
              return "" === e4 ? t4 : e4 + "." + t4;
            }
            function m2(e4, t4, n4, r4) {
              var i3 = "";
              if (0 == e4.length)
                i3 += u2(e4, t4, n4, true);
              else
                for (var a4 = 0; a4 < e4.length; a4++)
                  i3 += u2(e4[a4], t4, g2(e4[a4]), false), i3 += y2(e4[a4], p2(r4, t4)), i3 += l2(e4[a4], t4);
              return i3;
            }
            function y2(e4, t4) {
              var n4 = "";
              if (f2(e4) > 0) {
                for (var r4 in e4)
                  if (!c2(e4, r4) && ("" == t4 || d2(e4, r4, p2(t4, r4)))) {
                    var i3 = e4[r4], a4 = g2(i3);
                    null == i3 || null == i3 ? n4 += u2(i3, r4, a4, true) : i3 instanceof Object ? i3 instanceof Array ? n4 += m2(i3, r4, a4, t4) : i3 instanceof Date ? (n4 += u2(i3, r4, a4, false), n4 += i3.toISOString(), n4 += l2(i3, r4)) : f2(i3) > 0 || null != i3.__text || null != i3.__cdata ? (n4 += u2(i3, r4, a4, false), n4 += y2(i3, p2(t4, r4)), n4 += l2(i3, r4)) : n4 += u2(i3, r4, a4, true) : (n4 += u2(i3, r4, a4, false), n4 += h2(i3), n4 += l2(i3, r4));
                  }
              }
              return n4 + h2(e4);
            }
            this.parseXmlString = function(e4) {
              var t4;
              if (window.ActiveXObject || window, void 0 === e4)
                return null;
              if (window.DOMParser) {
                var n4 = new window.DOMParser();
                try {
                  (t4 = n4.parseFromString(e4, "text/xml")).getElementsByTagNameNS("*", "parsererror").length > 0 && (t4 = null);
                } catch (e5) {
                  t4 = null;
                }
              } else
                0 == e4.indexOf("<?") && (e4 = e4.substr(e4.indexOf("?>") + 2)), (t4 = new ActiveXObject("Microsoft.XMLDOM")).async = "false", t4.loadXML(e4);
              return t4;
            }, this.asArray = function(e4) {
              return void 0 === e4 || null == e4 ? [] : e4 instanceof Array ? e4 : [e4];
            }, this.toXmlDateTime = function(e4) {
              return e4 instanceof Date ? e4.toISOString() : "number" == typeof e4 ? new Date(e4).toISOString() : null;
            }, this.asDateTime = function(e4) {
              return "string" == typeof e4 ? a3(e4) : e4;
            }, this.xml2json = function(e4) {
              return s3(e4);
            }, this.xml_str2json = function(e4) {
              var t4 = this.parseXmlString(e4);
              return null != t4 ? this.xml2json(t4) : null;
            }, this.json2xml_str = function(e4) {
              return y2(e4, "");
            }, this.json2xml = function(e4) {
              var t4 = this.json2xml_str(e4);
              return this.parseXmlString(t4);
            }, this.getVersion = function() {
              return "1.2.0";
            };
          }, Kn = "onLoad";
          function zn(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, a3, s3, c2 = this.context, f2 = (0, u.Z)(c2).getInstance(), d2 = (0, Q.Z)(c2).getInstance();
            function g2(e4, t4, n4) {
              var r4, i3, a4 = {};
              a4.elements = e4, a4.type = t4, a4.resolveType = n4, 0 === a4.elements.length && p2(a4);
              for (var o2 = 0; o2 < a4.elements.length; o2++)
                r4 = a4.elements[o2], i3 = d2.isHTTPURL(r4.url) ? r4.url : r4.originalContent.BaseURL + r4.url, s3.load(i3, r4, a4);
            }
            function h2(e4) {
              var t4, n4, r4 = "";
              if (t4 = e4.element, n4 = e4.resolveObject, t4.resolvedContent) {
                var i3 = 0;
                0 === t4.resolvedContent.indexOf("<?xml") && (i3 = t4.resolvedContent.indexOf("?>") + 2), r4 = t4.resolvedContent.substr(0, i3) + "<response>" + t4.resolvedContent.substr(i3) + "</response>", t4.resolvedContent = a3.xml_str2json(r4);
              }
              (function(e5) {
                var t5;
                for (t5 = 0; t5 < e5.elements.length; t5++)
                  if (false === e5.elements[t5].resolved)
                    return false;
                return true;
              })(n4) && p2(n4);
            }
            function p2(e4) {
              var t4, n4, a4 = [];
              if (function(e5) {
                var t5, n5, a5, o2, s4, u2, l2 = [];
                for (o2 = e5.elements.length - 1; o2 >= 0; o2--) {
                  if (n5 = (t5 = e5.elements[o2]).type + "_asArray", t5.resolvedContent) {
                    if (t5.resolvedContent)
                      for (s4 = 0; s4 < t5.resolvedContent[n5].length; s4++)
                        a5 = t5.resolvedContent[n5][s4], l2.push(a5);
                  } else
                    delete t5.originalContent["xlink:actuate"], delete t5.originalContent["xlink:href"], l2.push(t5.originalContent);
                  for (t5.parentElement[n5].splice(t5.index, 1), u2 = 0; u2 < l2.length; u2++)
                    t5.parentElement[n5].splice(t5.index + u2, 0, l2[u2]);
                  l2 = [];
                }
                e5.elements.length > 0 && r3.run(i2);
              }(e4), "onActuate" === e4.resolveType && f2.trigger(l.Z.XLINK_READY, { manifest: i2 }), e4.resolveType === Kn)
                switch (e4.type) {
                  case o.Z.PERIOD:
                    for (t4 = 0; t4 < i2[o.Z.PERIOD + "_asArray"].length; t4++)
                      (n4 = i2[o.Z.PERIOD + "_asArray"][t4]).hasOwnProperty(o.Z.ADAPTATION_SET + "_asArray") && (a4 = a4.concat(m2(n4[o.Z.ADAPTATION_SET + "_asArray"], n4, o.Z.ADAPTATION_SET, Kn))), n4.hasOwnProperty(o.Z.EVENT_STREAM + "_asArray") && (a4 = a4.concat(m2(n4[o.Z.EVENT_STREAM + "_asArray"], n4, o.Z.EVENT_STREAM, Kn)));
                    g2(a4, o.Z.ADAPTATION_SET, Kn);
                    break;
                  case o.Z.ADAPTATION_SET:
                    f2.trigger(l.Z.XLINK_READY, { manifest: i2 });
                }
            }
            function m2(e4, t4, n4, r4) {
              var i3, a4, o2, s4 = [];
              for (a4 = e4.length - 1; a4 >= 0; a4--)
                (i3 = e4[a4]).hasOwnProperty("xlink:href") && "urn:mpeg:dash:resolve-to-zero:2013" === i3["xlink:href"] && e4.splice(a4, 1);
              for (a4 = 0; a4 < e4.length; a4++)
                (i3 = e4[a4]).hasOwnProperty("xlink:href") && i3.hasOwnProperty("xlink:actuate") && i3["xlink:actuate"] === r4 && (o2 = y2(i3["xlink:href"], t4, n4, a4, r4, i3), s4.push(o2));
              return s4;
            }
            function y2(e4, t4, n4, r4, i3, a4) {
              return { url: e4, parentElement: t4, type: n4, index: r4, resolveType: i3, originalContent: a4, resolvedContent: null, resolved: false };
            }
            return t3 = { resolveManifestOnLoad: function(e4) {
              a3 = new Vn({ escapeMode: false, attributePrefix: "", arrayAccessForm: "property", emptyNodeForm: "object", stripWhitespaces: false, enableToStringFunc: false, ignoreRoot: true, matchers: n3 }), (i2 = e4).Period_asArray ? g2(m2(i2.Period_asArray, i2, o.Z.PERIOD, Kn), o.Z.PERIOD, Kn) : f2.trigger(l.Z.XLINK_READY, { manifest: i2 });
            }, setMatchers: function(e4) {
              e4 && (n3 = e4);
            }, setIron: function(e4) {
              e4 && (r3 = e4);
            }, reset: function() {
              f2.off(l.Z.XLINK_ELEMENT_LOADED, h2, t3), s3 && (s3.reset(), s3 = null);
            } }, f2.on(l.Z.XLINK_ELEMENT_LOADED, h2, t3), s3 = Hn(c2).create({ errHandler: e3.errHandler, dashMetrics: e3.dashMetrics, mediaPlayerModel: e3.mediaPlayerModel, requestModifier: e3.requestModifier, settings: e3.settings }), t3;
          }
          zn.__dashjs_factory_name = "XlinkController";
          var Wn = c.Z.getClassFactory(zn);
          function Xn(e3) {
            return Xn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, Xn(e3);
          }
          function Qn(e3) {
            function t3(e4, t4) {
              for (var n4 in e4)
                t4.hasOwnProperty(n4) || (t4[n4] = e4[n4]);
            }
            function n3(e4, n4, r4) {
              for (var i2 = 0, a3 = e4.length; i2 < a3; ++i2) {
                var o2 = e4[i2];
                if (n4[o2.name])
                  if (r4[o2.name]) {
                    if (o2.merge) {
                      var s3 = n4[o2.name], u2 = r4[o2.name];
                      "object" === Xn(s3) && "object" === Xn(u2) ? t3(s3, u2) : r4[o2.name] = s3 + u2;
                    }
                  } else
                    r4[o2.name] = n4[o2.name];
              }
            }
            function r3(e4, t4) {
              for (var i2 = 0, a3 = e4.children.length; i2 < a3; ++i2) {
                var o2 = e4.children[i2], s3 = t4[o2.name + "_asArray"];
                if (s3)
                  for (var u2 = 0, l2 = s3.length; u2 < l2; ++u2) {
                    var c2 = s3[u2];
                    n3(e4.properties, t4, c2), r3(o2, c2);
                  }
              }
            }
            return { run: function(t4) {
              if (null === t4 || "object" !== Xn(t4))
                return t4;
              if (t4.Period_asArray && "period" in e3)
                for (var n4 = e3.period, i2 = t4.Period_asArray, a3 = 0, o2 = i2.length; a3 < o2; ++a3) {
                  var s3 = i2[a3];
                  if (r3(n4, s3), "adaptationset" in e3) {
                    var u2 = s3.AdaptationSet_asArray;
                    if (u2)
                      for (var l2 = e3.adaptationset, c2 = 0, f2 = u2.length; c2 < f2; ++c2)
                        r3(l2, u2[c2]);
                  }
                }
              return t4;
            } };
          }
          Qn.__dashjs_factory_name = "ObjectIron";
          var Jn = c.Z.getClassFactory(Qn);
          function $n(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var er = function() {
            function e3(t4, n4) {
              !function(e4, t5) {
                if (!(e4 instanceof t5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this._test = t4, this._converter = n4;
            }
            var t3, n3;
            return t3 = e3, (n3 = [{ key: "test", get: function() {
              return this._test;
            } }, { key: "converter", get: function() {
              return this._converter;
            } }]) && $n(t3.prototype, n3), e3;
          }();
          function tr(e3) {
            return tr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, tr(e3);
          }
          function nr(e3, t3, n3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t3] = n3, e3;
          }
          function rr(e3, t3) {
            return rr = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, rr(e3, t3);
          }
          function ir(e3, t3) {
            return !t3 || "object" !== tr(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function ar(e3) {
            return ar = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, ar(e3);
          }
          var or = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && rr(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = ar(t3);
              if (n3) {
                var i3 = ar(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return ir(this, e4);
            });
            function i2() {
              return function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2), r3.call(this, function(e4, t4) {
                var n4, r4 = (nr(n4 = {}, o.Z.MPD, [o.Z.ID, o.Z.PROFILES]), nr(n4, o.Z.PERIOD, [o.Z.ID]), nr(n4, o.Z.BASE_URL, [o.Z.SERVICE_LOCATION, o.Z.BYTE_RANGE]), nr(n4, o.Z.SEGMENT_BASE, [o.Z.INDEX_RANGE]), nr(n4, o.Z.INITIALIZATION, [o.Z.RANGE]), nr(n4, o.Z.REPRESENTATION_INDEX, [o.Z.RANGE]), nr(n4, o.Z.SEGMENT_LIST, [o.Z.INDEX_RANGE]), nr(n4, o.Z.BITSTREAM_SWITCHING, [o.Z.RANGE]), nr(n4, o.Z.SEGMENT_URL, [o.Z.MEDIA_RANGE, o.Z.INDEX_RANGE]), nr(n4, o.Z.SEGMENT_TEMPLATE, [o.Z.INDEX_RANGE, o.Z.MEDIA, o.Z.INDEX, o.Z.INITIALIZATION_MINUS, o.Z.BITSTREAM_SWITCHING_MINUS]), nr(n4, o.Z.ASSET_IDENTIFIER, [o.Z.VALUE, o.Z.ID]), nr(n4, o.Z.EVENT_STREAM, [o.Z.VALUE]), nr(n4, o.Z.ADAPTATION_SET, [o.Z.PROFILES, o.Z.MIME_TYPE, o.Z.SEGMENT_PROFILES, o.Z.CODECS, o.Z.CONTENT_TYPE]), nr(n4, o.Z.FRAME_PACKING, [o.Z.VALUE, o.Z.ID]), nr(n4, o.Z.AUDIO_CHANNEL_CONFIGURATION, [o.Z.VALUE, o.Z.ID]), nr(n4, o.Z.CONTENT_PROTECTION, [o.Z.VALUE, o.Z.ID]), nr(n4, o.Z.ESSENTIAL_PROPERTY, [o.Z.VALUE, o.Z.ID]), nr(n4, o.Z.SUPPLEMENTAL_PROPERTY, [o.Z.VALUE, o.Z.ID]), nr(n4, o.Z.INBAND_EVENT_STREAM, [o.Z.VALUE, o.Z.ID]), nr(n4, o.Z.ACCESSIBILITY, [o.Z.VALUE, o.Z.ID]), nr(n4, o.Z.ROLE, [o.Z.VALUE, o.Z.ID]), nr(n4, o.Z.RATING, [o.Z.VALUE, o.Z.ID]), nr(n4, o.Z.VIEWPOINT, [o.Z.VALUE, o.Z.ID]), nr(n4, o.Z.CONTENT_COMPONENT, [o.Z.CONTENT_TYPE]), nr(n4, o.Z.REPRESENTATION, [o.Z.ID, o.Z.DEPENDENCY_ID, o.Z.MEDIA_STREAM_STRUCTURE_ID]), nr(n4, o.Z.SUBSET, [o.Z.ID]), nr(n4, o.Z.METRICS, [o.Z.METRICS_MINUS]), nr(n4, o.Z.REPORTING, [o.Z.VALUE, o.Z.ID]), n4);
                if (r4.hasOwnProperty(t4)) {
                  var i3 = r4[t4];
                  return void 0 !== i3 && i3.indexOf(e4.name) >= 0;
                }
                return false;
              }, function(e4) {
                return String(e4);
              });
            }
            return i2;
          }(er);
          function sr(e3) {
            return sr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, sr(e3);
          }
          function ur(e3, t3) {
            return ur = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, ur(e3, t3);
          }
          function lr(e3, t3) {
            return !t3 || "object" !== sr(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function cr(e3) {
            return cr = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, cr(e3);
          }
          var fr = /^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/, dr = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && ur(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = cr(t3);
              if (n3) {
                var i3 = cr(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return lr(this, e4);
            });
            function i2() {
              return function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2), r3.call(this, function(e4) {
                for (var t4 = [o.Z.MIN_BUFFER_TIME, o.Z.MEDIA_PRESENTATION_DURATION, o.Z.MINIMUM_UPDATE_PERIOD, o.Z.TIMESHIFT_BUFFER_DEPTH, o.Z.MAX_SEGMENT_DURATION, o.Z.MAX_SUBSEGMENT_DURATION, o.Z.SUGGESTED_PRESENTATION_DELAY, o.Z.START, a2.Z.START_TIME, o.Z.DURATION], n4 = t4.length, r4 = 0; r4 < n4; r4++)
                  if (e4.nodeName === t4[r4])
                    return fr.test(e4.value);
                return false;
              }, function(e4) {
                var t4 = fr.exec(e4), n4 = 31536e3 * parseFloat(t4[3] || 0) + 2592e3 * parseFloat(t4[5] || 0) + 86400 * parseFloat(t4[7] || 0) + 3600 * parseFloat(t4[9] || 0) + 60 * parseFloat(t4[11] || 0) + parseFloat(t4[13] || 0);
                return void 0 !== t4[1] && (n4 = -n4), n4;
              });
            }
            return i2;
          }(er);
          function gr(e3) {
            return gr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, gr(e3);
          }
          function hr(e3, t3) {
            return hr = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, hr(e3, t3);
          }
          function pr(e3, t3) {
            return !t3 || "object" !== gr(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function mr(e3) {
            return mr = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, mr(e3);
          }
          var yr = /^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/, Er = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && hr(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = mr(t3);
              if (n3) {
                var i3 = mr(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return pr(this, e4);
            });
            function i2() {
              return function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2), r3.call(this, function(e4) {
                return yr.test(e4.value);
              }, function(e4) {
                var t4, n4 = yr.exec(e4);
                if (t4 = Date.UTC(parseInt(n4[1], 10), parseInt(n4[2], 10) - 1, parseInt(n4[3], 10), parseInt(n4[4], 10), parseInt(n4[5], 10), n4[6] && parseInt(n4[6], 10) || 0, n4[7] && 1e3 * parseFloat(n4[7]) || 0), n4[9] && n4[10]) {
                  var r4 = 60 * parseInt(n4[9], 10) + parseInt(n4[10], 10);
                  t4 += ("+" === n4[8] ? -1 : 1) * r4 * 60 * 1e3;
                }
                return new Date(t4);
              });
            }
            return i2;
          }(er);
          function vr(e3) {
            return vr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, vr(e3);
          }
          function _r(e3, t3) {
            return _r = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, _r(e3, t3);
          }
          function Tr(e3, t3) {
            return !t3 || "object" !== vr(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function Sr(e3) {
            return Sr = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, Sr(e3);
          }
          var br = /^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/, Ar = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && _r(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = Sr(t3);
              if (n3) {
                var i3 = Sr(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return Tr(this, e4);
            });
            function i2() {
              return function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2), r3.call(this, function(e4) {
                return br.test(e4.value);
              }, function(e4) {
                return parseFloat(e4);
              });
            }
            return i2;
          }(er);
          function Ir(e3) {
            return Ir = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, Ir(e3);
          }
          function Rr(e3, t3, n3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t3] = n3, e3;
          }
          function wr(e3, t3) {
            return wr = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, wr(e3, t3);
          }
          function Nr(e3, t3) {
            return !t3 || "object" !== Ir(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function Cr(e3) {
            return Cr = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, Cr(e3);
          }
          var Dr = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && wr(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = Cr(t3);
              if (n3) {
                var i3 = Cr(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return Nr(this, e4);
            });
            function i2() {
              return function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2), r3.call(this, function(e4, t4) {
                var n4, r4 = (Rr(n4 = {}, o.Z.ADAPTATION_SET, [o.Z.LANG]), Rr(n4, o.Z.REPRESENTATION, [o.Z.LANG]), Rr(n4, o.Z.CONTENT_COMPONENT, [o.Z.LANG]), Rr(n4, o.Z.LABEL, [o.Z.LANG]), Rr(n4, o.Z.GROUP_LABEL, [o.Z.LANG]), n4);
                if (r4.hasOwnProperty(t4)) {
                  var i3 = r4[t4];
                  return void 0 !== i3 && i3.indexOf(e4.name) >= 0;
                }
                return false;
              }, function(e4) {
                return _n()(e4) || String(e4);
              });
            }
            return i2;
          }(er);
          function Or(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var Mr = function() {
            function e3(t4) {
              var n4;
              !function(e4, t5) {
                if (!(e4 instanceof t5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this._name = t4, this._merge = (n4 = t4) && n4.length && n4.charAt(0) === n4.charAt(0).toUpperCase();
            }
            var t3, n3;
            return t3 = e3, (n3 = [{ key: "name", get: function() {
              return this._name;
            } }, { key: "merge", get: function() {
              return this._merge;
            } }]) && Or(t3.prototype, n3), e3;
          }();
          function Pr(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var Lr = function() {
            function e3(t4, n4, r3) {
              var i2 = this;
              !function(e4, t5) {
                if (!(e4 instanceof t5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this._name = t4 || "", this._properties = [], this._children = r3 || [], Array.isArray(n4) && n4.forEach(function(e4) {
                i2._properties.push(new Mr(e4));
              });
            }
            var t3, n3;
            return t3 = e3, (n3 = [{ key: "name", get: function() {
              return this._name;
            } }, { key: "children", get: function() {
              return this._children;
            } }, { key: "properties", get: function() {
              return this._properties;
            } }]) && Pr(t3.prototype, n3), e3;
          }();
          function Fr(e3) {
            return Fr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, Fr(e3);
          }
          function xr(e3, t3) {
            return xr = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, xr(e3, t3);
          }
          function kr(e3, t3) {
            return !t3 || "object" !== Fr(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function Ur(e3) {
            return Ur = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, Ur(e3);
          }
          var Zr = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && xr(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = Ur(t3);
              if (n3) {
                var i3 = Ur(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return kr(this, e4);
            });
            function i2() {
              !function(e5, t4) {
                if (!(e5 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2);
              var e4 = [o.Z.PROFILES, o.Z.WIDTH, o.Z.HEIGHT, o.Z.SAR, o.Z.FRAMERATE, o.Z.AUDIO_SAMPLING_RATE, o.Z.MIME_TYPE, o.Z.SEGMENT_PROFILES, o.Z.CODECS, o.Z.MAXIMUM_SAP_PERIOD, o.Z.START_WITH_SAP, o.Z.MAX_PLAYOUT_RATE, o.Z.CODING_DEPENDENCY, o.Z.SCAN_TYPE, o.Z.FRAME_PACKING, o.Z.AUDIO_CHANNEL_CONFIGURATION, o.Z.CONTENT_PROTECTION, o.Z.ESSENTIAL_PROPERTY, o.Z.ESSENTIAL_PROPERTY + "_asArray", o.Z.SUPPLEMENTAL_PROPERTY, o.Z.INBAND_EVENT_STREAM];
              return r3.call(this, o.Z.ADAPTATION_SET, e4, [new Lr(o.Z.REPRESENTATION, e4, [new Lr(o.Z.SUB_REPRESENTATION, e4)])]);
            }
            return i2;
          }(Lr);
          function Br(e3) {
            return Br = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, Br(e3);
          }
          function Gr(e3, t3) {
            return Gr = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, Gr(e3, t3);
          }
          function qr(e3, t3) {
            return !t3 || "object" !== Br(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function Yr(e3) {
            return Yr = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, Yr(e3);
          }
          var jr = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && Gr(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = Yr(t3);
              if (n3) {
                var i3 = Yr(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return qr(this, e4);
            });
            function i2() {
              !function(e5, t4) {
                if (!(e5 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2);
              var e4 = [o.Z.SEGMENT_BASE, o.Z.SEGMENT_TEMPLATE, o.Z.SEGMENT_LIST];
              return r3.call(this, o.Z.PERIOD, e4, [new Lr(o.Z.ADAPTATION_SET, e4, [new Lr(o.Z.REPRESENTATION, e4)])]);
            }
            return i2;
          }(Lr);
          function Hr(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, a3, o2 = this.context, s3 = e3.debug;
            return t3 = { parse: function(e4) {
              var t4, r4 = window.performance.now();
              if (!(t4 = i2.xml_str2json(e4)))
                throw new Error("parsing the manifest failed");
              var o3 = window.performance.now();
              t4.Patch ? ((t4 = t4.Patch).add_asArray && t4.add_asArray.forEach(function(e5) {
                return a3.run(e5);
              }), t4.replace_asArray && t4.replace_asArray.forEach(function(e5) {
                return a3.run(e5);
              })) : (t4 = t4.MPD, a3.run(t4));
              var s4 = window.performance.now();
              return n3.info("Parsing complete: ( xml2json: " + (o3 - r4).toPrecision(3) + "ms, objectiron: " + (s4 - o3).toPrecision(3) + "ms, total: " + ((s4 - r4) / 1e3).toPrecision(3) + "s)"), t4.protocol = "DASH", t4;
            }, getMatchers: function() {
              return r3;
            }, getIron: function() {
              return a3;
            } }, n3 = s3.getLogger(t3), r3 = [new dr(), new Er(), new Ar(), new Dr(), new or()], i2 = new Vn({ escapeMode: false, attributePrefix: "", arrayAccessForm: "property", emptyNodeForm: "object", stripWhitespaces: false, enableToStringFunc: true, ignoreRoot: false, matchers: r3 }), a3 = Jn(o2).create({ adaptationset: new Zr(), period: new jr() }), t3;
          }
          Hr.__dashjs_factory_name = "DashParser";
          var Vr = c.Z.getClassFactory(Hr);
          function Kr(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, s3, c2 = this.context, f2 = e3.debug, d2 = e3.settings, g2 = (0, u.Z)(c2).getInstance(), h2 = (0, Q.Z)(c2).getInstance(), p2 = e3.mssHandler, m2 = e3.errHandler;
            function y2(e4) {
              g2.trigger(l.Z.INTERNAL_MANIFEST_LOADED, { manifest: e4.manifest });
            }
            function E2(e4) {
              var t4 = null;
              return e4.indexOf("SmoothStreamingMedia") > -1 ? (p2 && (t4 = p2.createMssParser(), p2.createMssFragmentProcessor(), p2.registerEvents()), t4) : e4.indexOf("MPD") > -1 || e4.indexOf("Patch") > -1 ? Vr(c2).create({ debug: f2 }) : t4;
            }
            return t3 = { load: function(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, a3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, o2 = /* @__PURE__ */ new Date(), u2 = new Yn(e4, C.w.MPD_TYPE);
              t4 && (u2.serviceLocation = t4), a3 && (u2.queryParams = a3), u2.requestStartDate || (u2.requestStartDate = o2), g2.trigger(l.Z.MANIFEST_LOADING_STARTED, { request: u2 }), r3.load({ request: u2, success: function(t5, r4, a4) {
                var o3, u3, c3;
                if (i2)
                  if (a4 && a4 !== e4 ? (u3 = h2.parseBaseUrl(a4), o3 = a4) : (h2.isRelative(e4) && (e4 = h2.resolve(e4, window.location.href)), u3 = h2.parseBaseUrl(e4)), "No Content" != r4)
                    if (null === s3 && (s3 = E2(t5)), null !== s3) {
                      i2.setMatchers(s3.getMatchers()), i2.setIron(s3.getIron());
                      try {
                        c3 = s3.parse(t5);
                      } catch (t6) {
                        return void g2.trigger(l.Z.INTERNAL_MANIFEST_LOADED, { manifest: null, error: new S.Z(w.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE, w.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE + "".concat(e4)) });
                      }
                      if (c3) {
                        if (c3.url = o3 || e4, c3.originalUrl || (c3.originalUrl = c3.url), d2 && d2.get().streaming.enableManifestDurationMismatchFix && c3.mediaPresentationDuration && c3.Period_asArray.length > 1) {
                          var f3 = c3.Period_asArray.reduce(function(e5, t6) {
                            return e5 + t6.duration;
                          }, 0);
                          !isNaN(f3) && c3.mediaPresentationDuration > f3 && (n3.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"), c3.mediaPresentationDuration = f3);
                        }
                        c3.baseUri = u3, c3.loadedTime = /* @__PURE__ */ new Date(), i2.resolveManifestOnLoad(c3), g2.trigger(l.Z.ORIGINAL_MANIFEST_LOADED, { originalManifest: t5 });
                      } else
                        g2.trigger(l.Z.INTERNAL_MANIFEST_LOADED, { manifest: null, error: new S.Z(w.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE, w.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE + "".concat(e4)) });
                    } else
                      g2.trigger(l.Z.INTERNAL_MANIFEST_LOADED, { manifest: null, error: new S.Z(w.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE, w.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE + "".concat(e4)) });
                  else
                    g2.trigger(l.Z.INTERNAL_MANIFEST_LOADED, { manifest: null });
              }, error: function(t5, n4, r4) {
                g2.trigger(l.Z.INTERNAL_MANIFEST_LOADED, { manifest: null, error: new S.Z(w.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE, w.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE + "".concat(e4, ", ").concat(r4)) });
              } });
            }, reset: function() {
              g2.off(l.Z.XLINK_READY, y2, t3), p2 && p2.reset(), i2 && (i2.reset(), i2 = null), r3 && (r3.abort(), r3 = null);
            } }, n3 = f2.getLogger(t3), g2.on(l.Z.XLINK_READY, y2, t3), r3 = St(c2).create({ errHandler: e3.errHandler, dashMetrics: e3.dashMetrics, mediaPlayerModel: e3.mediaPlayerModel, requestModifier: e3.requestModifier, urlUtils: h2, constants: a2.Z, dashConstants: o.Z, errors: w, requestTimeout: e3.settings.get().streaming.manifestRequestTimeout }), i2 = Wn(c2).create({ errHandler: m2, dashMetrics: e3.dashMetrics, mediaPlayerModel: e3.mediaPlayerModel, requestModifier: e3.requestModifier, settings: e3.settings }), s3 = null, t3;
          }
          Kr.__dashjs_factory_name = "ManifestLoader";
          var zr = c.Z.getClassFactory(Kr);
          function Wr() {
            var e3 = this.context, t3 = (0, u.Z)(e3).getInstance();
            return { error: function(e4) {
              t3.trigger(l.Z.ERROR, { error: e4 });
            } };
          }
          Wr.__dashjs_factory_name = "ErrorHandler";
          var Xr = c.Z.getSingletonFactory(Wr), Qr = n2(1715);
          function Jr() {
            var e3, t3, n3, r3, i2, o2, s3 = this.context, c2 = (0, u.Z)(s3).getInstance();
            function d2(e4, r4) {
              if (!r4 || !r4.Period_asArray || 0 === r4.Period_asArray.length)
                return Promise.resolve();
              var i3 = [];
              return r4.Period_asArray.forEach(function(r5) {
                i3.push(function(e5, r6) {
                  return new Promise(function(i4) {
                    if (e5 && e5.AdaptationSet_asArray && 0 !== e5.AdaptationSet_asArray.length) {
                      var s4 = [];
                      e5.AdaptationSet_asArray.forEach(function(e6) {
                        t3.getIsTypeOf(e6, r6) && s4.push(function(e7, r7) {
                          return new Promise(function(i5) {
                            if (e7.Representation_asArray && 0 !== e7.Representation_asArray.length) {
                              var s5 = [], u2 = [];
                              e7.Representation_asArray.forEach(function(i6, o3) {
                                var l2 = t3.getCodec(e7, o3, false), c3 = function(e8, t4, n4) {
                                  switch (e8) {
                                    case a2.Z.VIDEO:
                                      return function(e9, t5) {
                                        return { codec: t5, width: e9.width || null, height: e9.height || null, framerate: e9.frameRate || null, bitrate: e9.bandwidth || null };
                                      }(t4, n4);
                                    case a2.Z.AUDIO:
                                      return function(e9, t5) {
                                        var n5 = e9.audioSamplingRate || null;
                                        return { codec: t5, bitrate: e9.bandwidth || null, samplerate: n5 };
                                      }(t4, n4);
                                    default:
                                      return null;
                                  }
                                }(r7, i6, l2);
                                u2.push(c3), s5.push(n3.supportsCodec(c3, r7));
                              }), Promise.all(s5).then(function(t4) {
                                e7.Representation_asArray = e7.Representation_asArray.filter(function(e8, n4) {
                                  return t4[n4] || o2.debug("[Stream] Codec ".concat(u2[n4].codec, " not supported ")), t4[n4];
                                }), i5();
                              }).catch(function() {
                                i5();
                              });
                            } else
                              i5();
                          });
                        }(e6, r6));
                      }), Promise.all(s4).then(function() {
                        e5.AdaptationSet_asArray = e5.AdaptationSet_asArray.filter(function(e6) {
                          var t4 = e6.Representation_asArray && e6.Representation_asArray.length > 0;
                          return t4 || (c2.trigger(l.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES, { adaptationSet: e6 }), o2.warn("AdaptationSet has been removed because of no supported Representation")), t4;
                        }), i4();
                      }).catch(function() {
                        i4();
                      });
                    } else
                      i4();
                  });
                }(r5, e4));
              }), Promise.all(i3);
            }
            return e3 = { setConfig: function(e4) {
              e4 && (e4.adapter && (t3 = e4.adapter), e4.capabilities && (n3 = e4.capabilities), e4.settings && (r3 = e4.settings), e4.customParametersModel && (i2 = e4.customParametersModel));
            }, filterUnsupportedFeatures: function(e4) {
              return new Promise(function(s4) {
                var u2 = [];
                u2.push(d2(a2.Z.VIDEO, e4)), u2.push(d2(a2.Z.AUDIO, e4)), Promise.all(u2).then(function() {
                  r3.get().streaming.capabilities.filterUnsupportedEssentialProperties && function(e5) {
                    e5 && e5.Period_asArray && 0 !== e5.Period_asArray.length && e5.Period_asArray.forEach(function(e6) {
                      e6.AdaptationSet_asArray = e6.AdaptationSet_asArray.filter(function(e7) {
                        return !e7.Representation_asArray || 0 === e7.Representation_asArray.length || (e7.Representation_asArray = e7.Representation_asArray.filter(function(e8) {
                          var r4 = t3.getEssentialPropertiesForRepresentation(e8);
                          if (r4 && r4.length > 0)
                            for (var i3 = 0; i3 < r4.length; ) {
                              if (!n3.supportsEssentialProperty(r4[i3]))
                                return o2.debug("[Stream] EssentialProperty not supported: " + r4[i3].schemeIdUri), false;
                              i3 += 1;
                            }
                          return true;
                        }), e7.Representation_asArray && e7.Representation_asArray.length > 0);
                      });
                    });
                  }(e4), function(e5) {
                    var t4 = i2.getCustomCapabilitiesFilters();
                    t4 && 0 !== t4.length && e5 && e5.Period_asArray && 0 !== e5.Period_asArray.length && e5.Period_asArray.forEach(function(e6) {
                      e6.AdaptationSet_asArray = e6.AdaptationSet_asArray.filter(function(e7) {
                        return !e7.Representation_asArray || 0 === e7.Representation_asArray.length || (e7.Representation_asArray = e7.Representation_asArray.filter(function(e8) {
                          return !t4.some(function(t5) {
                            return !t5(e8);
                          });
                        }), e7.Representation_asArray && e7.Representation_asArray.length > 0);
                      });
                    });
                  }(e4), s4();
                }).catch(function() {
                  s4();
                });
              });
            } }, o2 = (0, f.Z)(s3).getInstance().getLogger(e3), e3;
          }
          Jr.__dashjs_factory_name = "CapabilitiesFilter";
          var $r = c.Z.getSingletonFactory(Jr), ei = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.t = null, this.xywh = null, this.track = null, this.id = null, this.s = null, this.r = null;
          };
          function ti() {
            var e3;
            return { initialize: function(t3) {
              if (e3 = new ei(), !t3)
                return null;
              var n3 = t3.indexOf("#");
              if (-1 !== n3)
                for (var r3 = t3.substr(n3 + 1).split("&"), i2 = 0, a3 = r3.length; i2 < a3; ++i2) {
                  var o2 = r3[i2], s3 = o2.indexOf("=");
                  if (-1 !== s3) {
                    var u2 = o2.substring(0, s3);
                    e3.hasOwnProperty(u2) && (e3[u2] = o2.substr(s3 + 1));
                  }
                }
            }, getURIFragmentData: function() {
              return e3;
            } };
          }
          ti.__dashjs_factory_name = "URIFragmentModel";
          var ni = c.Z.getSingletonFactory(ti);
          function ri() {
            var e3, t3 = this.context, n3 = (0, u.Z)(t3).getInstance();
            return { getValue: function() {
              return e3;
            }, setValue: function(t4) {
              e3 = t4, t4 && n3.trigger(l.Z.MANIFEST_LOADED, { data: t4 });
            } };
          }
          ri.__dashjs_factory_name = "ManifestModel";
          var ii = c.Z.getSingletonFactory(ri), ai = -0.5;
          function oi() {
            var e3, t3, n3, r3, i2 = this.context, a3 = (0, N.Z)(i2).getInstance();
            function o2(e4, n4) {
              return isNaN(e4) ? 0 : e4 > 0 ? (n4 && t3.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."), 0) : e4 < ai ? (n4 && t3.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(ai, ": ").concat(-50, "% playback speed.")), ai) : e4;
            }
            function s3(e4, n4) {
              return isNaN(e4) ? 0 : e4 < 0 ? (n4 && t3.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."), 0) : e4 > 1 ? (n4 && t3.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1, ": ").concat(200, "% playback speed.")), 1) : e4;
            }
            function u2() {
              var e4 = a3.get().streaming.buffer.stableBufferTime > 0 ? a3.get().streaming.buffer.stableBufferTime : a3.get().streaming.buffer.fastSwitchEnabled ? 20 : 12, t4 = n3.getLiveDelay();
              return !isNaN(t4) && t4 > 0 ? Math.min(e4, t4) : e4;
            }
            return e3 = { getCatchupMaxDrift: function() {
              if (!isNaN(a3.get().streaming.liveCatchup.maxDrift) && a3.get().streaming.liveCatchup.maxDrift > 0)
                return a3.get().streaming.liveCatchup.maxDrift;
              var e4 = r3.getServiceDescriptionSettings();
              return e4 && e4.liveCatchup && !isNaN(e4.liveCatchup.maxDrift) && e4.liveCatchup.maxDrift > 0 ? e4.liveCatchup.maxDrift : 12;
            }, getCatchupModeEnabled: function() {
              return null !== a3.get().streaming.liveCatchup.enabled ? a3.get().streaming.liveCatchup.enabled : n3.getInitialCatchupModeActivated();
            }, getStableBufferTime: u2, getInitialBufferLevel: function() {
              var e4 = a3.get().streaming.buffer.initialBufferLevel;
              return isNaN(e4) || e4 < 0 ? 0 : Math.min(u2(), e4);
            }, getRetryAttemptsForType: function(e4) {
              var t4 = isNaN(a3.get().streaming.retryAttempts.lowLatencyMultiplyFactor) ? 5 : a3.get().streaming.retryAttempts.lowLatencyMultiplyFactor;
              return n3.getLowLatencyModeEnabled() ? a3.get().streaming.retryAttempts[e4] * t4 : a3.get().streaming.retryAttempts[e4];
            }, getRetryIntervalsForType: function(e4) {
              var t4 = isNaN(a3.get().streaming.retryIntervals.lowLatencyReductionFactor) ? 10 : a3.get().streaming.retryIntervals.lowLatencyReductionFactor;
              return n3.getLowLatencyModeEnabled() ? a3.get().streaming.retryIntervals[e4] / t4 : a3.get().streaming.retryIntervals[e4];
            }, getCatchupPlaybackRates: function(e4) {
              var t4 = a3.get().streaming.liveCatchup.playbackRate;
              if (!isNaN(t4.min) || !isNaN(t4.max))
                return { min: o2(t4.min, e4), max: s3(t4.max, e4) };
              var n4 = r3.getServiceDescriptionSettings();
              if (n4 && n4.liveCatchup && (!isNaN(n4.liveCatchup.playbackRate.min) || !isNaN(n4.liveCatchup.playbackRate.max))) {
                var i3 = n4.liveCatchup.playbackRate;
                return { min: o2(i3.min, e4), max: s3(i3.max, e4) };
              }
              return { min: -0.5, max: 0.5 };
            }, getAbrBitrateParameter: function(e4, t4) {
              try {
                var n4 = a3.get().streaming.abr[e4][t4];
                if (!isNaN(n4) && -1 !== n4)
                  return n4;
                var i3 = r3.getServiceDescriptionSettings();
                return i3 && i3[e4] && !isNaN(i3[e4][t4]) ? i3[e4][t4] : -1;
              } catch (e5) {
                return -1;
              }
            }, setConfig: function(e4) {
              e4.playbackController && (n3 = e4.playbackController), e4.serviceDescriptionController && (r3 = e4.serviceDescriptionController);
            }, reset: function() {
            } }, t3 = (0, f.Z)(i2).getInstance().getLogger(e3), e3;
          }
          oi.__dashjs_factory_name = "MediaPlayerModel";
          var si = c.Z.getSingletonFactory(oi), ui = n2(1767);
          function li(e3) {
            var t3 = (e3 = e3 || {}).abrController, n3 = e3.switchHistory, r3 = e3.droppedFramesHistory, i2 = e3.currentRequest, a3 = e3.useBufferOccupancyABR, o2 = e3.useL2AABR, s3 = e3.useLoLPABR, u2 = e3.streamProcessor ? e3.streamProcessor.getScheduleController() : null, l2 = e3.streamProcessor ? e3.streamProcessor.getRepresentationInfo() : null, c2 = e3.videoModel ? e3.videoModel : null;
            function f2() {
              return l2 ? l2.mediaInfo : null;
            }
            return { getMediaType: function() {
              var e4 = f2();
              return e4 ? e4.type : null;
            }, getMediaInfo: f2, getDroppedFramesHistory: function() {
              return r3;
            }, getCurrentRequest: function() {
              return i2;
            }, getSwitchHistory: function() {
              return n3;
            }, getStreamInfo: function() {
              var e4 = f2();
              return e4 ? e4.streamInfo : null;
            }, getScheduleController: function() {
              return u2;
            }, getAbrController: function() {
              return t3;
            }, getRepresentationInfo: function() {
              return l2;
            }, useBufferOccupancyABR: function() {
              return a3;
            }, useL2AABR: function() {
              return o2;
            }, useLoLPABR: function() {
              return s3;
            }, getVideoModel: function() {
              return c2;
            } };
          }
          li.__dashjs_factory_name = "RulesContext";
          var ci = c.Z.getClassFactory(li), fi = n2(2068);
          function di() {
            var e3 = [], t3 = [];
            return { push: function(n3) {
              n3.newValue === fi.Z.NO_CHANGE && (n3.newValue = n3.oldValue), e3[n3.oldValue] || (e3[n3.oldValue] = { noDrops: 0, drops: 0, dropSize: 0 });
              var r3 = n3.newValue - n3.oldValue, i2 = r3 < 0 ? 1 : 0, a3 = i2 ? -r3 : 0, o2 = i2 ? 0 : 1;
              if (e3[n3.oldValue].drops += i2, e3[n3.oldValue].dropSize += a3, e3[n3.oldValue].noDrops += o2, t3.push({ idx: n3.oldValue, noDrop: o2, drop: i2, dropSize: a3 }), t3.length > 8) {
                var s3 = t3.shift();
                e3[s3.idx].drops -= s3.drop, e3[s3.idx].dropSize -= s3.dropSize, e3[s3.idx].noDrops -= s3.noDrop;
              }
            }, getSwitchRequests: function() {
              return e3;
            }, reset: function() {
              e3 = [], t3 = [];
            } };
          }
          di.__dashjs_factory_name = "SwitchRequestHistory";
          var gi = c.Z.getClassFactory(di);
          function hi() {
            var e3 = {}, t3 = {}, n3 = {};
            return { push: function(r3, i2, a3) {
              if (i2) {
                e3[r3] || (e3[r3] = [], t3[r3] = 0, n3[r3] = 0);
                var o2 = a3 && a3.droppedVideoFrames ? a3.droppedVideoFrames : 0, s3 = a3 && a3.totalVideoFrames ? a3.totalVideoFrames : 0, u2 = o2 - t3[r3];
                t3[r3] = o2;
                var l2 = s3 - n3[r3];
                n3[r3] = s3;
                var c2 = e3[r3];
                isNaN(i2) || (c2[i2] ? (c2[i2].droppedVideoFrames += u2, c2[i2].totalVideoFrames += l2) : c2[i2] = { droppedVideoFrames: u2, totalVideoFrames: l2 });
              }
            }, getFrameHistory: function(t4) {
              return e3[t4];
            }, clearForStream: function(r3) {
              try {
                delete e3[r3], delete t3[r3], delete n3[r3];
              } catch (e4) {
              }
            }, reset: function() {
              e3 = {}, t3 = {}, n3 = {};
            } };
          }
          hi.__dashjs_factory_name = "DroppedFramesHistory";
          var pi = c.Z.getClassFactory(hi);
          function mi(e3) {
            var t3, n3, r3, i2, o2, s3 = this.context, l2 = (e3 = e3 || {}).settings, c2 = (0, u.Z)(s3).getInstance();
            function f2(e4, t4, n4, r4) {
              var i3 = Math.pow(0.5, n4 / r4.fast);
              e4.fastEstimate = (1 - i3) * t4 + i3 * e4.fastEstimate;
              var a3 = Math.pow(0.5, n4 / r4.slow);
              e4.slowEstimate = (1 - a3) * t4 + a3 * e4.slowEstimate, e4.totalWeight += n4;
            }
            function g2(e4, s4, u2) {
              return l2.get().streaming.abr.movingAverageMethod !== a2.Z.MOVING_AVERAGE_SLIDING_WINDOW ? function(e5, t4) {
                var n4 = e5 ? o2.throughputHalfLife : o2.latencyHalfLife, a3 = e5 ? r3[t4] : i2[t4];
                if (!a3 || a3.totalWeight <= 0)
                  return NaN;
                var s5 = a3.fastEstimate / (1 - Math.pow(0.5, a3.totalWeight / n4.fast)), u3 = a3.slowEstimate / (1 - Math.pow(0.5, a3.totalWeight / n4.slow));
                return e5 ? Math.min(s5, u3) : Math.max(s5, u3);
              }(e4, s4) : function(e5, r4, i3) {
                var a3 = function(e6, r5, i4) {
                  var a4, o4;
                  if (e6 ? (a4 = t3[r5], o4 = i4 ? 3 : 4) : (a4 = n3[r5], o4 = 4), a4) {
                    if (o4 >= a4.length)
                      o4 = a4.length;
                    else if (e6)
                      for (var s5 = 1; s5 < o4; ++s5) {
                        var u3 = a4[a4.length - s5] / a4[a4.length - s5 - 1];
                        if ((u3 >= 1.3 || u3 <= 1 / 1.3) && (o4 += 1) === a4.length)
                          break;
                      }
                  } else
                    o4 = 0;
                  return o4;
                }(e5, r4, i3), o3 = (e5 ? t3 : n3)[r4];
                return 0 !== a3 && o3 && 0 !== o3.length ? (o3 = o3.slice(-a3)).reduce(function(e6, t4) {
                  return e6 + t4;
                }) / o3.length : NaN;
              }(e4, s4, u2);
            }
            function h2(e4, t4) {
              return g2(true, e4, t4);
            }
            function p2(e4) {
              t3[e4] = t3[e4] || [], n3[e4] = n3[e4] || [], r3[e4] = r3[e4] || { fastEstimate: 0, slowEstimate: 0, totalWeight: 0 }, i2[e4] = i2[e4] || { fastEstimate: 0, slowEstimate: 0, totalWeight: 0 };
            }
            function m2() {
              t3 = {}, n3 = {}, r3 = {}, i2 = {};
            }
            var y2 = { push: function(e4, s4, u2) {
              if (s4.trace && s4.trace.length) {
                var g3, h3 = s4.tresponse.getTime() - s4.trequest.getTime() || 1, m3 = s4._tfinish.getTime() - s4.tresponse.getTime() || 1, y3 = s4.trace.reduce(function(e5, t4) {
                  return e5 + t4.b[0];
                }, 0), E2 = 0;
                if (0 !== (g3 = s4._fileLoaderType && s4._fileLoaderType === a2.Z.FILE_LOADER_TYPES.FETCH ? s4.trace.reduce(function(e5, t4) {
                  return e5 + t4.d;
                }, 0) : u2 ? m3 : h3 + m3) && (E2 = Math.round(8 * y3 / g3)), s4.cmsd) {
                  var v2 = s4.cmsd.dynamic && s4.cmsd.dynamic.etp ? s4.cmsd.dynamic.etp : null;
                  if (v2) {
                    var _2 = l2.get().streaming.cmsd.abr.etpWeightRatio;
                    _2 > 0 && _2 <= 1 && (E2 = E2 * (1 - _2) + v2 * _2);
                  }
                }
                if (p2(e4), function(e5, t4, n4) {
                  return e5 === a2.Z.VIDEO ? n4 < l2.get().streaming.cacheLoadThresholds[a2.Z.VIDEO] : e5 === a2.Z.AUDIO ? n4 < l2.get().streaming.cacheLoadThresholds[a2.Z.AUDIO] : void 0;
                }(e4, 0, m3)) {
                  if (t3[e4].length > 0 && !t3[e4].hasCachedEntries)
                    return;
                  t3[e4].hasCachedEntries = true;
                } else
                  t3[e4] && t3[e4].hasCachedEntries && function(e5) {
                    delete t3[e5], delete n3[e5], delete r3[e5], delete i2[e5], p2(e5);
                  }(e4);
                t3[e4].push(E2), c2.trigger(d.Z.THROUGHPUT_MEASUREMENT_STORED, { throughput: E2, mediaType: e4, httpRequest: s4 }), t3[e4].length > 20 && t3[e4].shift(), n3[e4].push(h3), n3[e4].length > 20 && n3[e4].shift(), f2(r3[e4], E2, 1e-3 * m3, o2.throughputHalfLife), f2(i2[e4], h3, 1, o2.latencyHalfLife);
              }
            }, getAverageThroughput: h2, getSafeAverageThroughput: function(e4, t4) {
              var n4 = h2(e4, t4);
              return isNaN(n4) || (n4 *= l2.get().streaming.abr.bandwidthSafetyFactor), n4;
            }, getAverageLatency: function(e4) {
              return g2(false, e4);
            }, reset: m2 };
            return o2 = { throughputHalfLife: { fast: 3, slow: 8 }, latencyHalfLife: { fast: 1, slow: 2 } }, m2(), y2;
          }
          mi.__dashjs_factory_name = "ThroughputHistory";
          var yi = c.Z.getClassFactory(mi);
          function Ei() {
            var e3, t3, n3, r3, i2, o2, c2, g2, h2, p2, m2, y2, E2, v2, _2, S2, b2, A2, I2, R2, w2, N2, D2, O2, M2, P2, L2, F2 = this.context, x2 = (0, f.Z)(F2).getInstance(), k2 = (0, u.Z)(F2).getInstance();
            function U2() {
              i2 = {}, o2 = {}, g2 = {}, c2 = {}, R2 = {}, D2 = {}, O2 = {}, M2 = {}, void 0 === p2 && (p2 = false), w2 && w2.reset(), I2 = void 0, w2 = void 0, N2 = void 0, clearTimeout(h2), h2 = null;
            }
            function Z2(t4) {
              var i3 = t4.request.mediaType, a3 = t4.streamId;
              if (i3 && a3 && c2[a3] && L2.get().streaming.abr.autoSwitchBitrate[i3]) {
                var o3 = c2[a3][i3];
                if (o3) {
                  var u2 = ci(F2).create({ abrController: e3, streamProcessor: o3, currentRequest: t4.request, useBufferOccupancyABR: D2[i3], useL2AABR: O2[i3], useLoLPABR: M2[i3], videoModel: v2 }), l2 = n3.shouldAbandonFragment(u2, a3);
                  l2.quality > fi.Z.NO_CHANGE && o3.getFragmentModel().getRequests({ state: T.FRAGMENT_MODEL_LOADING, index: t4.request.index })[0] && (g2[a3][i3].state = s2.Z.ABANDON_LOAD, R2[a3][i3].reset(), R2[a3][i3].push({ oldValue: j2(i3, a3), newValue: l2.quality, confidence: 1, reason: l2.reason }), H2(i3, r3.getActiveStreamInfo(), l2.quality, l2.reason), clearTimeout(h2), h2 = setTimeout(function() {
                    g2[a3][i3].state = s2.Z.ALLOW_LOAD, h2 = null;
                  }, L2.get().streaming.abandonLoadTimeout));
                }
              }
            }
            function B2(e4) {
              e4.mediaType === a2.Z.VIDEO && (void 0 !== I2 && w2.push(e4.streamId, I2, v2.getPlaybackQuality()), I2 = e4.newQuality);
            }
            function G2(e4) {
              var n4, r4;
              e4.metric !== s2.Z.HTTP_REQUEST || !e4.value || e4.value.type !== C.w.MEDIA_SEGMENT_TYPE || e4.mediaType !== a2.Z.AUDIO && e4.mediaType !== a2.Z.VIDEO || N2.push(e4.mediaType, e4.value, L2.get().streaming.abr.useDeadTimeLatency), e4.metric !== s2.Z.BUFFER_LEVEL || e4.mediaType !== a2.Z.AUDIO && e4.mediaType !== a2.Z.VIDEO || (n4 = e4.mediaType, r4 = 1e-3 * e4.value.level, L2.get().streaming.abr.ABRStrategy === a2.Z.ABR_STRATEGY_DYNAMIC && function(e5, n5) {
                try {
                  var r5 = _2.getStableBufferTime(), i3 = r5, a3 = 0.5 * r5, o3 = D2[e5], s3 = n5 > (o3 ? a3 : i3);
                  D2[e5] = s3, s3 !== o3 && (s3 ? t3.info("[" + e5 + "] switching from throughput to buffer occupancy ABR rule (buffer: " + n5.toFixed(3) + ").") : t3.info("[" + e5 + "] switching from buffer occupancy to throughput ABR rule (buffer: " + n5.toFixed(3) + ")."));
                } catch (e6) {
                  t3.error(e6);
                }
              }(n4, r4));
            }
            function q2(e4, n4) {
              try {
                var r4;
                return i2[n4] = i2[n4] || {}, i2[n4].hasOwnProperty(e4) || (i2[n4][e4] = 0), r4 = function(e5, t4) {
                  var n5 = i2[t4][e5], r5 = n5;
                  if (!c2[t4] || !c2[t4][e5])
                    return r5;
                  var a3 = Y2(e5, t4);
                  void 0 !== a3 && (r5 = Math.max(n5, a3));
                  var o3 = function(e6, t5) {
                    try {
                      var n6 = _2.getAbrBitrateParameter("maxBitrate", e6);
                      return n6 > -1 ? W2(c2[t5][e6].getMediaInfo(), n6, t5) : void 0;
                    } catch (e7) {
                      return;
                    }
                  }(e5, t4);
                  return void 0 !== o3 && (r5 = Math.min(r5, o3)), r5;
                }(e4, n4), r4 = function(e5, t4, n5) {
                  var r5 = i2[n5][t4], a3 = L2.get().streaming.abr.maxRepresentationRatio[t4];
                  return isNaN(a3) || a3 >= 1 || a3 < 0 ? e5 : Math.min(e5, Math.round(r5 * a3));
                }(r4, e4, n4), r4 = function(e5, t4, n5) {
                  if (t4 !== a2.Z.VIDEO || !L2.get().streaming.abr.limitBitrateByPortal || !c2[n5] || !c2[n5][t4])
                    return e5;
                  p2 || Q2();
                  var r5 = c2[n5][t4].getStreamInfo(), i3 = E2.getAdaptationForType(r5.index, t4, r5).Representation_asArray, o3 = e5;
                  if (m2 > 0 && y2 > 0) {
                    for (; o3 > 0 && i3[o3] && m2 < i3[o3].width && m2 - i3[o3 - 1].width < i3[o3].width - m2; )
                      o3 -= 1;
                    for (; o3 < i3.length - 1 && i3[o3].width === i3[o3 + 1].width; )
                      o3 += 1;
                  }
                  return o3;
                }(r4, e4, n4), L2.get().streaming.cmsd.enabled && L2.get().streaming.cmsd.abr.applyMb && (r4 = function(e5, n5, r5) {
                  if ("video" !== n5)
                    return e5;
                  var i3 = b2.getMaxBitrate(n5);
                  if (i3 < 0)
                    return e5;
                  var a3 = K2(r5, "audio", j2("audio", r5));
                  i3 -= a3 ? a3.bitrate / 1e3 : 0;
                  var o3 = W2(c2[r5][n5].getMediaInfo(), i3, r5);
                  return t3.debug("Stream ID: " + r5 + " [" + n5 + "] Apply max bit rate from CMSD: " + i3), Math.min(e5, o3);
                }(r4, e4, n4)), r4;
              } catch (e5) {
                return;
              }
            }
            function Y2(e4, t4) {
              try {
                return function(e5, t5) {
                  try {
                    var n4 = _2.getAbrBitrateParameter("minBitrate", e5);
                    if (n4 > -1) {
                      var r4 = c2[t5][e5].getMediaInfo(), i3 = X2(r4), a3 = W2(r4, n4, t5);
                      return i3[a3] && a3 < i3.length - 1 && i3[a3].bitrate < 1e3 * n4 && a3++, a3;
                    }
                    return;
                  } catch (e6) {
                    return;
                  }
                }(e4, t4);
              } catch (e5) {
                return;
              }
            }
            function j2(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
              try {
                return t4 || (t4 = r3.getActiveStreamInfo().id), e4 && c2[t4] && c2[t4][e4] && t4 ? (o2[t4] = o2[t4] || {}, o2[t4].hasOwnProperty(e4) || (o2[t4][e4] = 0), o2[t4][e4]) : 0;
              } catch (e5) {
                return 0;
              }
            }
            function H2(e4, t4, n4) {
              var r4 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
              if (t4 && t4.id && e4) {
                var i3 = t4.id, a3 = j2(e4, i3);
                (0, z.SE)(n4);
                var o3 = q2(e4, i3);
                n4 !== a3 && n4 >= 0 && n4 <= o3 && V2(e4, a3, n4, o3, r4, i3);
              }
            }
            function V2(e4, n4, r4, i3, a3, s3) {
              if (e4 && c2[s3] && c2[s3][e4]) {
                var u2 = c2[s3][e4].getStreamInfo(), f2 = u2 && u2.manifestInfo && u2.manifestInfo.isDynamic, d2 = P2.getCurrentBufferLevel(e4);
                t3.info("Stream ID: " + s3 + " [" + e4 + "] switch from " + n4 + " to " + r4 + "/" + i3 + " (buffer: " + d2 + ") " + (a3 ? JSON.stringify(a3) : ".")), o2[s3] = o2[s3] || {}, o2[s3][e4] = r4;
                var g3 = K2(s3, e4, r4);
                k2.trigger(l.Z.QUALITY_CHANGE_REQUESTED, { oldQuality: n4, newQuality: r4, reason: a3, streamInfo: u2, bitrateInfo: g3, maxIdx: i3, mediaType: e4 }, { streamId: u2.id, mediaType: e4 });
                var h3 = N2.getAverageThroughput(e4, f2);
                isNaN(h3) || A2.setSavedBitrateSettings(e4, h3);
              }
            }
            function K2(e4, t4, n4) {
              if (t4 && c2 && c2[e4] && c2[e4][t4]) {
                var r4 = X2(c2[e4][t4].getMediaInfo());
                return r4[n4] ? r4[n4] : null;
              }
              return null;
            }
            function W2(e4, t4, n4) {
              var r4 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null, i3 = e4 && e4.type ? c2[n4][e4.type].getRepresentationInfo() : null;
              if (L2.get().streaming.abr.useDeadTimeLatency && r4 && i3 && i3.fragmentDuration) {
                r4 /= 1e3;
                var a3 = i3.fragmentDuration;
                if (r4 > a3)
                  return 0;
                var o3 = r4 / a3;
                t4 *= 1 - o3;
              }
              for (var s3 = X2(e4), u2 = s3.length - 1; u2 >= 0; u2--) {
                var l2 = s3[u2];
                if (1e3 * t4 >= l2.bitrate)
                  return u2;
              }
              return 0;
            }
            function X2(e4) {
              var t4 = [];
              if (!e4 || !e4.bitrateList)
                return t4;
              for (var n4, r4 = e4.bitrateList, i3 = e4.type, a3 = 0, o3 = r4.length; a3 < o3; a3++)
                (n4 = new Ft()).mediaType = i3, n4.qualityIndex = a3, n4.bitrate = r4[a3].bandwidth, n4.width = r4[a3].width, n4.height = r4[a3].height, n4.scanType = r4[a3].scanType, t4.push(n4);
              return t4;
            }
            function Q2() {
              if (v2) {
                var e4 = L2.get().streaming.abr.usePixelRatioInLimitBitrateByPortal && window.hasOwnProperty("devicePixelRatio") ? window.devicePixelRatio : 1;
                m2 = v2.getClientWidth() * e4, y2 = v2.getClientHeight() * e4;
              }
            }
            return e3 = { initialize: function() {
              w2 = pi(F2).create(), N2 = yi(F2).create({ settings: L2 }), (n3 = (0, ui.Z)(F2).create({ dashMetrics: P2, customParametersModel: S2, mediaPlayerModel: _2, settings: L2 })).initialize(), k2.on(d.Z.QUALITY_CHANGE_RENDERED, B2, e3), k2.on(d.Z.METRIC_ADDED, G2, e3), k2.on(l.Z.LOADING_PROGRESS, Z2, e3);
            }, isPlayingAtTopQuality: function(e4) {
              var t4 = e4 ? e4.id : null, n4 = j2(a2.Z.AUDIO, t4), r4 = j2(a2.Z.VIDEO, t4);
              return n4 === q2(a2.Z.AUDIO, t4) && r4 === q2(a2.Z.VIDEO, t4);
            }, updateTopQualityIndex: function(e4) {
              var t4 = e4.type, n4 = e4.streamInfo.id, r4 = e4.representationCount - 1;
              return i2[n4] = i2[n4] || {}, i2[n4][t4] = r4, r4;
            }, clearDataForStream: function(e4) {
              w2 && w2.clearForStream(e4), c2[e4] && delete c2[e4], R2[e4] && delete R2[e4], g2[e4] && delete g2[e4];
            }, getThroughputHistory: function() {
              return N2;
            }, getBitrateList: X2, getQualityForBitrate: W2, getTopBitrateInfoFor: function(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
              if (t4 || (t4 = r3.getActiveStreamInfo().id), e4 && c2 && c2[t4] && c2[t4][e4]) {
                var n4 = q2(e4, t4), i3 = X2(c2[t4][e4].getMediaInfo());
                return i3[n4] ? i3[n4] : null;
              }
              return null;
            }, getMinAllowedIndexFor: Y2, getMaxAllowedIndexFor: q2, getInitialBitrateFor: function(e4, t4) {
              if (function() {
                if (!A2 || !A2.hasOwnProperty("getSavedBitrateSettings"))
                  throw new Error(a2.Z.MISSING_CONFIG_ERROR);
              }(), e4 === a2.Z.TEXT)
                return NaN;
              var n4 = A2.getSavedBitrateSettings(e4), r4 = _2.getAbrBitrateParameter("initialBitrate", e4), i3 = L2.get().streaming.abr.initialRepresentationRatio[e4];
              if (-1 === r4)
                if (i3 > -1) {
                  var o3 = c2[t4][e4].getStreamInfo(), s3 = E2.getAdaptationForType(o3.index, e4, o3).Representation_asArray;
                  r4 = Array.isArray(s3) ? s3[Math.max(Math.round(s3.length * i3) - 1, 0)].bandwidth / 1e3 : 0;
                } else
                  r4 = isNaN(n4) ? e4 === a2.Z.VIDEO ? 1e3 : 100 : n4;
              return r4;
            }, getQualityFor: j2, getAbandonmentStateFor: function(e4, t4) {
              return g2[e4] && g2[e4][t4] ? g2[e4][t4].state : null;
            }, setPlaybackQuality: H2, checkPlaybackQuality: function(t4, r4) {
              try {
                if (!(t4 && c2 && c2[r4] && c2[r4][t4]))
                  return false;
                if (w2) {
                  var i3 = v2.getPlaybackQuality();
                  i3 && w2.push(r4, I2, i3);
                }
                if (!L2.get().streaming.abr.autoSwitchBitrate[t4])
                  return false;
                var a3 = j2(t4, r4), o3 = ci(F2).create({ abrController: e3, switchHistory: R2[r4][t4], droppedFramesHistory: w2, streamProcessor: c2[r4][t4], currentValue: a3, useBufferOccupancyABR: D2[t4], useL2AABR: O2[t4], useLoLPABR: M2[t4], videoModel: v2 }), u2 = Y2(t4, r4), l2 = q2(t4, r4), f2 = n3.getMaxQuality(o3), d2 = f2.quality;
                return void 0 !== u2 && (d2 > fi.Z.NO_CHANGE ? d2 : a3) < u2 && (d2 = u2), d2 > l2 && (d2 = l2), R2[r4][t4].push({ oldValue: a3, newValue: d2 }), d2 > fi.Z.NO_CHANGE && d2 !== a3 && (g2[r4][t4].state === s2.Z.ALLOW_LOAD || d2 < a3) && (V2(t4, a3, d2, l2, f2.reason, r4), true);
              } catch (e4) {
                return false;
              }
            }, setElementSize: Q2, setWindowResizeEventCalled: function(e4) {
              p2 = e4;
            }, registerStreamType: function(e4, t4) {
              var n4 = t4.getStreamInfo().id;
              c2[n4] || (c2[n4] = {}), R2[n4] || (R2[n4] = {}), g2[n4] || (g2[n4] = {}), R2[n4][e4] = gi(F2).create(), c2[n4][e4] = t4, g2[n4][e4] = {}, g2[n4][e4].state = s2.Z.ALLOW_LOAD, function(e5) {
                var t5 = L2.get().streaming.abr.ABRStrategy;
                t5 === a2.Z.ABR_STRATEGY_L2A ? (D2[e5] = false, M2[e5] = false, O2[e5] = true) : t5 === a2.Z.ABR_STRATEGY_LoLP ? (D2[e5] = false, M2[e5] = true, O2[e5] = false) : t5 === a2.Z.ABR_STRATEGY_BOLA ? (D2[e5] = true, M2[e5] = false, O2[e5] = false) : t5 === a2.Z.ABR_STRATEGY_THROUGHPUT ? (D2[e5] = false, M2[e5] = false, O2[e5] = false) : t5 === a2.Z.ABR_STRATEGY_DYNAMIC && (D2[e5] = !(!D2 || !D2[e5]) && D2[e5], M2[e5] = false, O2[e5] = false);
              }(e4), e4 === a2.Z.VIDEO && Q2();
            }, unRegisterStreamType: function(e4, t4) {
              try {
                c2[e4] && c2[e4][t4] && delete c2[e4][t4], R2[e4] && R2[e4][t4] && delete R2[e4][t4], g2[e4] && g2[e4][t4] && delete g2[e4][t4];
              } catch (e5) {
              }
            }, setConfig: function(e4) {
              e4 && (e4.streamController && (r3 = e4.streamController), e4.domStorage && (A2 = e4.domStorage), e4.mediaPlayerModel && (_2 = e4.mediaPlayerModel), e4.customParametersModel && (S2 = e4.customParametersModel), e4.cmsdModel && (b2 = e4.cmsdModel), e4.dashMetrics && (P2 = e4.dashMetrics), e4.adapter && (E2 = e4.adapter), e4.videoModel && (v2 = e4.videoModel), e4.settings && (L2 = e4.settings));
            }, reset: function() {
              U2(), k2.off(l.Z.LOADING_PROGRESS, Z2, e3), k2.off(d.Z.QUALITY_CHANGE_RENDERED, B2, e3), k2.off(d.Z.METRIC_ADDED, G2, e3), n3 && n3.reset();
            } }, t3 = x2.getLogger(e3), U2(), e3;
          }
          Ei.__dashjs_factory_name = "AbrController";
          var vi = c.Z.getSingletonFactory(Ei);
          vi.QUALITY_DEFAULT = 0, c.Z.updateSingletonFactory(Ei.__dashjs_factory_name, vi);
          var _i = vi, Ti = /* @__PURE__ */ new Map([[a2.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA, "loadedmetadata"], [a2.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA, "loadeddata"], [a2.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA, "canplay"], [a2.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA, "canplaythrough"]]);
          function Si() {
            var e3, t3, n3, r3, i2, o2, s3, c2, d2 = this.context, g2 = (0, u.Z)(d2).getInstance(), h2 = [];
            function p2() {
              n3 && (n3.playbackRate = 1, n3.removeEventListener("canplay", p2));
            }
            function m2() {
              return h2.length > 0;
            }
            function y2() {
              if (n3 && m2() && 0 === n3.playbackRate) {
                var e4 = document.createEvent("Event");
                e4.initEvent("waiting", true, false), n3.dispatchEvent(e4);
              }
            }
            function E2(e4, t4) {
              n3 && n3.addEventListener(e4, t4);
            }
            function v2(e4, t4) {
              n3 && n3.removeEventListener(e4, t4);
            }
            function _2() {
              return n3 ? n3.readyState : NaN;
            }
            function T2() {
              return n3 ? n3.buffered : null;
            }
            function S2(e4, t4, r4, i3, a3) {
              if (n3) {
                for (var o3 = 0; o3 < n3.textTracks.length; o3++)
                  if (n3.textTracks[o3].kind === e4 && (!t4 || n3.textTracks[o3].label == t4) && n3.textTracks[o3].language === r4 && n3.textTracks[o3].isTTML === i3 && n3.textTracks[o3].isEmbedded === a3)
                    return n3.textTracks[o3];
              }
              return null;
            }
            function b2(e4, t4) {
              return e4 === a2.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING || _2() >= e4 ? (t4(), null) : function(e5, t5) {
                var n4 = function n5() {
                  v2(e5, n5), t5(e5);
                };
                return E2(e5, n4), { func: n4, event: e5 };
              }(Ti.get(e4), t4);
            }
            return e3 = { addEventListener: E2, addTextTrack: function(e4, t4, r4, i3, a3) {
              if (!n3)
                return null;
              var o3 = S2(e4, t4, r4, i3, a3);
              return o3 || ((o3 = n3.addTextTrack(e4, t4, r4)).isEmbedded = a3, o3.isTTML = i3), o3;
            }, appendChild: function(e4) {
              n3 && (n3.appendChild(e4), void 0 !== e4.isTTML && (n3.textTracks[n3.textTracks.length - 1].isTTML = e4.isTTML, n3.textTracks[n3.textTracks.length - 1].isEmbedded = e4.isEmbedded));
            }, getBufferRange: T2, getClientHeight: function() {
              return n3 ? n3.clientHeight : NaN;
            }, getClientWidth: function() {
              return n3 ? n3.clientWidth : NaN;
            }, getElement: function() {
              return n3;
            }, getEnded: function() {
              return n3 ? n3.ended : null;
            }, getPlaybackQuality: function() {
              if (!n3)
                return null;
              var e4 = "webkitDroppedFrameCount" in n3 && "webkitDecodedFrameCount" in n3, t4 = null;
              return "getVideoPlaybackQuality" in n3 ? t4 = n3.getVideoPlaybackQuality() : e4 && (t4 = { droppedVideoFrames: n3.webkitDroppedFrameCount, totalVideoFrames: n3.webkitDroppedFrameCount + n3.webkitDecodedFrameCount, creationTime: /* @__PURE__ */ new Date() }), t4;
            }, getPlaybackRate: function() {
              return n3 ? n3.playbackRate : null;
            }, getPlayedRanges: function() {
              return n3 ? n3.played : null;
            }, getReadyState: _2, getSource: function() {
              return n3 ? n3.src : null;
            }, getTTMLRenderingDiv: function() {
              return o2;
            }, getTextTrack: S2, getTextTracks: function() {
              return n3 ? n3.textTracks : [];
            }, getTime: function() {
              return n3 ? isNaN(r3) ? n3.currentTime : r3 : null;
            }, getVideoHeight: function() {
              return n3 ? n3.videoHeight : NaN;
            }, getVideoRelativeOffsetLeft: function() {
              if (n3) {
                var e4 = n3.parentNode.host || n3.parentNode;
                return e4 ? n3.getBoundingClientRect().left - e4.getBoundingClientRect().left : NaN;
              }
              return NaN;
            }, getVideoRelativeOffsetTop: function() {
              if (n3) {
                var e4 = n3.parentNode.host || n3.parentNode;
                return e4 ? n3.getBoundingClientRect().top - e4.getBoundingClientRect().top : NaN;
              }
              return NaN;
            }, getVideoWidth: function() {
              return n3 ? n3.videoWidth : NaN;
            }, getVttRenderingDiv: function() {
              return s3;
            }, initialize: function() {
              g2.on(l.Z.PLAYBACK_PLAYING, y2, this);
            }, isPaused: function() {
              return n3 ? n3.paused : null;
            }, isSeeking: function() {
              return n3 ? n3.seeking || !isNaN(r3) : null;
            }, isStalled: m2, pause: function() {
              n3 && (n3.pause(), n3.autoplay = false);
            }, play: function() {
              if (n3) {
                n3.autoplay = true;
                var e4 = n3.play();
                e4 && e4.catch && "undefined" != typeof Promise && e4.catch(function(e5) {
                  "NotAllowedError" === e5.name && g2.trigger(l.Z.PLAYBACK_NOT_ALLOWED), t3.warn("Caught pending play exception - continuing (".concat(e5, ")"));
                });
              }
            }, removeChild: function(e4) {
              n3 && n3.removeChild(e4);
            }, removeEventListener: v2, reset: function() {
              clearTimeout(c2), g2.off(l.Z.PLAYBACK_PLAYING, y2, this);
            }, setCurrentTime: function(e4, t4) {
              n3 && (i2 && i2.func && i2.event && v2(i2.event, i2.func), r3 = e4, i2 = b2(a2.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA, function() {
                if (n3)
                  if (n3.currentTime !== r3)
                    try {
                      r3 = t4 ? function(e5) {
                        var t5 = T2(), n4 = e5, r4 = 9999999999;
                        if (t5)
                          for (var i3 = 0; i3 < t5.length; i3++) {
                            var a3 = t5.start(i3), o3 = t5.end(i3), s4 = Math.abs(a3 - e5), u2 = Math.abs(o3 - e5);
                            if (e5 >= a3 && e5 <= o3)
                              return e5;
                            s4 < r4 && (r4 = s4, n4 = a3), u2 < r4 && (r4 = u2, n4 = o3);
                          }
                        return n4;
                      }(r3) : r3, isNaN(r3) || (n3.currentTime = r3), r3 = NaN;
                    } catch (e5) {
                      0 === n3.readyState && e5.code === e5.INVALID_STATE_ERR && (c2 = setTimeout(function() {
                        n3.currentTime = r3, r3 = NaN;
                      }, 400));
                    }
                  else
                    r3 = NaN;
              }));
            }, setElement: function(e4) {
              if (!(null == e4 || e4 && /^(VIDEO|AUDIO)$/i.test(e4.nodeName)))
                throw "element is not video or audio DOM type!";
              (n3 = e4) && (n3.preload = "auto");
            }, setPlaybackRate: function(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
              n3 && (!t4 && n3.readyState <= 2 && e4 > 0 ? n3.addEventListener("canplay", p2) : n3.playbackRate = e4);
            }, setSource: function(e4) {
              n3 && (e4 ? n3.src = e4 : (n3.removeAttribute("src"), n3.load()));
            }, setStallState: function(e4, t4) {
              !function(e5, t5) {
                t5 ? function(e6) {
                  null !== e6 && n3 && !n3.seeking && -1 === h2.indexOf(e6) && h2.push(e6);
                }(e5) : function(e6) {
                  var t6 = h2.indexOf(e6);
                  null !== e6 && -1 !== t6 && h2.splice(t6, 1);
                }(e5);
              }(e4, t4);
            }, setTTMLRenderingDiv: function(e4) {
              (o2 = e4).style.position = "absolute", o2.style.display = "flex", o2.style.overflow = "hidden", o2.style.pointerEvents = "none", o2.style.top = 0, o2.style.left = 0;
            }, setVttRenderingDiv: function(e4) {
              s3 = e4;
            }, waitForReadyState: b2, setDisableRemotePlayback: function(e4) {
              n3 && (n3.disableRemotePlayback = e4);
            } }, t3 = (0, f.Z)(d2).getInstance().getLogger(e3), r3 = NaN, e3;
          }
          Si.__dashjs_factory_name = "VideoModel";
          var bi = c.Z.getSingletonFactory(Si), Ai = [{ oldKey: "dashjs_vbitrate", newKey: "dashjs_video_bitrate" }, { oldKey: "dashjs_abitrate", newKey: "dashjs_audio_bitrate" }, { oldKey: "dashjs_vsettings", newKey: "dashjs_video_settings" }, { oldKey: "dashjs_asettings", newKey: "dashjs_audio_settings" }], Ii = "dashjs_?_bitrate", Ri = "dashjs_?_settings", wi = "localStorage", Ni = "lastBitrate", Ci = "lastMediaSettings";
          function Di(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2 = this.context, o2 = e3.settings;
            function s3(e4) {
              if (void 0 !== r3)
                return r3;
              var t4;
              r3 = false;
              try {
                "undefined" != typeof window && (t4 = window[e4]);
              } catch (e5) {
                return n3.warn("DOMStorage access denied: " + e5.message), r3;
              }
              if (!t4 || e4 !== wi && "sessionStorage" !== e4)
                return r3;
              try {
                t4.setItem("1", "1"), t4.removeItem("1"), r3 = true;
              } catch (e5) {
                n3.warn("DOMStorage is supported, but cannot be used: " + e5.message);
              }
              return r3;
            }
            function u2() {
              var e4 = 6e5;
              return Math.round((/* @__PURE__ */ new Date()).getTime() / e4) * e4;
            }
            function l2(e4, t4) {
              return s3(e4) && o2.get().streaming[t4 + "CachingInfo"].enabled;
            }
            function c2() {
              if (!o2)
                throw new Error(a2.Z.MISSING_CONFIG_ERROR);
            }
            return t3 = { getSavedBitrateSettings: function(e4) {
              if (c2(), !o2.get().streaming.lastBitrateCachingInfo.enabled)
                return NaN;
              var t4 = NaN;
              if (l2(wi, Ni)) {
                var r4 = Ii.replace(/\?/, e4);
                try {
                  var i3 = JSON.parse(localStorage.getItem(r4)) || {}, a3 = (/* @__PURE__ */ new Date()).getTime() - parseInt(i3.timestamp, 10) >= o2.get().streaming.lastBitrateCachingInfo.ttl || false, s4 = parseFloat(i3.bitrate);
                  isNaN(s4) || a3 ? a3 && localStorage.removeItem(r4) : (t4 = s4, n3.debug("Last saved bitrate for " + e4 + " was " + s4));
                } catch (e5) {
                  return null;
                }
              }
              return t4;
            }, setSavedBitrateSettings: function(e4, t4) {
              if (l2(wi, Ni) && t4) {
                var r4 = Ii.replace(/\?/, e4);
                try {
                  localStorage.setItem(r4, JSON.stringify({ bitrate: t4.toFixed(3), timestamp: u2() }));
                } catch (e5) {
                  n3.error(e5.message);
                }
              }
            }, getSavedMediaSettings: function(e4) {
              if (c2(), !o2.get().streaming.lastMediaSettingsCachingInfo.enabled)
                return null;
              var t4 = null;
              if (l2(wi, Ci)) {
                var n4 = Ri.replace(/\?/, e4);
                try {
                  var r4 = JSON.parse(localStorage.getItem(n4)) || {}, i3 = (/* @__PURE__ */ new Date()).getTime() - parseInt(r4.timestamp, 10) >= o2.get().streaming.lastMediaSettingsCachingInfo.ttl || false;
                  t4 = r4.settings, i3 && (localStorage.removeItem(n4), t4 = null);
                } catch (e5) {
                  return null;
                }
              }
              return t4;
            }, setSavedMediaSettings: function(e4, t4) {
              if (l2(wi, Ci)) {
                var r4 = Ri.replace(/\?/, e4);
                try {
                  localStorage.setItem(r4, JSON.stringify({ settings: t4, timestamp: u2() }));
                } catch (e5) {
                  n3.error(e5.message);
                }
              }
            } }, n3 = (0, f.Z)(i2).getInstance().getLogger(t3), s3(wi) && Ai.forEach(function(e4) {
              var t4 = localStorage.getItem(e4.oldKey);
              if (t4) {
                localStorage.removeItem(e4.oldKey);
                try {
                  localStorage.setItem(e4.newKey, t4);
                } catch (e5) {
                  n3.error(e5.message);
                }
              }
            }), t3;
          }
          Di.__dashjs_factory_name = "DOMStorage";
          var Oi = c.Z.getSingletonFactory(Di), Mi = n2(2032), Pi = n2(2011);
          function Li() {
            var e3, t3, n3, r3, i2, a3, o2, s3, u2, l2, c2, f2, d2, g2 = this.context;
            function h2(e4, n4, i3, a4) {
              var o3 = null, u3 = e4 ? d2.resolve(e4.path) : null, l3 = a4 || { init: true, url: u3 ? u3.url : void 0, range: { start: 0, end: 1500 }, searching: false, bytesLoaded: 0, bytesToLoad: 1500, mediaType: n4 };
              t3.debug("Start searching for initialization.");
              var c3 = E2(l3);
              s3.load({ request: c3, success: function(t4) {
                if (l3.bytesLoaded = l3.range.end, !(o3 = r3.findInitRange(t4)))
                  return l3.range.end = l3.bytesLoaded + l3.bytesToLoad, h2(e4, n4, i3, l3);
                e4.range = o3, i3(e4);
              }, error: function() {
                i3(e4);
              } }), t3.debug("Perform init search: " + l3.url);
            }
            function m2(e4, n4, i3, a4, o3, u3) {
              if (i3 && (void 0 === i3.start || void 0 === i3.end)) {
                var l3 = i3 ? i3.toString().split("-") : null;
                i3 = l3 ? { start: parseFloat(l3[0]), end: parseFloat(l3[1]) } : null;
              }
              o3 = o3 || y2;
              var c3 = null, f3 = null, g3 = !!i3, h3 = e4 ? d2.resolve(e4.path) : null, p2 = { init: false, url: h3 ? h3.url : void 0, range: g3 ? i3 : { start: 0, end: 1500 }, searching: !g3, bytesLoaded: u3 ? u3.bytesLoaded : 0, bytesToLoad: 1500, mediaType: n4 }, v2 = E2(p2);
              s3.load({ request: v2, success: function(i4) {
                var s4 = p2.bytesToLoad, u4 = i4.byteLength;
                if (p2.bytesLoaded = p2.range.end - p2.range.start, c3 = r3.parse(i4), (f3 = c3.getBox("sidx")) && f3.isComplete) {
                  var l4, d3, g4 = f3.references;
                  if (null != g4 && g4.length > 0 && (l4 = 1 === g4[0].reference_type), l4) {
                    var h4, y3, E3, v3;
                    t3.debug("Initiate multiple SIDX load."), p2.range.end = p2.range.start + f3.size;
                    var _2 = [], T2 = 0, S2 = (f3.offset || p2.range.start) + f3.size, b2 = function(t4) {
                      t4 ? (_2 = _2.concat(t4), ++T2 >= y3 && (_2.sort(function(e5, t5) {
                        return e5.startTime - t5.startTime < 0 ? -1 : 0;
                      }), o3(_2, e4, a4))) : o3(null, e4, a4);
                    };
                    for (h4 = 0, y3 = g4.length; h4 < y3; h4++)
                      E3 = S2, v3 = S2 + g4[h4].referenced_size - 1, S2 += g4[h4].referenced_size, m2(e4, n4, { start: E3, end: v3 }, a4, b2, p2);
                  } else
                    t3.debug("Parsing segments from SIDX. representation " + n4 + " - id: " + e4.id + " for range : " + p2.range.start + " - " + p2.range.end), d3 = function(e5, t4) {
                      for (var n5, r4, i5, a5, o4 = e5.references, s5 = o4.length, u5 = e5.timescale, l5 = e5.earliest_presentation_time, c4 = t4.range.start + e5.offset + e5.first_offset + e5.size, f4 = [], d4 = 0; d4 < s5; d4++)
                        i5 = o4[d4].subsegment_duration, a5 = o4[d4].referenced_size, (n5 = new Pi.Z()).duration = i5, n5.startTime = l5, n5.timescale = u5, r4 = c4 + a5 - 1, n5.mediaRange = c4 + "-" + r4, f4.push(n5), l5 += i5, c4 += a5;
                      return f4;
                    }(f3, p2), o3(d3, e4, a4);
                } else {
                  if (f3)
                    p2.range.start = f3.offset || p2.range.start, p2.range.end = p2.range.start + (f3.size || s4);
                  else {
                    if (u4 < p2.bytesLoaded)
                      return void o3(null, e4, a4);
                    var A2 = c3.getLastBox();
                    A2 && A2.size ? (p2.range.start = A2.offset + A2.size, p2.range.end = p2.range.start + s4) : p2.range.end += s4;
                  }
                  m2(e4, n4, p2.range, a4, null, p2);
                }
              }, error: function() {
                o3(null, e4, a4);
              } }), t3.debug("Perform SIDX load for type ".concat(n4, " : ").concat(p2.url, " with range ").concat(p2.range.start, " - ").concat(p2.range.end));
            }
            function y2(e4, t4, n4) {
              n4({ segments: e4, representation: t4, error: e4 ? void 0 : new S.Z(u2.SEGMENT_BASE_LOADER_ERROR_CODE, u2.SEGMENT_BASE_LOADER_ERROR_MESSAGE) });
            }
            function E2(e4) {
              if (e4.url) {
                var t4 = new p.Z();
                return t4.setInfo(e4), t4;
              }
            }
            return e3 = { setConfig: function(s4) {
              s4.baseURLController && (d2 = s4.baseURLController), s4.dashMetrics && (a3 = s4.dashMetrics), s4.mediaPlayerModel && (o2 = s4.mediaPlayerModel), s4.errHandler && (n3 = s4.errHandler), s4.boxParser && (r3 = s4.boxParser), s4.debug && (t3 = s4.debug.getLogger(e3)), s4.requestModifier && (i2 = s4.requestModifier), s4.errors && (u2 = s4.errors), s4.urlUtils && (f2 = s4.urlUtils), s4.constants && (l2 = s4.constants), s4.dashConstants && (c2 = s4.dashConstants);
            }, initialize: function() {
              s3 = St(g2).create({ errHandler: n3, dashMetrics: a3, mediaPlayerModel: o2, requestModifier: i2, boxParser: r3, errors: u2, urlUtils: f2, constants: l2, dashConstants: c2 });
            }, loadInitialization: function(e4, t4) {
              return new Promise(function(n4) {
                h2(e4, t4, n4);
              });
            }, loadSegments: function(e4, t4, n4) {
              return new Promise(function(r4) {
                m2(e4, t4, n4, r4);
              });
            }, reset: function() {
              s3 && (s3.abort(), s3 = null);
            } };
          }
          Li.__dashjs_factory_name = "SegmentBaseLoader";
          var Fi = c.Z.getSingletonFactory(Li);
          function xi(e3) {
            var t3;
            e3 = e3 || {};
            var n3 = new DataView(e3.data), r3 = 0;
            function i2(e4, t4) {
              var i3 = true, a4 = 0;
              if (void 0 === t4 && (t4 = false), e4.tag > 16777215 ? (n3.getUint32(r3) !== e4.tag && (i3 = false), a4 = 4) : e4.tag > 65535 ? (256 * n3.getUint16(r3) + n3.getUint8(r3 + 2) !== e4.tag && (i3 = false), a4 = 3) : e4.tag > 255 ? (n3.getUint16(r3) !== e4.tag && (i3 = false), a4 = 2) : (n3.getUint8(r3) !== e4.tag && (i3 = false), a4 = 1), !i3 && e4.required && !t4)
                throw new Error("required tag not found");
              return i3 && (r3 += a4), i3;
            }
            function a3(e4) {
              var t4 = 1, i3 = 128, a4 = -1, o2 = 0, s3 = n3.getUint8(r3), u2 = 0;
              for (u2 = 0; u2 < 8; u2 += 1) {
                if ((s3 & i3) === i3) {
                  o2 = void 0 === e4 ? s3 & ~i3 : s3, a4 = u2;
                  break;
                }
                i3 >>= 1;
              }
              for (u2 = 0; u2 < a4; u2 += 1, t4 += 1)
                o2 = o2 << 8 | 255 & n3.getUint8(r3 + t4);
              return r3 += t4, o2;
            }
            return t3 = { getPos: function() {
              return r3;
            }, setPos: function(e4) {
              r3 = e4;
            }, consumeTag: i2, consumeTagAndSize: function(e4, t4) {
              var n4 = i2(e4, t4);
              return n4 && a3(), n4;
            }, parseTag: function(e4) {
              var n4;
              return i2(e4), n4 = a3(), t3[e4.parse](n4);
            }, skipOverElement: function(e4, t4) {
              var n4, o2 = i2(e4, t4);
              return o2 && (n4 = a3(), r3 += n4), o2;
            }, getMatroskaCodedNum: a3, getMatroskaFloat: function(e4) {
              var t4;
              switch (e4) {
                case 4:
                  t4 = n3.getFloat32(r3), r3 += 4;
                  break;
                case 8:
                  t4 = n3.getFloat64(r3), r3 += 8;
              }
              return t4;
            }, getMatroskaUint: function(e4) {
              if (e4 > 4)
                return function(e5) {
                  for (var t5 = Math.floor(Number.MAX_SAFE_INTEGER / 256), i4 = 0, a4 = 0; a4 < e5; a4 += 1) {
                    if (i4 > t5)
                      throw new Error("Value exceeds safe integer limit");
                    i4 *= 256;
                    var o2 = n3.getUint8(r3 + a4);
                    if (i4 > Number.MAX_SAFE_INTEGER - o2)
                      throw new Error("Value exceeds safe integer limit");
                    i4 += o2;
                  }
                  return r3 += e5, i4;
                }(e4);
              for (var t4 = 0, i3 = 0; i3 < e4; i3 += 1)
                t4 <<= 8, t4 |= 255 & n3.getUint8(r3 + i3);
              return r3 += e4, t4 >>> 0;
            }, moreData: function() {
              return r3 < n3.byteLength;
            } };
          }
          xi.__dashjs_factory_name = "EBMLParser";
          var ki = c.Z.getClassFactory(xi);
          function Ui() {
            var e3, t3, n3, r3, i2, o2, s3, u2, l2, c2, f2 = this.context;
            function d2(e4) {
              var t4 = new p.Z();
              return t4.setInfo(e4), t4;
            }
            return e3 = { setConfig: function(n4) {
              if (!(n4.baseURLController && n4.dashMetrics && n4.mediaPlayerModel && n4.errHandler))
                throw new Error(a2.Z.MISSING_CONFIG_ERROR);
              c2 = n4.baseURLController, o2 = n4.dashMetrics, s3 = n4.mediaPlayerModel, r3 = n4.errHandler, l2 = n4.errors, t3 = n4.debug.getLogger(e3), i2 = n4.requestModifier;
            }, initialize: function() {
              u2 = St(f2).create({ errHandler: r3, dashMetrics: o2, mediaPlayerModel: s3, requestModifier: i2, errors: l2 });
            }, loadInitialization: function(e4, n4) {
              return new Promise(function(r4) {
                var i3 = null, a3 = e4 ? c2.resolve(e4.path) : null, o3 = e4 ? e4.range.split("-") : null, s4 = { range: { start: o3 ? parseFloat(o3[0]) : null, end: o3 ? parseFloat(o3[1]) : null }, request: i3, url: a3 ? a3.url : void 0, init: true, mediaType: n4 };
                t3.info("Start loading initialization."), i3 = d2(s4), u2.load({ request: i3, success: function() {
                  r4(e4);
                }, error: function() {
                  r4(e4);
                } }), t3.debug("Perform init load: " + s4.url);
              });
            }, loadSegments: function(e4, r4, i3) {
              return new Promise(function(a3) {
                var o3 = null, s4 = e4 ? c2.resolve(e4.path) : null, g2 = s4 ? s4.url : void 0;
                o3 = d2({ bytesLoaded: 0, bytesToLoad: 8192, range: { start: 0, end: 8192 }, request: o3, url: g2, init: false, mediaType: r4 }), t3.debug("Parsing ebml header"), u2.load({ request: o3, success: function(r5) {
                  !function(e5, r6, i4, a4) {
                    if (e5 && 0 !== e5.byteLength) {
                      var o4, s5, l3, c3, g3 = ki(f2).create({ data: e5 }), h2 = i4 ? i4.split("-") : null, p2 = null, m2 = { url: r6, range: { start: h2 ? parseFloat(h2[0]) : null, end: h2 ? parseFloat(h2[1]) : null }, request: p2 };
                      for (t3.debug("Parse EBML header: " + m2.url), g3.skipOverElement(n3.EBML), g3.consumeTag(n3.Segment), l3 = g3.getMatroskaCodedNum(), l3 += g3.getPos(), c3 = g3.getPos(); g3.moreData() && !g3.consumeTagAndSize(n3.Segment.Info, true); )
                        if (!(g3.skipOverElement(n3.Segment.SeekHead, true) || g3.skipOverElement(n3.Segment.Tracks, true) || g3.skipOverElement(n3.Segment.Cues, true) || g3.skipOverElement(n3.Void, true)))
                          throw new Error("no valid top level element found");
                      for (; void 0 === o4; ) {
                        var y2 = g3.getMatroskaCodedNum(true), E2 = g3.getMatroskaCodedNum();
                        y2 === n3.Segment.Info.Duration.tag ? o4 = g3[n3.Segment.Info.Duration.parse](E2) : g3.setPos(g3.getPos() + E2);
                      }
                      p2 = d2(m2), u2.load({ request: p2, success: function(e6) {
                        s5 = function(e7, r7, i5, a5) {
                          var o5, s6, u3, l4, c4, d3, g4, h3;
                          for (u3 = [], c4 = 0, d3 = (s6 = function(e8) {
                            var t4, r8, i6 = [], a6 = ki(f2).create({ data: e8 });
                            for (a6.consumeTagAndSize(n3.Segment.Cues); a6.moreData() && a6.consumeTagAndSize(n3.Segment.Cues.CuePoint, true); ) {
                              for ((t4 = {}).CueTime = a6.parseTag(n3.Segment.Cues.CuePoint.CueTime), t4.CueTracks = []; a6.moreData() && a6.consumeTag(n3.Segment.Cues.CuePoint.CueTrackPositions, true); ) {
                                var o6 = a6.getMatroskaCodedNum(), s7 = a6.getPos();
                                if ((r8 = {}).Track = a6.parseTag(n3.Segment.Cues.CuePoint.CueTrackPositions.CueTrack), 0 === r8.Track)
                                  throw new Error("Cue track cannot be 0");
                                r8.ClusterPosition = a6.parseTag(n3.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition), t4.CueTracks.push(r8), a6.setPos(s7 + o6);
                              }
                              if (0 === t4.CueTracks.length)
                                throw new Error("Mandatory cuetrack not found");
                              i6.push(t4);
                            }
                            if (0 === i6.length)
                              throw new Error("mandatory cuepoint not found");
                            return i6;
                          }(e7)).length; c4 < d3; c4 += 1)
                            l4 = new Pi.Z(), o5 = c4 < s6.length - 1 ? s6[c4 + 1].CueTime - s6[c4].CueTime : a5 - s6[c4].CueTime, l4.duration = o5, l4.startTime = s6[c4].CueTime, l4.timescale = 1e3, g4 = s6[c4].CueTracks[0].ClusterPosition + r7, h3 = c4 < s6.length - 1 ? s6[c4 + 1].CueTracks[0].ClusterPosition + r7 - 1 : i5 - 1, l4.mediaRange = g4 + "-" + h3, u3.push(l4);
                          return t3.debug("Parsed cues: " + u3.length + " cues."), u3;
                        }(e6, c3, l3, o4), a4(s5);
                      }, error: function() {
                        t3.error("Download Error: Cues " + m2.url), a4(null);
                      } }), t3.debug("Perform cues load: " + m2.url + " bytes=" + m2.range.start + "-" + m2.range.end);
                    } else
                      a4(null);
                  }(r5, g2, i3, function(t4) {
                    a3({ segments: t4, representation: e4, error: t4 ? void 0 : new S.Z(l2.SEGMENT_BASE_LOADER_ERROR_CODE, l2.SEGMENT_BASE_LOADER_ERROR_MESSAGE) });
                  });
                }, error: function() {
                  a3({ representation: e4, error: new S.Z(l2.SEGMENT_BASE_LOADER_ERROR_CODE, l2.SEGMENT_BASE_LOADER_ERROR_MESSAGE) });
                } });
              });
            }, reset: function() {
              u2 && (u2.abort(), u2 = null);
            } }, n3 = { EBML: { tag: 440786851, required: true }, Segment: { tag: 408125543, required: true, SeekHead: { tag: 290298740, required: true }, Info: { tag: 357149030, required: true, TimecodeScale: { tag: 2807729, required: true, parse: "getMatroskaUint" }, Duration: { tag: 17545, required: true, parse: "getMatroskaFloat" } }, Tracks: { tag: 374648427, required: true }, Cues: { tag: 475249515, required: true, CuePoint: { tag: 187, required: true, CueTime: { tag: 179, required: true, parse: "getMatroskaUint" }, CueTrackPositions: { tag: 183, required: true, CueTrack: { tag: 247, required: true, parse: "getMatroskaUint" }, CueClusterPosition: { tag: 241, required: true, parse: "getMatroskaUint" } } } } }, Void: { tag: 236, required: true } }, e3;
          }
          Ui.__dashjs_factory_name = "WebmSegmentBaseLoader";
          var Zi = c.Z.getSingletonFactory(Ui);
          function Bi(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2 = this.context, a3 = e3.eventBus, o2 = e3.events, s3 = e3.dashMetrics, u2 = e3.mediaPlayerModel, l2 = e3.errHandler, c2 = e3.baseURLController, f2 = e3.debug, d2 = e3.boxParser, g2 = e3.requestModifier, h2 = e3.errors;
            function p2(e4) {
              return "webm" === (e4 ? e4.split("/")[1] : "").toLowerCase();
            }
            return t3 = { initialize: function() {
              n3.initialize(), r3.initialize();
            }, getSegmentBaseInitSegment: function(e4) {
              return p2(e4.representation.mimeType) ? r3.loadInitialization(e4.representation, e4.mediaType) : n3.loadInitialization(e4.representation, e4.mediaType);
            }, getSegmentList: function(e4) {
              return p2(e4.mimeType) ? r3.loadSegments(e4.representation, e4.mediaType, e4.representation ? e4.representation.indexRange : null) : n3.loadSegments(e4.representation, e4.mediaType, e4.representation ? e4.representation.indexRange : null);
            }, reset: function() {
              n3.reset(), r3.reset();
            } }, n3 = Fi(i2).getInstance(), r3 = Zi(i2).getInstance(), n3.setConfig({ baseURLController: c2, dashMetrics: s3, mediaPlayerModel: u2, errHandler: l2, eventBus: a3, events: o2, errors: h2, debug: f2, boxParser: d2, requestModifier: g2 }), r3.setConfig({ baseURLController: c2, dashMetrics: s3, mediaPlayerModel: u2, errHandler: l2, eventBus: a3, events: o2, errors: h2, debug: f2, requestModifier: g2 }), t3;
          }
          Bi.__dashjs_factory_name = "SegmentBaseController";
          var Gi = c.Z.getSingletonFactory(Bi), qi = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.id = null, this.quality = null, this.fragmentDuration = null, this.mediaInfo = null, this.MSETimeOffset = null;
          }, Yi = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.id = null, this.index = null, this.type = null, this.streamInfo = null, this.representationCount = 0, this.labels = null, this.lang = null, this.viewpoint = null, this.viewpointsWithSchemeIdUri = null, this.accessibility = null, this.accessibilitiesWithSchemeIdUri = null, this.audioChannelConfiguration = null, this.audioChannelConfigurationsWithSchemeIdUri = null, this.roles = null, this.rolesWithSchemeIdUri = null, this.codec = null, this.mimeType = null, this.contentProtection = null, this.isText = false, this.KID = null, this.bitrateList = null, this.isFragmented = null, this.isEmbedded = null, this.selectionPriority = 1, this.supplementalProperties = {}, this.supplementalPropertiesAsArray = [], this.essentialProperties = {}, this.essentialPropertiesAsArray = [], this.segmentAlignment = false, this.subSegmentAlignment = false;
          }, ji = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.id = null, this.index = null, this.start = NaN, this.duration = NaN, this.manifestInfo = null, this.isLast = true;
          }, Hi = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.dvrWindowSize = NaN, this.loadedTime = null, this.availableFrom = null, this.minBufferTime = NaN, this.duration = NaN, this.isDynamic = false, this.maxFragmentDuration = null, this.serviceDescriptions = [], this.protocol = null;
          };
          function Vi(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var Ki = function() {
            function e3(t4) {
              var n4 = this;
              !function(e4, t5) {
                if (!(e4 instanceof t5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.valid = "/" == t4[0], this.path = t4.split("/").filter(function(e4) {
                return 0 !== e4.length;
              }).map(function(e4) {
                var t5 = { name: e4 }, r3 = e4.indexOf("[");
                if (-1 != r3) {
                  t5.name = e4.substring(0, r3);
                  var i2 = e4.substring(r3 + 1, e4.length - 1);
                  n4.valid = n4.valid && -1 == i2.indexOf("[");
                  var a3 = i2.indexOf("=");
                  -1 != a3 ? (t5.attribute = { name: i2.substring(1, a3), value: i2.substring(a3 + 1) }, -1 != ["'", '"'].indexOf(t5.attribute.value[0]) && (t5.attribute.value = t5.attribute.value.substring(1, t5.attribute.value.length - 1))) : t5.position = parseInt(i2, 10) - 1;
                }
                return t5;
              });
            }
            var t3, n3;
            return t3 = e3, (n3 = [{ key: "isValid", value: function() {
              return this.valid;
            } }, { key: "findsElement", value: function() {
              return !this.findsAttribute();
            } }, { key: "findsAttribute", value: function() {
              return this.path[this.path.length - 1].name.startsWith("@");
            } }, { key: "findsTextReplace", value: function() {
              return "text()" === this.path[this.path.length - 1].name;
            } }, { key: "getMpdTarget", value: function(e4, t4) {
              for (var n4 = null, r3 = e4, i2 = 1, a3 = "MPD"; i2 < this.path.length && null !== r3; ) {
                n4 = r3;
                var o2 = this.path[i2];
                if (a3 = o2.name, i2 !== this.path.length - 1 || !a3.startsWith("@") && "text()" !== a3) {
                  var s3 = n4[a3 + "_asArray"] || [];
                  0 === s3.length && n4[a3] && s3.push(n4[a3]), o2.position ? r3 = s3[o2.position] || null : o2.attribute ? function() {
                    var e5 = o2.attribute;
                    r3 = s3.filter(function(t5) {
                      return t5[e5.name] == e5.value;
                    })[0] || null;
                  }() : r3 = s3[0] || null;
                }
                i2++;
              }
              return null === r3 ? null : a3.startsWith("@") ? { name: a3.substring(1), leaf: r3, target: r3 } : "text()" === a3 ? { name: "__text", leaf: r3, target: r3 } : { name: a3, leaf: r3, target: t4 ? n4 : r3 };
            } }]) && Vi(t3.prototype, n3), e3;
          }();
          function zi(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var Wi = function() {
            function e3(t4, n4, r3) {
              !function(e4, t5) {
                if (!(e4 instanceof t5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.action = t4, this.xpath = n4, this.value = r3, this.position = null;
            }
            var t3, n3;
            return t3 = e3, (n3 = [{ key: "getMpdTarget", value: function(e4) {
              var t4 = "remove" === this.action || "replace" === this.action || "before" === this.position || "after" === this.position;
              return this.xpath.getMpdTarget(e4, t4);
            } }]) && zi(t3.prototype, n3), e3;
          }();
          function Xi() {
            var e3, t3, n3 = this.context;
            return e3 = { getIsPatch: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.ORIGINAL_MPD_ID) || false;
            }, getPublishTime: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.PUBLISH_TIME) ? new Date(e4[o.Z.PUBLISH_TIME]) : null;
            }, getOriginalPublishTime: function(e4) {
              return e4 && e4.hasOwnProperty(o.Z.ORIGINAL_PUBLISH_TIME) ? new Date(e4[o.Z.ORIGINAL_PUBLISH_TIME]) : null;
            }, getMpdId: function(e4) {
              return e4 && e4[o.Z.ORIGINAL_MPD_ID] || null;
            }, getPatchOperations: function(e4) {
              return e4 ? (e4.__children || []).map(function(e5) {
                var n4 = Object.keys(e5)[0];
                if ("add" !== n4 && "remove" !== n4 && "replace" !== n4)
                  return t3.warn("Ignoring node of invalid action: ".concat(n4)), null;
                var r3 = e5[n4], i2 = r3.sel;
                if ("add" === n4 && r3.type) {
                  if (!r3.type.startsWith("@"))
                    return t3.warn("Ignoring add action for prefixed namespace declaration: ".concat(r3.type, "=").concat(r3.__text)), null;
                  i2 = "".concat(i2, "/").concat(r3.type);
                }
                var a3 = new Ki(i2);
                if (!a3.isValid())
                  return t3.warn("Ignoring action with invalid selector: ".concat(n4, " - ").concat(i2)), null;
                var o2 = null;
                a3.findsAttribute() || a3.findsTextReplace() ? o2 = r3.__text || "" : "remove" !== n4 && (o2 = r3.__children.reduce(function(e6, t4) {
                  var n5 = Object.keys(t4)[0];
                  return "#text" !== n5 && (e6[n5] = e6[n5] || [], e6[n5].push(t4[n5])), e6;
                }, {}));
                var s3 = new Wi(n4, a3, o2);
                return "add" === n4 && (s3.position = r3.pos), s3;
              }).filter(function(e5) {
                return !!e5;
              }) : [];
            } }, t3 = (0, f.Z)(n3).getInstance().getLogger(e3), e3;
          }
          Xi.__dashjs_factory_name = "PatchManifestModel";
          var Qi = c.Z.getSingletonFactory(Xi);
          function Ji() {
            var e3, t3, n3, r3, i2, a3, s3, u2 = this.context;
            function l2(e4, n4, a4) {
              var s4, u3 = t3.getAdaptationsForType(r3[0].mpd.manifest, e4, n4);
              if (!u3 || 0 === u3.length)
                return null;
              if (u3.length > 1 && a4) {
                var l3 = d2(a4, n4);
                if (i2[a4.id] && i2[a4.id][n4]) {
                  for (var f3 = 0, g3 = u3.length; f3 < g3; f3++)
                    if (c2(i2[a4.id][n4], l3[f3]))
                      return u3[f3];
                }
                for (var h3 = 0, p3 = u3.length; h3 < p3; h3++)
                  if (s4 = u3[h3], t3.getRolesForAdaptation(s4).filter(function(e5) {
                    return e5.value === o.Z.MAIN;
                  })[0])
                    return u3[h3];
              }
              return u3[0];
            }
            function c2(e4, t4) {
              if (!e4 || !t4)
                return false;
              var n4 = e4.id === t4.id, r4 = e4.codec === t4.codec, i3 = e4.viewpoint === t4.viewpoint, a4 = JSON.stringify(e4.viewpointsWithSchemeIdUri) === JSON.stringify(t4.viewpointsWithSchemeIdUri), o2 = e4.lang === t4.lang, s4 = e4.roles.toString() === t4.roles.toString(), u3 = JSON.stringify(e4.rolesWithSchemeIdUri) === JSON.stringify(t4.rolesWithSchemeIdUri), l3 = e4.accessibility.toString() === t4.accessibility.toString(), c3 = JSON.stringify(e4.accessibilitiesWithSchemeIdUri) === JSON.stringify(t4.accessibilitiesWithSchemeIdUri), f3 = e4.audioChannelConfiguration.toString() === t4.audioChannelConfiguration.toString(), d3 = JSON.stringify(e4.audioChannelConfigurationsWithSchemeIdUri) === JSON.stringify(t4.audioChannelConfigurationsWithSchemeIdUri);
              return n4 && r4 && i3 && a4 && o2 && s4 && u3 && l3 && c3 && f3 && d3;
            }
            function f2(e4, n4, r4, i3, o2, s4) {
              var u3, l3, c3, f3, d3, g3, h3 = [];
              if (!i3 || 0 === i3.length)
                return [];
              var p3 = t3.getAdaptationsForPeriod(n4);
              for (f3 = 0, g3 = i3.length; f3 < g3; f3++)
                if (u3 = i3[f3], l3 = v2(p3[c3 = t3.getIndexForAdaptation(u3, e4, r4.index)]), s4) {
                  var m3 = l3.accessibility.length;
                  for (d3 = 0; d3 < m3; d3++)
                    if (l3) {
                      var y3 = l3.accessibility[d3];
                      if (0 === y3.indexOf("cea-608:")) {
                        var E3 = y3.substring(8).split(";");
                        if ("CC" === E3[0].substring(0, 2))
                          for (d3 = 0; d3 < E3.length; d3++)
                            l3 || (l3 = v2.call(this, p3[c3])), _2(l3, E3[d3].substring(0, 3), E3[d3].substring(4)), h3.push(l3), l3 = null;
                        else
                          for (d3 = 0; d3 < E3.length; d3++)
                            l3 || (l3 = v2.call(this, p3[c3])), _2(l3, "CC" + (d3 + 1), E3[d3]), h3.push(l3), l3 = null;
                      } else
                        0 === y3.indexOf("cea-608") && (_2(l3, a3.CC1, "eng"), h3.push(l3), l3 = null);
                    }
                } else
                  o2 === a3.IMAGE ? (l3.type = a3.IMAGE, h3.push(l3), l3 = null) : l3 && h3.push(l3);
              return h3;
            }
            function d2(e4, n4, i3) {
              var o2 = r3, s4 = i3, u3 = [];
              if (s4)
                S2(), o2 = g2(s4);
              else {
                if (!(r3.length > 0))
                  return u3;
                s4 = r3[0].mpd.manifest;
              }
              var l3 = E2(e4, o2), c3 = t3.getAdaptationsForType(s4, e4 ? e4.index : null, n4);
              return u3 = f2(s4, l3, e4, c3, n4), n4 === a3.TEXT && (c3 = t3.getAdaptationsForType(s4, e4 ? e4.index : null, a3.VIDEO), u3 = u3.concat(f2(s4, l3, e4, c3, n4, true))), u3;
            }
            function g2(e4) {
              var n4 = h2(e4);
              return t3.getRegularPeriods(n4);
            }
            function h2(e4) {
              var n4 = m2(e4);
              return t3.getMpd(n4);
            }
            function p2() {
              r3 = [], i2 = {};
            }
            function m2(e4) {
              return e4 || (r3.length > 0 ? r3[0].mpd.manifest : null);
            }
            function y2(e4) {
              try {
                var n4 = E2(e4.streamInfo, r3), i3 = t3.getAdaptationsForPeriod(n4);
                return e4 && e4.streamInfo && void 0 !== e4.streamInfo.id && i3 ? i3[e4.index] : null;
              } catch (e5) {
                return null;
              }
            }
            function E2(e4, t4) {
              for (var n4 = t4.length, r4 = 0; r4 < n4; r4++) {
                var i3 = t4[r4];
                if (e4 && e4.id === i3.id)
                  return i3;
              }
              return null;
            }
            function v2(e4) {
              if (!e4)
                return null;
              var n4, r4, i3, a4, o2, u3 = new Yi(), l3 = e4.period.mpd.manifest.Period_asArray[e4.period.index].AdaptationSet_asArray[e4.index];
              if (u3.id = e4.id, u3.index = e4.index, u3.type = e4.type, u3.streamInfo = T2(e4.period), u3.representationCount = t3.getRepresentationCount(l3), u3.labels = t3.getLabelsForAdaptation(l3), u3.lang = t3.getLanguageForAdaptation(l3), u3.segmentAlignment = t3.getSegmentAlignment(l3), u3.subSegmentAlignment = t3.getSubSegmentAlignment(l3), n4 = t3.getViewpointForAdaptation(l3), u3.viewpoint = n4.length ? n4[0].value : void 0, u3.viewpointsWithSchemeIdUri = n4, o2 = t3.getAccessibilityForAdaptation(l3), u3.accessibility = o2.map(function(e5) {
                var t4 = e5.value, n5 = t4;
                return e5.schemeIdUri && e5.schemeIdUri.search("cea-608") >= 0 && void 0 !== s3 && (n5 = t4 ? "cea-608:" + t4 : "cea-608", u3.embeddedCaptions = true), n5;
              }), u3.accessibilitiesWithSchemeIdUri = o2, r4 = t3.getAudioChannelConfigurationForAdaptation(l3), u3.audioChannelConfiguration = r4.map(function(e5) {
                return e5.value;
              }), u3.audioChannelConfigurationsWithSchemeIdUri = r4, 0 === u3.audioChannelConfiguration.length && Array.isArray(l3.Representation_asArray) && l3.Representation_asArray.length > 0 && (i3 = t3.getAudioChannelConfigurationForRepresentation(l3.Representation_asArray[0]), u3.audioChannelConfiguration = i3.map(function(e5) {
                return e5.value;
              }), u3.audioChannelConfigurationsWithSchemeIdUri = i3), a4 = t3.getRolesForAdaptation(l3), u3.roles = a4.map(function(e5) {
                return e5.value;
              }), u3.rolesWithSchemeIdUri = a4, u3.codec = t3.getCodec(l3), u3.mimeType = t3.getMimeType(l3), u3.contentProtection = t3.getContentProtectionData(l3), u3.bitrateList = t3.getBitrateListForAdaptation(l3), u3.selectionPriority = t3.getSelectionPriority(l3), u3.contentProtection) {
                var c3 = u3.contentProtection.map(function(e5) {
                  return t3.getKID(e5);
                }).filter(function(e5) {
                  return null !== e5;
                });
                if (c3.length) {
                  var f3 = c3[0];
                  u3.contentProtection.forEach(function(e5) {
                    e5.keyId = f3;
                  });
                }
              }
              if (u3.isText = t3.getIsText(l3), u3.supplementalProperties = t3.getSupplementalPropertiesForAdaptation(l3), (!u3.supplementalProperties || 0 === Object.keys(u3.supplementalProperties).length) && Array.isArray(l3.Representation_asArray) && l3.Representation_asArray.length > 0) {
                var d3 = l3.Representation_asArray.map(function(e5) {
                  return t3.getSupplementalPropertiesForRepresentation(e5);
                });
                d3.every(function(e5) {
                  return JSON.stringify(e5) === JSON.stringify(d3[0]);
                }) && (u3.supplementalProperties = d3[0]);
              }
              if (u3.supplementalPropertiesAsArray = t3.getSupplementalPropertiesAsArrayForAdaptation(l3), (!u3.supplementalPropertiesAsArray || 0 === u3.supplementalPropertiesAsArray.length) && Array.isArray(l3.Representation_asArray) && l3.Representation_asArray.length > 0) {
                var g3 = l3.Representation_asArray.map(function(e5) {
                  return t3.getSupplementalPropertiesAsArrayForRepresentation(e5);
                });
                g3.every(function(e5) {
                  return JSON.stringify(e5) === JSON.stringify(g3[0]);
                }) && (u3.supplementalPropertiesAsArray = g3[0]);
              }
              return u3.essentialProperties = t3.getEssentialPropertiesForAdaptation(l3), u3.essentialPropertiesAsArray = t3.getEssentialPropertiesAsArrayForAdaptation(l3), u3.isFragmented = t3.getIsFragmented(l3), u3.isEmbedded = false, u3;
            }
            function _2(e4, t4, n4) {
              e4.id = t4, e4.index = 100 + parseInt(t4.substring(2, 3)), e4.type = a3.TEXT, e4.codec = "cea-608-in-SEI", e4.isEmbedded = true, e4.isFragmented = false;
              var r4 = _n()(n4);
              e4.lang = r4 || n4, e4.roles = ["caption"], e4.rolesWithSchemeIdUri = [{ schemeIdUri: "urn:mpeg:dash:role:2011", value: "caption" }];
            }
            function T2(e4) {
              var n4, r4, i3 = new ji();
              return i3.id = e4.id, i3.index = e4.index, i3.start = e4.start, i3.duration = e4.duration, i3.manifestInfo = (n4 = e4.mpd, (r4 = new Hi()).dvrWindowSize = n4.timeShiftBufferDepth, r4.loadedTime = n4.manifest.loadedTime, r4.availableFrom = n4.availabilityStartTime, r4.minBufferTime = n4.manifest.minBufferTime, r4.maxFragmentDuration = n4.maxSegmentDuration, r4.duration = t3.getDuration(n4.manifest), r4.isDynamic = t3.getIsDynamic(n4.manifest), r4.serviceDescriptions = t3.getServiceDescriptions(n4.manifest), r4.protocol = n4.manifest.protocol, r4), i3.isLast = 1 === e4.mpd.manifest.Period_asArray.length || Math.abs(i3.start + i3.duration - i3.manifestInfo.duration) < 1, i3;
            }
            function S2() {
              if (!a3)
                throw new Error("setConfig function has to be called previously");
            }
            function b2(e4) {
              return r3.length > 0 ? r3[0].mpd.manifest.Period_asArray[e4] : null;
            }
            function A2(e4, t4, n4) {
              var r4, i3, a4, o2, s4;
              if (e4) {
                for (r4 = e4.AdaptationSet_asArray, o2 = 0; o2 < r4.length; o2 += 1)
                  for (a4 = r4[o2].Representation_asArray, s4 = 0; s4 < a4.length; s4 += 1)
                    if (t4 === (i3 = a4[s4]).id)
                      return n4 ? s4 : i3;
              }
              return null;
            }
            return e3 = { getBandwidthForRepresentation: function(e4, t4) {
              var n4;
              return (n4 = A2(b2(t4), e4)) ? n4.bandwidth : null;
            }, getIndexForRepresentation: function(e4, t4) {
              return function(e5, t5) {
                var n4 = A2(e5, t5, true);
                return null !== n4 ? n4 : -1;
              }(b2(t4), e4);
            }, getMaxIndexForBufferType: function(e4, n4) {
              return function(e5, n5) {
                var r4, i3, a4, o2;
                if (!e5 || !n5)
                  return -1;
                for (i3 = e5.AdaptationSet_asArray, o2 = 0; o2 < i3.length; o2 += 1)
                  if (a4 = (r4 = i3[o2]).Representation_asArray, t3.getIsTypeOf(r4, n5))
                    return a4.length;
                return -1;
              }(b2(n4), e4);
            }, convertRepresentationToRepresentationInfo: function(e4) {
              if (e4) {
                var n4 = new qi(), r4 = e4.adaptation.period.mpd.manifest.Period_asArray[e4.adaptation.period.index].AdaptationSet_asArray[e4.adaptation.index], i3 = t3.getRepresentationFor(e4.index, r4);
                return n4.id = e4.id, n4.quality = e4.index, n4.bandwidth = t3.getBandwidth(i3), n4.fragmentDuration = e4.segmentDuration || (e4.segments && e4.segments.length > 0 ? e4.segments[0].duration : NaN), n4.MSETimeOffset = e4.MSETimeOffset, n4.mediaInfo = v2(e4.adaptation), n4;
              }
              return null;
            }, getStreamsInfo: function(e4, t4) {
              var n4 = [], i3 = r3;
              if (e4 && (S2(), i3 = g2(e4)), i3.length > 0) {
                (!t4 || t4 > i3.length) && (t4 = i3.length);
                for (var a4 = 0; a4 < t4; a4++)
                  n4.push(T2(i3[a4]));
              }
              return n4;
            }, getMediaInfoForType: function(e4, n4) {
              if (0 === r3.length || !e4)
                return null;
              var i3 = E2(e4, r3);
              if (!i3)
                return null;
              var a4 = t3.getAdaptationsForPeriod(i3), o2 = l2(e4.index, n4, e4);
              return o2 ? v2(a4[t3.getIndexForAdaptation(o2, r3[0].mpd.manifest, e4.index)]) : null;
            }, getAllMediaInfoForType: d2, getAdaptationForType: l2, getRealAdaptation: function(e4, n4) {
              var i3, a4, o2 = E2(e4, r3);
              return i3 = n4 ? n4.id : null, r3.length > 0 && o2 && (a4 = i3 ? t3.getAdaptationForId(i3, r3[0].mpd.manifest, o2.index) : t3.getAdaptationForIndex(n4 ? n4.index : null, r3[0].mpd.manifest, o2.index)), a4;
            }, getProducerReferenceTimes: function(e4, n4) {
              var i3, a4, o2 = E2(e4, r3);
              return i3 = n4 ? n4.id : null, r3.length > 0 && o2 && (a4 = i3 ? t3.getAdaptationForId(i3, r3[0].mpd.manifest, o2.index) : t3.getAdaptationForIndex(n4 ? n4.index : null, r3[0].mpd.manifest, o2.index)), a4 ? t3.getProducerReferenceTimesForAdaptation(a4) : [];
            }, getRealPeriodByIndex: function(e4) {
              return t3.getRealPeriodForIndex(e4, r3[0].mpd.manifest);
            }, getEssentialPropertiesForRepresentation: function(e4) {
              try {
                return t3.getEssentialPropertiesForRepresentation(e4);
              } catch (e5) {
                return [];
              }
            }, getVoRepresentations: function(e4) {
              var n4 = y2(e4);
              return t3.getRepresentationsForAdaptation(n4);
            }, getEventsFor: function(e4, n4, i3) {
              var a4 = [];
              if (r3.length > 0) {
                var o2 = r3[0].mpd.manifest;
                if (e4 instanceof ji) {
                  var s4 = E2(e4, r3);
                  a4 = t3.getEventsForPeriod(s4);
                } else if (e4 instanceof Yi) {
                  var u3 = E2(i3, r3);
                  a4 = t3.getEventStreamForAdaptationSet(o2, y2(e4), u3);
                } else if (e4 instanceof qi) {
                  var l3 = E2(i3, r3);
                  a4 = t3.getEventStreamForRepresentation(o2, n4, l3);
                }
              }
              return a4;
            }, getEvent: function(e4, t4, n4, r4) {
              try {
                if (!e4 || !t4 || isNaN(n4) || !r4)
                  return null;
                var i3 = e4.scheme_id_uri, a4 = e4.value;
                if (!t4[i3 + "/" + a4])
                  return null;
                var o2, s4 = new _e(), u3 = e4.timescale || 1, l3 = r4.adaptation.period.start, c3 = t4[i3 + "/" + a4], f3 = isNaN(r4.presentationTimeOffset) ? isNaN(c3.presentationTimeOffset) ? 0 : c3.presentationTimeOffset : r4.presentationTimeOffset, d3 = e4.presentation_time_delta / u3;
                o2 = 0 === e4.version ? l3 + n4 - f3 + d3 : l3 - f3 + d3;
                var g3 = e4.event_duration / u3, h3 = e4.id, p3 = e4.message_data;
                return s4.eventStream = c3, s4.eventStream.value = a4, s4.eventStream.timescale = u3, s4.duration = g3, s4.id = h3, s4.calculatedPresentationTime = o2, s4.messageData = p3, s4.presentationTimeDelta = d3, s4;
              } catch (e5) {
                return null;
              }
            }, getMpd: h2, setConfig: function(e4) {
              e4 && (e4.constants && (a3 = e4.constants), e4.cea608parser && (s3 = e4.cea608parser), e4.errHandler && t3.setConfig({ errHandler: e4.errHandler }), e4.BASE64 && t3.setConfig({ BASE64: e4.BASE64 }));
            }, updatePeriods: function(e4) {
              if (!e4)
                return null;
              S2(), r3 = g2(e4);
            }, getIsTextTrack: function(e4) {
              return t3.getIsText(e4);
            }, getUTCTimingSources: function() {
              var e4 = m2();
              return t3.getUTCTimingSources(e4);
            }, getSuggestedPresentationDelay: function() {
              var e4 = r3.length > 0 ? r3[0].mpd : null;
              return t3.getSuggestedPresentationDelay(e4);
            }, getAvailabilityStartTime: function(e4) {
              var n4 = h2(e4);
              return t3.getAvailabilityStartTime(n4);
            }, getIsTypeOf: function(e4, n4) {
              return t3.getIsTypeOf(e4, n4);
            }, getIsDynamic: function(e4) {
              var n4 = m2(e4);
              return t3.getIsDynamic(n4);
            }, getDuration: function(e4) {
              var n4 = m2(e4);
              return t3.getDuration(n4);
            }, getRegularPeriods: g2, getContentSteering: function(e4) {
              return t3.getContentSteering(e4);
            }, getLocation: function(e4) {
              return t3.getLocation(e4);
            }, getPatchLocation: function(e4) {
              var n4 = t3.getPatchLocation(e4), r4 = t3.getPublishTime(e4);
              return n4 && 0 !== n4.length && r4 ? n4.filter(function(e5) {
                return isNaN(e5.ttl) || r4.getTime() + e5.ttl > (/* @__PURE__ */ new Date()).getTime();
              }) : [];
            }, getManifestUpdatePeriod: function(e4) {
              var n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
              return t3.getManifestUpdatePeriod(e4, n4);
            }, getPublishTime: function(e4) {
              return t3.getPublishTime(e4);
            }, getIsDVB: function(e4) {
              return t3.hasProfile(e4, "urn:dvb:dash:profile:dvb-dash:2014");
            }, getIsPatch: function(e4) {
              return n3.getIsPatch(e4);
            }, getBaseURLsFromElement: function(e4) {
              return t3.getBaseURLsFromElement(e4);
            }, getRepresentationSortFunction: function() {
              return t3.getRepresentationSortFunction();
            }, getCodec: function(e4, n4, r4) {
              return t3.getCodec(e4, n4, r4);
            }, getPeriodById: function(e4) {
              if (!e4 || 0 === r3.length)
                return null;
              var t4 = r3.filter(function(t5) {
                return t5.id === e4;
              });
              return t4 && t4.length > 0 ? t4[0] : null;
            }, setCurrentMediaInfo: function(e4, t4, n4) {
              i2[e4] = i2[e4] || {}, i2[e4][t4] = i2[e4][t4] || {}, i2[e4][t4] = n4;
            }, isPatchValid: function(e4, r4) {
              var i3 = t3.getId(e4), a4 = n3.getMpdId(r4), o2 = t3.getPublishTime(e4), s4 = n3.getPublishTime(r4), u3 = n3.getOriginalPublishTime(r4);
              return !!(i3 && a4 && i3 == a4 && o2 && u3 && o2.getTime() == u3.getTime() && s4 && o2.getTime() < s4.getTime());
            }, applyPatchToManifest: function(e4, t4) {
              n3.getPatchOperations(t4).forEach(function(t5) {
                var n4 = t5.getMpdTarget(e4);
                if (null !== n4) {
                  var r4 = n4.name, i3 = n4.target, a4 = n4.leaf;
                  if (t5.xpath.findsAttribute() || "__text" === r4)
                    switch (t5.action) {
                      case "add":
                      case "replace":
                        i3[r4] = t5.value;
                        break;
                      case "remove":
                        delete i3[r4];
                    }
                  else {
                    var o2 = (i3[r4 + "_asArray"] || []).indexOf(a4), s4 = "prepend" === t5.position || "before" === t5.position;
                    if (("remove" === t5.action || "replace" === t5.action) && (delete i3[r4], -1 != o2)) {
                      var u3 = i3[r4 + "_asArray"];
                      u3.splice(o2, 1), u3.length > 1 ? i3[r4] = u3 : 1 == u3.length ? i3[r4] = u3[0] : delete i3[r4 + "_asArray"];
                    }
                    "add" !== t5.action && "replace" !== t5.action || Object.keys(t5.value).forEach(function(e5) {
                      var n5 = t5.value[e5], a5 = i3[e5 + "_asArray"] || [];
                      if (0 === a5.length && i3[e5] && a5.push(i3[e5]), 0 === a5.length)
                        a5 = n5;
                      else {
                        var u4 = a5.length;
                        u4 = e5 == r4 && -1 != o2 ? o2 + (s4 ? 0 : 1) + ("replace" == t5.action ? -1 : 0) : s4 ? 0 : a5.length, a5.splice.apply(a5, [u4, 0].concat(n5));
                      }
                      i3[e5 + "_asArray"] = a5, i3[e5] = 1 == a5.length ? a5[0] : a5;
                    });
                  }
                }
              });
            }, areMediaInfosEqual: c2, reset: p2 }, t3 = qe(u2).getInstance(), n3 = Qi(u2).getInstance(), p2(), e3;
          }
          Ji.__dashjs_factory_name = "DashAdapter";
          var $i = c.Z.getSingletonFactory(Ji);
          function ea(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var ta = function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3);
            }
            var t3, n3;
            return t3 = e3, n3 = [{ key: "round10", value: function(e4, t4) {
              return function(e5, t5, n4) {
                return void 0 === n4 || 0 == +n4 ? Math[e5](t5) : (n4 = +n4, null === (t5 = +t5) || isNaN(t5) || "number" != typeof n4 || n4 % 1 != 0 ? NaN : (t5 = t5.toString().split("e"), +((t5 = (t5 = Math[e5](+(t5[0] + "e" + (t5[1] ? +t5[1] - n4 : -n4)))).toString().split("e"))[0] + "e" + (t5[1] ? +t5[1] + n4 : n4))));
              }("round", e4, t4);
            } }], null, n3 && ea(t3, n3), e3;
          }(), na = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.TcpList = [], this.HttpList = [], this.RepSwitchList = [], this.BufferLevel = [], this.BufferState = [], this.PlayList = [], this.DroppedFrames = [], this.SchedulingInfo = [], this.DVRInfo = [], this.ManifestUpdate = [], this.RequestsQueue = null, this.DVBErrors = [];
          }, ra = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.t = null, this.mt = null, this.to = null, this.lto = null;
          }, ia = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.t = null, this.level = null;
          }, aa = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.target = null, this.state = s2.Z.BUFFER_EMPTY;
          }, oa = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.time = null, this.range = null, this.manifestInfo = null;
          }, sa = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.time = null, this.droppedFrames = null;
          };
          function ua(e3, t3) {
            if (!(e3 instanceof t3))
              throw new TypeError("Cannot call a class as a function");
          }
          var la = function e3() {
            ua(this, e3), this.mediaType = null, this.type = null, this.requestTime = null, this.fetchTime = null, this.availabilityStartTime = null, this.presentationStartTime = 0, this.clientTimeOffset = 0, this.currentTime = null, this.buffered = null, this.latency = 0, this.streamInfo = [], this.representationInfo = [];
          }, ca = function e3() {
            ua(this, e3), this.id = null, this.index = null, this.start = null, this.duration = null;
          }, fa = function e3() {
            ua(this, e3), this.id = null, this.index = null, this.mediaType = null, this.streamIndex = null, this.presentationTimeOffset = null, this.startNumber = null, this.fragmentInfoType = null;
          }, da = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.mediaType = null, this.t = null, this.type = null, this.startTime = null, this.availabilityStartTime = null, this.duration = null, this.quality = null, this.range = null, this.state = null;
          }, ga = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.loadingRequests = [], this.executedRequests = [];
          };
          function ha(e3) {
            var t3, n3, r3 = (e3 = e3 || {}).settings, i2 = this.context, o2 = (0, u.Z)(i2).getInstance();
            function c2() {
              o2.trigger(l.Z.METRICS_CHANGED);
            }
            function f2(e4) {
              o2.trigger(l.Z.METRIC_CHANGED, { mediaType: e4 }), c2();
            }
            function d2(e4, t4, n4) {
              o2.trigger(l.Z.METRIC_UPDATED, { mediaType: e4, metric: t4, value: n4 }), f2(e4);
            }
            function g2(e4, t4, n4) {
              o2.trigger(l.Z.METRIC_ADDED, { mediaType: e4, metric: t4, value: n4 }), f2(e4);
            }
            function h2(e4, t4) {
              var r4 = null;
              return e4 ? (n3.hasOwnProperty(e4) ? r4 = n3[e4] : t4 || (r4 = new na(), n3[e4] = r4), r4) : r4;
            }
            function p2(e4, t4, n4) {
              var i3 = h2(e4);
              null !== i3 && (i3[t4].push(n4), i3[t4].length > r3.get().streaming.metrics.maxListDepth && i3[t4].shift());
            }
            function m2(e4, t4, n4) {
              p2(e4, t4, n4), g2(e4, t4, n4);
            }
            return t3 = { clearCurrentMetricsForType: function(e4) {
              delete n3[e4], f2(e4);
            }, clearAllCurrentMetrics: function() {
              n3 = {}, c2();
            }, getMetricsFor: h2, addHttpRequest: function e4(t4, n4, r4, i3, a3, o3, u2, l2, c3, f3, d3, g3, h3, p3, y2, E2, v2) {
              var _2 = new C.w();
              null != o3 && o3 !== i3 && (e4(t4, null, r4, i3, a3, null, null, l2, c3, null, null, null, h3, null, null, E2, v2), _2.actualurl = o3), _2.tcpid = n4, _2.type = r4, _2.url = i3, _2.range = l2, _2.trequest = c3, _2.tresponse = f3, _2.responsecode = g3, _2.cmsd = v2, _2._tfinish = d3, _2._stream = t4, _2._mediaduration = h3, _2._quality = a3, _2._responseHeaders = p3, _2._serviceLocation = u2, _2._fileLoaderType = E2, y2 ? y2.forEach(function(e5) {
                !function(e6, t5, n5, r5) {
                  var i4 = new C.O();
                  i4.s = t5, i4.d = n5, i4.b = r5, e6.trace.push(i4), e6.interval || (e6.interval = 0), e6.interval += n5;
                }(_2, e5.s, e5.d, e5.b);
              }) : (delete _2.interval, delete _2.trace), m2(t4, s2.Z.HTTP_REQUEST, _2);
            }, addRepresentationSwitch: function(e4, t4, n4, r4, i3) {
              var a3 = new ra();
              a3.t = t4, a3.mt = n4, a3.to = r4, i3 ? a3.lto = i3 : delete a3.lto, m2(e4, s2.Z.TRACK_SWITCH, a3);
            }, addBufferLevel: function(e4, t4, n4) {
              var r4 = new ia();
              r4.t = t4, r4.level = n4, m2(e4, s2.Z.BUFFER_LEVEL, r4);
            }, addBufferState: function(e4, t4, n4) {
              var r4 = new aa();
              r4.target = n4, r4.state = t4, m2(e4, s2.Z.BUFFER_STATE, r4);
            }, addDVRInfo: function(e4, t4, n4, r4) {
              var i3 = new oa();
              i3.time = t4, i3.range = r4, i3.manifestInfo = n4, m2(e4, s2.Z.DVR_INFO, i3);
            }, addDroppedFrames: function(e4, t4) {
              var n4 = new sa(), r4 = h2(e4).DroppedFrames;
              t4 && (n4.time = t4.creationTime, n4.droppedFrames = t4.droppedVideoFrames, r4.length > 0 && r4[r4.length - 1] == n4 || m2(e4, s2.Z.DROPPED_FRAMES, n4));
            }, addSchedulingInfo: function(e4, t4, n4, r4, i3, a3, o3, u2, l2) {
              var c3 = new da();
              c3.mediaType = e4, c3.t = t4, c3.type = n4, c3.startTime = r4, c3.availabilityStartTime = i3, c3.duration = a3, c3.quality = o3, c3.range = u2, c3.state = l2, m2(e4, s2.Z.SCHEDULING_INFO, c3);
            }, addRequestsQueue: function(e4, t4, n4) {
              var r4 = new ga();
              r4.loadingRequests = t4, r4.executedRequests = n4, h2(e4).RequestsQueue = r4, g2(e4, s2.Z.REQUESTS_QUEUE, r4);
            }, addManifestUpdate: function(e4, t4, n4, r4, i3, o3, u2, l2, c3, f3) {
              var d3 = new la();
              d3.mediaType = e4, d3.type = t4, d3.requestTime = n4, d3.fetchTime = r4, d3.availabilityStartTime = i3, d3.presentationStartTime = o3, d3.clientTimeOffset = u2, d3.currentTime = l2, d3.buffered = c3, d3.latency = f3, p2(a2.Z.STREAM, s2.Z.MANIFEST_UPDATE, d3), g2(e4, s2.Z.MANIFEST_UPDATE, d3);
            }, updateManifestUpdateInfo: function(e4, t4) {
              if (e4) {
                for (var n4 in t4)
                  e4[n4] = t4[n4];
                d2(e4.mediaType, s2.Z.MANIFEST_UPDATE, e4);
              }
            }, addManifestUpdateStreamInfo: function(e4, t4, n4, r4, i3) {
              if (e4) {
                var a3 = new ca();
                a3.id = t4, a3.index = n4, a3.start = r4, a3.duration = i3, e4.streamInfo.push(a3), d2(e4.mediaType, s2.Z.MANIFEST_UPDATE_STREAM_INFO, e4);
              }
            }, addManifestUpdateRepresentationInfo: function(e4, t4, n4, r4, i3, a3, o3, u2) {
              if (e4 && e4.representationInfo) {
                var l2 = new fa();
                l2.id = t4, l2.index = n4, l2.streamIndex = r4, l2.mediaType = i3, l2.startNumber = o3, l2.fragmentInfoType = u2, l2.presentationTimeOffset = a3, e4.representationInfo.push(l2), d2(e4.mediaType, s2.Z.MANIFEST_UPDATE_TRACK_INFO, e4);
              }
            }, addPlayList: function(e4) {
              e4.trace && Array.isArray(e4.trace) ? e4.trace.forEach(function(e5) {
                e5.hasOwnProperty("subreplevel") && !e5.subreplevel && delete e5.subreplevel;
              }) : delete e4.trace, m2(a2.Z.STREAM, s2.Z.PLAY_LIST, e4);
            }, addDVBErrors: function(e4) {
              m2(a2.Z.STREAM, s2.Z.DVB_ERRORS, e4);
            } }, n3 = {}, t3;
          }
          ha.__dashjs_factory_name = "MetricsModel";
          var pa = c.Z.getSingletonFactory(ha);
          function ma(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, o2 = this.context, u2 = e3.metricsModel;
            function l2(e4) {
              var t4 = u2.getMetricsFor(e4, true);
              if (!t4)
                return null;
              var n4, r4 = t4.HttpList, i3 = null;
              if (!r4 || r4.length <= 0)
                return null;
              for (n4 = r4.length - 1; n4 >= 0; ) {
                if (r4[n4].responsecode) {
                  i3 = r4[n4];
                  break;
                }
                n4--;
              }
              return i3;
            }
            function c2(e4) {
              var t4 = u2.getMetricsFor(e4, true);
              return t4 && t4.HttpList ? t4.HttpList : [];
            }
            function f2(e4, t4) {
              if (!e4)
                return null;
              var n4 = e4[t4];
              return n4 && 0 !== n4.length ? n4[n4.length - 1] : null;
            }
            return t3 = { getCurrentRepresentationSwitch: function(e4) {
              return f2(u2.getMetricsFor(e4, true), s2.Z.TRACK_SWITCH);
            }, getCurrentBufferState: function(e4) {
              return f2(u2.getMetricsFor(e4, true), s2.Z.BUFFER_STATE);
            }, getCurrentBufferLevel: function(e4) {
              var t4 = f2(u2.getMetricsFor(e4, true), s2.Z.BUFFER_LEVEL);
              return t4 ? ta.round10(t4.level / 1e3, -3) : 0;
            }, getCurrentHttpRequest: l2, getHttpRequests: c2, getCurrentDroppedFrames: function() {
              return f2(u2.getMetricsFor(a2.Z.VIDEO, true), s2.Z.DROPPED_FRAMES);
            }, getCurrentSchedulingInfo: function(e4) {
              return f2(u2.getMetricsFor(e4, true), s2.Z.SCHEDULING_INFO);
            }, getCurrentDVRInfo: function(e4) {
              return f2(e4 ? u2.getMetricsFor(e4, true) : u2.getMetricsFor(a2.Z.VIDEO, true) || u2.getMetricsFor(a2.Z.AUDIO, true), s2.Z.DVR_INFO);
            }, getCurrentManifestUpdate: function() {
              return f2(u2.getMetricsFor(a2.Z.STREAM), s2.Z.MANIFEST_UPDATE);
            }, getLatestFragmentRequestHeaderValueByID: function(e4, t4) {
              if (!t4)
                return null;
              var n4 = {}, r4 = l2(e4);
              r4 && (n4 = Ye.Z.parseHttpHeaders(r4._responseHeaders));
              var i3 = n4[t4.toLowerCase()];
              return void 0 === i3 ? null : i3;
            }, getLatestMPDRequestHeaderValueByID: function(e4) {
              if (!e4)
                return null;
              var t4, n4, r4, i3 = {};
              for (r4 = (t4 = c2(a2.Z.STREAM)).length - 1; r4 >= 0; r4--)
                if ((n4 = t4[r4]).type === C.w.MPD_TYPE) {
                  i3 = Ye.Z.parseHttpHeaders(n4._responseHeaders);
                  break;
                }
              var o3 = i3[e4.toLowerCase()];
              return void 0 === o3 ? null : o3;
            }, addRepresentationSwitch: function(e4, t4, n4, r4, i3) {
              u2.addRepresentationSwitch(e4, t4, n4, r4, i3);
            }, addDVRInfo: function(e4, t4, n4, r4) {
              u2.addDVRInfo(e4, t4, n4, r4);
            }, updateManifestUpdateInfo: function(e4) {
              var t4 = this.getCurrentManifestUpdate();
              u2.updateManifestUpdateInfo(t4, e4);
            }, addManifestUpdateStreamInfo: function(e4) {
              if (e4) {
                var t4 = this.getCurrentManifestUpdate();
                u2.addManifestUpdateStreamInfo(t4, e4.id, e4.index, e4.start, e4.duration);
              }
            }, addManifestUpdateRepresentationInfo: function(e4, t4) {
              if (e4) {
                var n4 = this.getCurrentManifestUpdate();
                u2.addManifestUpdateRepresentationInfo(n4, e4.id, e4.index, e4.streamIndex, t4, e4.presentationTimeOffset, e4.startNumber, e4.fragmentInfoType);
              }
            }, addManifestUpdate: function(e4) {
              u2.addManifestUpdate(a2.Z.STREAM, e4.type, e4.requestStartDate, e4.requestEndDate);
            }, addHttpRequest: function(e4, t4, n4, r4, i3, a3) {
              u2.addHttpRequest(e4.mediaType, null, e4.type, e4.url, e4.quality, t4, e4.serviceLocation || null, e4.range || null, e4.requestStartDate, e4.firstByteDate, e4.requestEndDate, n4, e4.duration, r4, i3, e4.fileLoaderType, a3);
            }, addSchedulingInfo: function(e4, t4) {
              u2.addSchedulingInfo(e4.mediaType, /* @__PURE__ */ new Date(), e4.type, e4.startTime, e4.availabilityStartTime, e4.duration, e4.quality, e4.range, t4);
            }, addRequestsQueue: function(e4, t4, n4) {
              u2.addRequestsQueue(e4, t4, n4);
            }, addBufferLevel: function(e4, t4, n4) {
              u2.addBufferLevel(e4, t4, n4);
            }, addBufferState: function(e4, t4, n4) {
              u2.addBufferState(e4, t4, n4);
            }, addDroppedFrames: function(e4) {
              u2.addDroppedFrames(a2.Z.VIDEO, e4);
            }, addPlayList: function() {
              i2 && (u2.addPlayList(i2), i2 = null);
            }, addDVBErrors: function(e4) {
              u2.addDVBErrors(e4);
            }, createPlaylistMetrics: function(e4, t4) {
              (i2 = new $()).start = /* @__PURE__ */ new Date(), i2.mstart = e4, i2.starttype = t4;
            }, createPlaylistTraceMetrics: function(e4, t4, i3) {
              true === n3 && (n3 = false, (r3 = new ee()).representationid = e4, r3.start = /* @__PURE__ */ new Date(), r3.mstart = t4, r3.playbackspeed = null !== i3 ? i3.toString() : null);
            }, updatePlayListTraceMetrics: function(e4) {
              if (r3)
                for (var t4 in r3)
                  r3[t4] = e4[t4];
            }, pushPlayListTraceMetrics: function(e4, t4) {
              if (false === n3 && i2 && r3 && r3.start) {
                var a3 = r3.start, o3 = e4.getTime() - a3.getTime();
                r3.duration = o3, r3.stopreason = t4, i2.trace.push(r3), n3 = true;
              }
            }, clearAllCurrentMetrics: function() {
              u2.clearAllCurrentMetrics();
            } }, u2 = u2 || pa(o2).getInstance({ settings: e3.settings }), n3 = true, r3 = null, i2 = null, t3;
          }
          ma.__dashjs_factory_name = "DashMetrics";
          var ya = c.Z.getSingletonFactory(ma);
          function Ea() {
            var e3, t3, n3, r3, i2 = this.context, s3 = (0, u.Z)(i2).getInstance(), c2 = (0, N.Z)(i2).getInstance();
            function f2(e4) {
              r3 = e4;
            }
            function g2(e4, t4, n4, r4) {
              var i3, a3 = t4.adaptation.period.mpd, o2 = a3.availabilityStartTime;
              if (r4)
                i3 = n4 && a3.timeShiftBufferDepth !== Number.POSITIVE_INFINITY ? new Date(o2.getTime() + 1e3 * (e4 + a3.timeShiftBufferDepth)) : a3.availabilityEndTime;
              else if (n4) {
                var s4 = t4.availabilityTimeOffset;
                i3 = new Date(o2.getTime() + 1e3 * (e4 - s4));
              } else
                i3 = o2;
              return i3;
            }
            function h2(e4, t4) {
              return (e4.getTime() - t4.mpd.availabilityStartTime.getTime() + 1e3 * r3) / 1e3;
            }
            function p2(e4, t4) {
              return e4 + (t4.adaptation.period.start - t4.presentationTimeOffset);
            }
            function m2(e4) {
              var n4 = { start: NaN, end: NaN }, r4 = e4[0].getAdapter().getRegularPeriods()[0], i3 = h2(/* @__PURE__ */ new Date(), r4);
              if (!e4 || 0 === e4.length)
                return { range: n4, now: i3 };
              e4.forEach(function(e5) {
                var r5 = e5.getAdapter(), s5 = r5.getMediaInfoForType(e5.getStreamInfo(), a2.Z.VIDEO) || r5.getMediaInfoForType(e5.getStreamInfo(), a2.Z.AUDIO), u2 = r5.getVoRepresentations(s5)[0], l2 = { start: NaN, end: NaN };
                if (u2)
                  if (u2.segmentInfoType === o.Z.SEGMENT_TIMELINE)
                    l2 = function(e6) {
                      var n5, r6, i4, a3, o2 = e6.adaptation.period.mpd.manifest.Period_asArray[e6.adaptation.period.index].AdaptationSet_asArray[e6.adaptation.index], s6 = t3.getRepresentationFor(e6.index, o2), u3 = s6.SegmentTemplate || s6.SegmentList, l3 = u3.SegmentTimeline, c4 = u3.timescale, f3 = l3.S_asArray, d2 = { start: 0, end: 0 }, g3 = f3[0].t, h3 = !isNaN(g3), m3 = h3 ? g3 : 0, y3 = 0;
                      for (h3 && (d2.start = p2(m3 / c4, e6)), i4 = 0, a3 = f3.length; i4 < a3; i4++)
                        r6 = 0, (n5 = f3[i4]).hasOwnProperty("r") && (r6 = n5.r), y3 += n5.d * (1 + r6);
                      return d2.end = p2((m3 + y3) / c4, e6), d2;
                    }(u2);
                  else {
                    var c3 = u2.adaptation.period;
                    l2.start = c3.start, l2.end = Math.max(i3, c3.start + c3.duration);
                  }
                !isNaN(l2.start) && (isNaN(n4.start) || n4.start > l2.start) && (n4.start = l2.start), !isNaN(l2.end) && (isNaN(n4.end) || n4.end < l2.end) && (n4.end = l2.end);
              }), n4.end = Math.min(i3, n4.end);
              var s4 = E2(e4, n4.end, true);
              return n4.end = isNaN(s4) ? n4.end : s4, n4.start = r4 && r4.mpd && r4.mpd.timeShiftBufferDepth && !isNaN(r4.mpd.timeShiftBufferDepth) && !isNaN(n4.end) ? Math.max(n4.end - r4.mpd.timeShiftBufferDepth, n4.start) : n4.start, n4.start = E2(e4, n4.start), { range: n4, now: i3 };
            }
            function y2(e4, t4) {
              n3 = e4 - t4.end;
            }
            function E2(e4, t4) {
              var n4 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
              try {
                for (var r4 = 0, i3 = false, a3 = NaN; !i3 && r4 < e4.length; ) {
                  var o2 = e4[r4].getStreamInfo();
                  o2.start <= t4 && (!isFinite(o2.duration) || o2.start + o2.duration >= t4) ? (a3 = t4, i3 = true) : !n4 && o2.start > t4 && (isNaN(a3) || o2.start < a3) ? a3 = o2.start : n4 && o2.start + o2.duration < t4 && (isNaN(a3) || o2.start + o2.duration > a3) && (a3 = o2.start + o2.duration), r4 += 1;
                }
                return a3;
              } catch (e5) {
                return t4;
              }
            }
            function v2(e4) {
              void 0 === e4.offset || isNaN(e4.offset) || f2(e4.offset / 1e3);
            }
            function _2() {
              r3 = 0, n3 = 0;
            }
            function T2() {
              s3.off(l.Z.UPDATE_TIME_SYNC_OFFSET, v2, this), _2();
            }
            return e3 = { initialize: function() {
              _2(), s3.on(l.Z.UPDATE_TIME_SYNC_OFFSET, v2, this);
            }, getClientTimeOffset: function() {
              return r3;
            }, setClientTimeOffset: f2, getClientReferenceTime: function() {
              return Date.now() - 1e3 * n3 + 1e3 * r3;
            }, calcAvailabilityStartTimeFromPresentationTime: function(e4, t4, n4) {
              return g2(e4, t4, n4);
            }, calcAvailabilityEndTimeFromPresentationTime: function(e4, t4, n4) {
              return g2(e4, t4, n4, true);
            }, calcPresentationTimeFromWallTime: h2, calcPresentationTimeFromMediaTime: p2, calcPeriodRelativeTimeFromMpdRelativeTime: function(e4, t4) {
              return t4 - e4.adaptation.period.start;
            }, calcMediaTimeFromPresentationTime: function(e4, t4) {
              return e4 - t4.adaptation.period.start + t4.presentationTimeOffset;
            }, calcWallTimeForSegment: function(e4, t4) {
              var n4, r4, i3;
              return t4 && (n4 = e4.representation.adaptation.period.mpd.suggestedPresentationDelay, r4 = e4.presentationStartTime + n4, i3 = new Date(e4.availabilityStartTime.getTime() + 1e3 * r4)), i3;
            }, calcTimeShiftBufferWindow: function(e4, t4) {
              if (!t4)
                return function(e5) {
                  var t5 = { start: NaN, end: NaN }, n5 = 0, r4 = NaN;
                  return e5.forEach(function(e6) {
                    var t6 = e6.getStreamInfo();
                    n5 += t6.duration, (isNaN(r4) || t6.start < r4) && (r4 = t6.start);
                  }), t5.start = r4, t5.end = r4 + n5, t5;
                }(e4);
              if (c2.get().streaming.timeShiftBuffer.calcFromSegmentTimeline) {
                var n4 = m2(e4);
                return y2(n4.now, n4.range), n4.range;
              }
              return function(e5) {
                var t5 = { start: NaN, end: NaN };
                if (!e5 || 0 === e5.length)
                  return t5;
                var n5 = e5[0].getAdapter().getRegularPeriods()[0], r4 = h2(/* @__PURE__ */ new Date(), n5), i3 = n5.mpd.timeShiftBufferDepth, a3 = isNaN(i3) ? 0 : r4 - i3;
                if (t5.start = E2(e5, a3), t5.end = !isNaN(t5.start) && r4 < t5.start ? r4 : E2(e5, r4, true), !isNaN(i3) && t5.end < r4 - i3 && (t5.end = NaN), c2.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline) {
                  var o2 = m2(e5);
                  if (o2.range.end < t5.start)
                    return s3.trigger(d.Z.CONFORMANCE_VIOLATION, { level: on.LEVELS.WARNING, event: on.EVENTS.INVALID_DVR_WINDOW }), y2(o2.now, o2.range), o2.range;
                }
                return t5;
              }(e4);
            }, reset: T2 }, t3 = qe(i2).getInstance(), T2(), e3;
          }
          Ea.__dashjs_factory_name = "TimelineConverter";
          var va = c.Z.getSingletonFactory(Ea), _a = n2(4593), Ta = n2(6934);
          function Sa(e3) {
            return Sa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, Sa(e3);
          }
          function ba(e3, t3) {
            return ba = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, ba(e3, t3);
          }
          function Aa(e3, t3) {
            return !t3 || "object" !== Sa(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function Ia(e3) {
            return Ia = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, Ia(e3);
          }
          var Ra = function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && ba(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = Ia(t3);
              if (n3) {
                var i3 = Ia(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return Aa(this, e4);
            });
            function i2() {
              var e4;
              return function(e5, t4) {
                if (!(e5 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2), (e4 = r3.call(this)).captionData = null, e4.label = null, e4.defaultTrack = false, e4.kind = null, e4.isFragmented = false, e4.isEmbedded = false, e4.isTTML = null, e4;
            }
            return i2;
          }(Yi), wa = n2(2295);
          function Na() {
            var e3 = 0;
            function t3(e4) {
              for (var t4 = "", n4 = 0; n4 < e4.length; ++n4)
                t4 += e4[n4].uchar;
              return t4.length - t4.replace(/^\s+/, "").length;
            }
            function n3(e4) {
              return "left: " + 3.125 * e4.x + "%; top: " + 6.66 * e4.y1 + "%; width: " + (100 - 3.125 * e4.x) + "%; height: " + 6.66 * Math.max(e4.y2 - 1 - e4.y1, 1) + "%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;";
            }
            function r3(e4) {
              return "red" === e4 ? "rgb(255, 0, 0)" : "green" === e4 ? "rgb(0, 255, 0)" : "blue" === e4 ? "rgb(0, 0, 255)" : "cyan" === e4 ? "rgb(0, 255, 255)" : "magenta" === e4 ? "rgb(255, 0, 255)" : "yellow" === e4 ? "rgb(255, 255, 0)" : "white" === e4 ? "rgb(255, 255, 255)" : "black" === e4 ? "rgb(0, 0, 0)" : e4;
            }
            function i2(e4, t4) {
              var n4 = e4.videoHeight / 15;
              return t4 ? "font-size: " + n4 + "px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: " + (t4.foreground ? r3(t4.foreground) : "rgb(255, 255, 255)") + "; font-style: " + (t4.italics ? "italic" : "normal") + "; text-decoration: " + (t4.underline ? "underline" : "none") + "; white-space: pre; background-color: " + (t4.background ? r3(t4.background) : "transparent") + ";" : "font-size: " + n4 + "px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;";
            }
            function a3(e4) {
              return e4.replace(/^\s+/g, "");
            }
            function o2(e4) {
              return e4.replace(/\s+$/g, "");
            }
            return { createHTMLCaptionsFromScreen: function(r4, s3, u2, l2) {
              var c2, f2, d2 = null, g2 = false, h2 = -1, p2 = { start: s3, end: u2, spans: [] }, m2 = "style_cea608_white_black", y2 = {}, E2 = {}, v2 = [];
              for (c2 = 0; c2 < 15; ++c2) {
                var _2 = l2.rows[c2], T2 = "", S2 = null;
                if (false === _2.isEmpty()) {
                  var b2 = t3(_2.chars);
                  null === d2 && (d2 = { x: b2, y1: c2, y2: c2 + 1, p: [] }), b2 !== h2 && g2 && (d2.p.push(p2), p2 = { start: s3, end: u2, spans: [] }, d2.y2 = c2, d2.name = "region_" + d2.x + "_" + d2.y1 + "_" + d2.y2, false === y2.hasOwnProperty(d2.name) ? (v2.push(d2), y2[d2.name] = d2) : y2[d2.name].p.contat(d2.p), d2 = { x: b2, y1: c2, y2: c2 + 1, p: [] });
                  for (var A2 = 0; A2 < _2.chars.length; ++A2) {
                    var I2 = _2.chars[A2], R2 = I2.penState;
                    if (null === S2 || !R2.equals(S2)) {
                      T2.trim().length > 0 && (p2.spans.push({ name: m2, line: T2, row: c2 }), T2 = "");
                      var w2 = "style_cea608_" + R2.foreground + "_" + R2.background;
                      R2.underline && (w2 += "_underline"), R2.italics && (w2 += "_italics"), E2.hasOwnProperty(w2) || (E2[w2] = JSON.parse(JSON.stringify(R2))), S2 = R2, m2 = w2;
                    }
                    T2 += I2.uchar;
                  }
                  T2.trim().length > 0 && p2.spans.push({ name: m2, line: T2, row: c2 }), g2 = true, h2 = b2;
                } else
                  g2 = false, h2 = -1, d2 && (d2.p.push(p2), p2 = { start: s3, end: u2, spans: [] }, d2.y2 = c2, d2.name = "region_" + d2.x + "_" + d2.y1 + "_" + d2.y2, false === y2.hasOwnProperty(d2.name) ? (v2.push(d2), y2[d2.name] = d2) : y2[d2.name].p.contat(d2.p), d2 = null);
              }
              d2 && (d2.p.push(p2), d2.y2 = c2 + 1, d2.name = "region_" + d2.x + "_" + d2.y1 + "_" + d2.y2, false === y2.hasOwnProperty(d2.name) ? (v2.push(d2), y2[d2.name] = d2) : y2[d2.name].p.contat(d2.p), d2 = null);
              var N2 = [];
              for (c2 = 0; c2 < v2.length; ++c2) {
                var C2 = v2[c2], D2 = "sub_cea608_" + e3++, O2 = document.createElement("div");
                O2.id = D2;
                var M2 = n3(C2);
                O2.style.cssText = "position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;" + M2;
                var P2 = document.createElement("div");
                P2.className = "paragraph bodyStyle", P2.style.cssText = i2(r4);
                var L2 = document.createElement("div");
                L2.className = "cueUniWrapper", L2.style.cssText = "unicode-bidi: normal; direction: ltr;";
                for (var F2 = 0; F2 < C2.p.length; ++F2) {
                  var x2 = C2.p[F2], k2 = 0;
                  for (f2 = 0; f2 < x2.spans.length; ++f2) {
                    var U2 = x2.spans[f2];
                    if (U2.line.length > 0) {
                      if (0 !== f2 && k2 != U2.row) {
                        var Z2 = document.createElement("br");
                        Z2.className = "lineBreak", L2.appendChild(Z2);
                      }
                      var B2 = false;
                      k2 === U2.row && (B2 = true), k2 = U2.row;
                      var G2 = E2[U2.name], q2 = document.createElement("span");
                      q2.className = "spanPadding " + U2.name + " customSpanColor", q2.style.cssText = i2(r4, G2), 0 !== f2 && B2 ? f2 === x2.spans.length - 1 ? q2.textContent = o2(U2.line) : q2.textContent = U2.line : x2.spans.length > 1 && f2 < x2.spans.length - 1 && U2.row === x2.spans[f2 + 1].row ? q2.textContent = a3(U2.line) : q2.textContent = U2.line.trim(), L2.appendChild(q2);
                    }
                  }
                }
                P2.appendChild(L2), O2.appendChild(P2);
                var Y2 = { bodyStyle: ["%", 90] };
                for (var j2 in E2)
                  E2.hasOwnProperty(j2) && (Y2[j2] = ["%", 90]);
                N2.push({ type: "html", start: s3, end: u2, cueHTMLElement: O2, cueID: D2, cellResolution: [32, 15], isFromCEA608: true, fontSize: Y2, lineHeight: {}, linePadding: {} });
              }
              return N2;
            } };
          }
          Na.__dashjs_factory_name = "EmbeddedTextHtmlRender";
          var Ca = c.Z.getSingletonFactory(Na);
          function Da(e3) {
            var t3, n3, r3, o2, s3, c2, d2, g2, h2, p2, m2, y2, E2, v2, _2, T2, b2, A2 = e3.errHandler, I2 = e3.manifestModel, R2 = e3.mediaController, N2 = e3.videoModel, D2 = e3.textTracks, O2 = e3.vttParser, M2 = e3.vttCustomRenderingParser, P2 = e3.ttmlParser, L2 = e3.streamInfo, F2 = e3.settings, x2 = this.context, k2 = (0, u.Z)(x2).getInstance(), U2 = false;
            function Z2() {
              c2 = null, g2 = NaN, h2 = [], p2 = null, d2 = false, s3 = [], o2 = null;
            }
            function B2(e4) {
              var t4 = new Ra();
              for (var n4 in e4)
                t4[n4] = e4[n4];
              t4.labels = e4.labels, t4.defaultTrack = function(e5) {
                var t5 = false;
                return y2.length > 1 && e5.isEmbedded ? t5 = e5.id && e5.id === a2.Z.CC1 : 1 === y2.length ? e5.id && "string" == typeof e5.id && "CC" === e5.id.substring(0, 2) && (t5 = true) : 0 === y2.length && (t5 = e5.index === s3[0].index), t5;
              }(e4), t4.isFragmented = e4.isFragmented, t4.isEmbedded = !!e4.isEmbedded, t4.isTTML = function(e5) {
                return e5.codec && e5.codec.search(a2.Z.STPP) >= 0 || e5.mimeType && e5.mimeType.search(a2.Z.TTML) >= 0;
              }(e4), t4.kind = function(e5, t5) {
                var n5 = e5.roles && e5.roles.length > 0 ? t5[e5.roles[0]] : t5.caption;
                return n5 = n5 === t5.caption || n5 === t5.subtitle ? n5 : t5.caption;
              }(e4, { subtitle: "subtitles", caption: "captions" }), D2.addTextTrack(t4);
            }
            function G2(e4) {
              var t4 = e4.chunk;
              t4.mediaInfo.embeddedCaptions && Y2(t4.bytes, t4);
            }
            function q2(e4) {
              m2 = e4;
            }
            function Y2(e4, s4) {
              var u2 = s4.mediaInfo, l2 = u2.type, f2 = u2.mimeType, h3 = u2.codec || f2;
              h3 ? -1 !== u2.codec.indexOf("application/mp4") ? function(e5, i2, s5) {
                var u3;
                if ("InitializationSegment" === i2.segmentType)
                  d2 = true, g2 = r3.getMediaTimescaleFromMoov(e5);
                else {
                  if (!d2)
                    return;
                  (u3 = r3.getSamplesInfo(e5).sampleList).length > 0 && (p2 = u3[0].cts - i2.start * g2), s5.search(a2.Z.STPP) >= 0 ? function(e6, r4, i3) {
                    var s6, u4;
                    for (o2 = null !== o2 ? o2 : V2(i3), s6 = 0; s6 < r4.length; s6++) {
                      var l3 = r4[s6], f3 = l3.cts, d3 = H2(), h4 = d3 + f3 / g2, p3 = h4 + l3.duration / g2;
                      t3.buffered.add(h4, p3);
                      var y3 = new DataView(e6, l3.offset, l3.subSizes[0]), E3 = Ta.Utils.dataViewToString(y3, a2.Z.UTF8), v3 = [], _3 = l3.offset + l3.subSizes[0];
                      for (u4 = 1; u4 < l3.subSizes.length; u4++) {
                        var T3 = new Uint8Array(e6, _3, l3.subSizes[u4]), S2 = String.fromCharCode.apply(null, T3);
                        v3.push(S2), _3 += l3.subSizes[u4];
                      }
                      try {
                        var b3 = I2.getValue().ttmlTimeIsRelative ? f3 / g2 : 0, A3 = o2.parse(E3, b3, f3 / g2, (f3 + l3.duration) / g2, v3);
                        D2.addCaptions(m2, d3, A3);
                      } catch (e7) {
                        c2.removeExecutedRequestsBeforeTime(), this.remove(), n3.error("TTML parser error: " + e7.message);
                      }
                    }
                  }(e5, u3, s5) : function(e6, r4) {
                    var i3, a3, o3, s6 = [];
                    for (i3 = 0; i3 < r4.length; i3++) {
                      var u4 = r4[i3];
                      u4.cts -= p2;
                      var l3 = H2() + u4.cts / g2, c3 = l3 + u4.duration / g2;
                      t3.buffered.add(l3, c3);
                      var f3 = e6.slice(u4.offset, u4.offset + u4.size), d3 = Ta.parseBuffer(f3);
                      for (a3 = 0; a3 < d3.boxes.length; a3++) {
                        var h4 = d3.boxes[a3];
                        if (n3.debug("VTT box1: " + h4.type), "vtte" !== h4.type && "vttc" === h4.type) {
                          n3.debug("VTT vttc boxes.length = " + h4.boxes.length);
                          var y3 = { styles: {} };
                          for (o3 = 0; o3 < h4.boxes.length; o3++) {
                            var E3 = h4.boxes[o3];
                            if (n3.debug("VTT box2: " + E3.type), "payl" === E3.type)
                              y3.start = u4.cts / g2, y3.end = (u4.cts + u4.duration) / g2, y3.data = E3.cue_text;
                            else if ("sttg" === E3.type && E3.settings && "" !== E3.settings)
                              try {
                                var v3 = E3.settings.split(" ");
                                y3.styles = O2.getCaptionStyles(v3);
                              } catch (e7) {
                              }
                          }
                          y3 && y3.data && (s6.push(y3), n3.debug("VTT  ".concat(y3.start, " - ").concat(y3.end, " :  ").concat(y3.data)));
                        }
                      }
                    }
                    s6.length > 0 && D2.addCaptions(m2, 0, s6);
                  }(e5, u3);
                }
              }(e4, s4, h3) : l2 === a2.Z.VIDEO ? function(e5, t4) {
                var a3, o3;
                if (t4.segmentType === C.w.INIT_SEGMENT_TYPE)
                  0 === E2 && (E2 = r3.getMediaTimescaleFromMoov(e5));
                else if (t4.segmentType === C.w.MEDIA_SEGMENT_TYPE) {
                  if (0 === E2)
                    return void n3.warn("CEA-608: No timescale for embeddedTextTrack yet");
                  var s5 = (o3 = r3.getSamplesInfo(e5)).lastSequenceNumber, u3 = Math.trunc(t4.start), l3 = Math.trunc(t4.end);
                  if (T2[0] || T2[1] || function() {
                    for (var e6, t5 = 0; t5 < y2.length; t5++) {
                      if (-1 === (e6 = D2.getTrackIdxForId(y2[t5].id)))
                        return void n3.warn("CEA-608: data before track is ready.");
                      var r4 = j2(e6);
                      T2[t5] = new (i()).Cea608Parser(t5 + 1, { newCue: r4 }, null);
                    }
                  }(), E2) {
                    if (function(e6, t5, n4, r4, i2) {
                      return null !== e6 && null !== t5 && null !== r4 && null !== i2 && (t5 === e6 ? r4 !== i2 : t5 !== e6 + n4);
                    }(v2, s5, o3.numSequences, _2, u3))
                      for (a3 = 0; a3 < T2.length; a3++)
                        T2[a3] && T2[a3].reset();
                    for (var c3 = function(e6, t5) {
                      if (0 === t5.length)
                        return null;
                      for (var n4 = { splits: [], fields: [[], []] }, r4 = new DataView(e6), a4 = 0; a4 < t5.length; a4++)
                        for (var o4 = t5[a4], s6 = i().findCea608Nalus(r4, o4.offset, o4.size), u4 = null, l4 = 0, c4 = 0; c4 < s6.length; c4++)
                          for (var f4 = i().extractCea608DataFromRange(r4, s6[c4]), d4 = 0; d4 < 2; d4++)
                            if (f4[d4].length > 0) {
                              o4.cts !== u4 ? l4 = 0 : l4 += 1;
                              var g4 = H2();
                              n4.fields[d4].push([o4.cts + g4 * E2, f4[d4], l4]), u4 = o4.cts;
                            }
                      return n4.fields.forEach(function(e7) {
                        e7.sort(function(e8, t6) {
                          return e8[0] === t6[0] ? e8[2] - t6[2] : e8[0] - t6[0];
                        });
                      }), n4;
                    }(e5, o3.sampleList), f3 = 0; f3 < T2.length; f3++) {
                      var d3 = c3.fields[f3], g3 = T2[f3];
                      if (g3)
                        for (a3 = 0; a3 < d3.length; a3++)
                          g3.addData(d3[a3][0] / E2, d3[a3][1]);
                    }
                    v2 = s5, _2 = l3;
                  }
                }
              }(e4, s4) : function(e5, n4, r4) {
                var i2, o3, s5 = new DataView(e5, 0, e5.byteLength);
                o3 = Ta.Utils.dataViewToString(s5, a2.Z.UTF8);
                try {
                  i2 = V2(r4).parse(o3, 0), D2.addCaptions(D2.getCurrentTrackIdx(), 0, i2), t3.buffered && t3.buffered.add(n4.start, n4.end);
                } catch (e6) {
                  A2.error(new S.Z(w.TIMED_TEXT_ERROR_ID_PARSE_CODE, w.TIMED_TEXT_ERROR_MESSAGE_PARSE + e6.message, o3));
                }
              }(e4, s4, h3) : n3.error("No text type defined");
            }
            function j2(e4) {
              return function(t4, n4, r4) {
                var i2;
                (i2 = N2.getTTMLRenderingDiv() ? b2.createHTMLCaptionsFromScreen(N2.getElement(), t4, n4, r4) : [{ start: t4, end: n4, data: r4.getDisplayText(), styles: {} }]) && D2.addCaptions(e4, 0, i2);
              };
            }
            function H2() {
              return isNaN(t3.timestampOffset) ? 0 : t3.timestampOffset;
            }
            function V2(e4) {
              var t4;
              return e4.search(a2.Z.VTT) >= 0 ? t4 = F2.get().streaming.text.webvtt.customRenderingEnabled && M2 ? M2 : O2 : (e4.search(a2.Z.TTML) >= 0 || e4.search(a2.Z.STPP) >= 0) && (t4 = P2), t4;
            }
            function K2(e4) {
              y2.forEach(function(t4) {
                var n4 = D2.getTrackIdxForId(t4.id);
                n4 >= 0 && D2.deleteCuesFromTrackIdx(n4, e4.from, e4.to);
              });
            }
            return t3 = { initialize: function() {
              U2 || (y2 = [], m2 = null, E2 = 0, T2 = [], v2 = null, _2 = null, U2 = true, b2 = Ca(x2).getInstance(), k2.on(l.Z.VIDEO_CHUNK_RECEIVED, G2, t3), k2.on(l.Z.BUFFER_CLEARED, K2, t3));
            }, addMediaInfos: function(e4, n4, r4) {
              if (s3 = s3.concat(n4), e4 === a2.Z.TEXT && n4[0].isFragmented && !n4[0].isEmbedded) {
                c2 = r4, t3.buffered = (0, wa.Z)(x2).create(), h2 = R2.getTracksFor(a2.Z.TEXT, L2.id).filter(function(e5) {
                  return e5.isFragmented;
                });
                for (var i2 = R2.getCurrentTrackFor(a2.Z.TEXT, L2.id), o3 = 0; o3 < h2.length; o3++)
                  if (h2[o3] === i2) {
                    q2(o3);
                    break;
                  }
              }
              for (var u2 = 0; u2 < n4.length; u2++)
                B2(n4[u2]);
            }, resetMediaInfos: function() {
              s3 = [];
            }, getStreamId: function() {
              return L2.id;
            }, append: Y2, abort: function() {
            }, addEmbeddedTrack: function(e4) {
              if (U2 && e4)
                if (e4.id === a2.Z.CC1 || e4.id === a2.Z.CC3) {
                  for (var t4 = 0; t4 < y2.length; t4++)
                    if (y2[t4].id === e4.id)
                      return;
                  y2.push(e4);
                } else
                  n3.warn("Embedded track " + e4.id + " not supported!");
            }, resetEmbedded: function() {
              k2.off(l.Z.VIDEO_CHUNK_RECEIVED, G2, t3), k2.off(l.Z.BUFFER_CLEARED, K2, t3), D2 && D2.deleteAllTextTracks(), U2 = false, y2 = [], T2 = [null, null], v2 = null, _2 = null;
            }, getConfig: function() {
              return { fragmentModel: c2, fragmentedTracks: h2, videoModel: N2 };
            }, setCurrentFragmentedTrackIdx: q2, remove: function(e4, n4) {
              void 0 === e4 && e4 === n4 && (e4 = t3.buffered.start(0), n4 = t3.buffered.end(t3.buffered.length - 1)), t3.buffered.remove(e4, n4), D2.deleteCuesFromTrackIdx(m2, e4, n4);
            }, reset: function() {
              Z2(), s3 = [], r3 = null;
            } }, n3 = (0, f.Z)(x2).getInstance().getLogger(t3), r3 = (0, Ut.Z)(x2).getInstance(), Z2(), t3;
          }
          Da.__dashjs_factory_name = "TextSourceBuffer";
          var Oa = c.Z.getClassFactory(Da), Ma = n2(4403);
          function Pa(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var n3 = 0, r3 = new Array(t3); n3 < t3; n3++)
              r3[n3] = e3[n3];
            return r3;
          }
          var La = ["text", "align", "fontSize", "id", "isd", "line", "lineAlign", "lineHeight", "linePadding", "position", "positionAlign", "region", "size", "snapToLines", "vertical"];
          function Fa(e3) {
            var t3, n3, r3, i2, o2, s3, c2, g2, h2, p2, m2, y2, E2, v2, _2, T2, S2, b2, A2, I2, R2 = this.context, w2 = (0, u.Z)(R2).getInstance(), N2 = e3.videoModel, C2 = e3.streamInfo, D2 = e3.settings;
            function O2(e4, t4, n4, r4, i3, a3) {
              var o3 = 0, s4 = 0;
              e4 / t4 > n4 / r4 ? o3 = (s4 = t4) / r4 * n4 : s4 = (o3 = e4) / n4 * r4;
              var u2, l2, c3 = 0, f2 = 0;
              return o3 / s4 > i3 ? (f2 = s4, c3 = s4 * i3) : (c3 = o3, f2 = o3 / i3), u2 = (e4 - c3) / 2, l2 = (t4 - f2) / 2, a3 ? { x: u2 + 0.1 * c3, y: l2 + 0.1 * f2, w: 0.8 * c3, h: 0.8 * f2 } : { x: u2, y: l2, w: c3, h: f2 };
            }
            function M2(e4, t4) {
              var n4 = N2.getClientWidth(), r4 = N2.getClientHeight(), i3 = N2.getVideoWidth(), a3 = N2.getVideoHeight(), o3 = N2.getVideoRelativeOffsetTop(), s4 = N2.getVideoRelativeOffsetLeft();
              if (0 !== i3 && 0 !== a3) {
                var u2 = i3 / a3, l2 = false;
                e4.isFromCEA608 && (u2 = 3.5 / 3, l2 = true);
                var f2 = O2.call(this, n4, r4, i3, a3, u2, l2), y3 = f2.w, E3 = f2.h, T3 = f2.x, b3 = f2.y;
                if (y3 != h2 || E3 != p2 || T3 != c2 || b3 != g2 || t4) {
                  if (c2 = T3 + s4, g2 = b3 + o3, h2 = y3, p2 = E3, m2) {
                    var A3 = m2.style;
                    A3 && (A3.left = c2 + "px", A3.top = g2 + "px", A3.width = h2 + "px", A3.height = p2 + "px", A3.zIndex = v2 && document[v2] || _2 ? S2 : null, w2.trigger(d.Z.CAPTION_CONTAINER_RESIZE));
                  }
                  var I3 = e4.activeCues;
                  if (I3)
                    for (var R3 = I3.length, C3 = 0; C3 < R3; ++C3) {
                      var D3 = I3[C3];
                      D3.scaleCue(D3);
                    }
                }
              }
            }
            function P2(e4) {
              var t4, n4, r4, i3, a3, o3 = h2, s4 = p2;
              if (e4.cellResolution) {
                var u2 = [o3 / e4.cellResolution[0], s4 / e4.cellResolution[1]];
                if (e4.linePadding) {
                  for (t4 in e4.linePadding)
                    if (e4.linePadding.hasOwnProperty(t4)) {
                      n4 = (e4.linePadding[t4] * u2[0]).toString();
                      for (var l2 = document.getElementsByClassName("spanPadding"), c3 = 0; c3 < l2.length; c3++)
                        l2[c3].style.cssText = l2[c3].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi, "$1" + n4), l2[c3].style.cssText = l2[c3].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi, "$1" + n4);
                    }
                }
                if (e4.fontSize) {
                  for (t4 in e4.fontSize)
                    if (e4.fontSize.hasOwnProperty(t4)) {
                      "%" === e4.fontSize[t4][0] ? r4 = e4.fontSize[t4][1] / 100 : "c" === e4.fontSize[t4][0] && (r4 = e4.fontSize[t4][1]), n4 = (r4 * u2[1]).toString(), a3 = "defaultFontSize" !== t4 ? document.getElementsByClassName(t4) : document.getElementsByClassName("paragraph");
                      for (var f2 = 0; f2 < a3.length; f2++)
                        a3[f2].style.cssText = a3[f2].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi, "$1" + n4);
                    }
                  if (e4.lineHeight) {
                    for (t4 in e4.lineHeight)
                      if (e4.lineHeight.hasOwnProperty(t4)) {
                        "%" === e4.lineHeight[t4][0] ? i3 = e4.lineHeight[t4][1] / 100 : "c" === e4.fontSize[t4][0] && (i3 = e4.lineHeight[t4][1]), n4 = (i3 * u2[1]).toString(), a3 = document.getElementsByClassName(t4);
                        for (var d2 = 0; d2 < a3.length; d2++)
                          a3[d2].style.cssText = a3[d2].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi, "$1" + n4);
                      }
                  }
                }
              }
              if (e4.isd) {
                var g3 = document.getElementById(e4.cueID);
                g3 && m2.removeChild(g3), F2(e4);
              }
            }
            function L2(e4, t4) {
              var n4 = /^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/, r4 = /^#(.*)$/;
              if (n4.test(t4)) {
                var i3 = n4.exec(t4), a3 = parseInt(i3[4], 10) - 1;
                return "data:image/png;base64," + btoa(e4.images[a3]);
              }
              if (r4.test(t4)) {
                var o3 = r4.exec(t4)[1];
                return "data:image/png;base64," + e4.embeddedImages[o3];
              }
              return t4;
            }
            function F2(e4) {
              if (m2) {
                ie2.call(this);
                var t4 = document.createElement("div");
                m2.appendChild(t4), T2 = (0, Ma.renderHTML)(e4.isd, t4, function(t5) {
                  return L2(e4, t5);
                }, m2.clientHeight, m2.clientWidth, D2.get().streaming.text.imsc.displayForcedOnlyMode, function(e5) {
                  n3.info("renderCaption :", e5);
                }, T2, D2.get().streaming.text.imsc.enableRollUp), t4.id = e4.cueID, w2.trigger(d.Z.CAPTION_RENDERED, { captionDiv: t4, currentTrackIdx: s3 });
              }
            }
            function x2(e4, t4) {
              return !!t4 && t4.endTime >= e4.startTime;
            }
            function k2(e4, t4) {
              return !!D2.get().streaming.text.extendSegmentedCues && !!function(e5, t5, n4) {
                for (var r4 = 0; r4 < n4.length; r4++) {
                  var i3 = n4[r4];
                  if (JSON.stringify(e5[i3]) !== JSON.stringify(t5[i3]))
                    return false;
                }
                return true;
              }(t4, e4, La) && (t4.endTime = Math.max(t4.endTime, e4.endTime), true);
            }
            function U2(e4, t4) {
              t4 && t4.forEach(function(t5) {
                t5.kind && "image" === t5.kind && (t5.src = L2(e4, t5.src)), U2(e4, t5.contents);
              });
            }
            function Z2(e4, t4, r4) {
              var i3 = W2(e4), o3 = D2.get().streaming.text.dispatchForManualRendering;
              if (i3 && Array.isArray(r4) && 0 !== r4.length)
                for (var s4 = 0; s4 < r4.length; s4++) {
                  var u2 = null, l2 = r4[s4];
                  i3.cellResolution = l2.cellResolution, i3.isFromCEA608 = l2.isFromCEA608, isNaN(l2.start) || isNaN(l2.end) || (o3 ? u2 = B2(l2, t4) : H2(l2) && m2 ? u2 = Y2(l2, t4, i3) : l2.data && (u2 = j2(l2, t4, i3)));
                  try {
                    if (u2) {
                      if (!J2(i3, u2))
                        if (D2.get().streaming.text.webvtt.customRenderingEnabled)
                          i3.manualCueList || (i3.manualCueList = []), i3.manualCueList.push(u2);
                        else {
                          var c3 = void 0;
                          i3.cues && 0 !== i3.cues.length && (c3 = i3.cues[i3.cues.length - 1]), x2(u2, c3) ? k2(u2, c3) || (c3.isd && (c3.onexit = function() {
                          }), i3.mode !== a2.Z.TEXT_DISABLED && i3.addCue(u2)) : i3.mode !== a2.Z.TEXT_DISABLED && i3.addCue(u2);
                        }
                      var f2 = D2.get().streaming.buffer.bufferToKeep;
                      ee2(i3, 0, N2.getTime() - f2);
                    } else
                      n3.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)");
                  } catch (e5) {
                    throw te2(i3), i3.addCue(u2), e5;
                  }
                }
            }
            function B2(e4, t4) {
              var n4 = V2(e4, t4);
              return n4.onenter = function() {
                H2(e4) && I2 && I2.cueID !== n4.cueID && q2(I2), delete n4.type, I2 = n4, G2(n4);
              }, n4.onexit = function() {
                q2(n4), I2 = null;
              }, n4;
            }
            function G2(e4) {
              w2.trigger(d.Z.CUE_ENTER, e4);
            }
            function q2(e4) {
              w2.trigger(d.Z.CUE_EXIT, { cueID: e4.cueID });
            }
            function Y2(e4, t4, r4) {
              var i3 = this, o3 = V2(e4, t4);
              return m2.style.left = c2 + "px", m2.style.top = g2 + "px", m2.style.width = h2 + "px", m2.style.height = p2 + "px", o3.onenter = function() {
                var e5 = this;
                r4.mode === a2.Z.TEXT_SHOWING && (this.isd ? (A2 ? requestAnimationFrame(function() {
                  return F2(e5);
                }) : F2(this), n3.debug("Cue enter id:" + this.cueID)) : (m2.appendChild(this.cueHTMLElement), P2.call(i3, this), w2.trigger(d.Z.CAPTION_RENDERED, { captionDiv: this.cueHTMLElement, currentTrackIdx: s3 })));
              }, o3.onexit = function() {
                if (m2)
                  for (var e5 = m2.childNodes, t5 = 0; t5 < e5.length; ++t5)
                    e5[t5].id === this.cueID && (n3.debug("Cue exit id:" + e5[t5].id), m2.removeChild(e5[t5]), --t5);
              }, o3;
            }
            function j2(e4, t4, r4) {
              var i3 = V2(e4, t4);
              if (i3.isActive = false, e4.styles)
                try {
                  void 0 !== e4.styles.align && "align" in i3 && (i3.align = e4.styles.align), void 0 !== e4.styles.line && "line" in i3 && (i3.line = e4.styles.line), void 0 !== e4.styles.snapToLines && "snapToLines" in i3 && (i3.snapToLines = e4.styles.snapToLines), void 0 !== e4.styles.position && "position" in i3 && (i3.position = e4.styles.position), void 0 !== e4.styles.size && "size" in i3 && (i3.size = e4.styles.size);
                } catch (e5) {
                  n3.error(e5);
                }
              return i3.onenter = function() {
                r4.mode === a2.Z.TEXT_SHOWING && w2.trigger(d.Z.CAPTION_RENDERED, { currentTrackIdx: s3 });
              }, i3;
            }
            function H2(e4) {
              return "html" === e4.type;
            }
            function V2(e4, t4) {
              return H2(e4) ? function(e5, t5) {
                var n4 = new r3(e5.start + t5, e5.end + t5, "");
                return n4.cueHTMLElement = e5.cueHTMLElement, n4.isd = e5.isd, n4.images = e5.images, n4.embeddedImages = e5.embeddedImages, n4.cueID = e5.cueID, n4.scaleCue = P2.bind(self), n4.cellResolution = e5.cellResolution, n4.lineHeight = e5.lineHeight, n4.linePadding = e5.linePadding, n4.fontSize = e5.fontSize, n4.isd && U2(n4, n4.isd.contents), n4;
              }(e4, t4) : function(e5, t5) {
                var n4 = new r3(e5.start - t5, e5.end - t5, e5.data);
                return n4.cueID = "".concat(n4.startTime, "_").concat(n4.endTime), n4;
              }(e4, t4);
            }
            function K2(e4) {
              if (y2)
                for (var t4 = y2.childNodes, n4 = 0; n4 < t4.length; ++n4)
                  t4[n4].id === e4.cueID && (y2.removeChild(t4[n4]), --n4);
            }
            function z2() {
              var e4, t4 = [], n4 = function(e5, t5) {
                var n5;
                if ("undefined" == typeof Symbol || null == e5[Symbol.iterator]) {
                  if (Array.isArray(e5) || (n5 = function(e6, t6) {
                    if (e6) {
                      if ("string" == typeof e6)
                        return Pa(e6, t6);
                      var n6 = Object.prototype.toString.call(e6).slice(8, -1);
                      return "Object" === n6 && e6.constructor && (n6 = e6.constructor.name), "Map" === n6 || "Set" === n6 ? Array.from(e6) : "Arguments" === n6 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n6) ? Pa(e6, t6) : void 0;
                    }
                  }(e5)) || t5 && e5 && "number" == typeof e5.length) {
                    n5 && (e5 = n5);
                    var r5 = 0, i3 = function() {
                    };
                    return { s: i3, n: function() {
                      return r5 >= e5.length ? { done: true } : { done: false, value: e5[r5++] };
                    }, e: function(e6) {
                      throw e6;
                    }, f: i3 };
                  }
                  throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                }
                var a3, o3 = true, s4 = false;
                return { s: function() {
                  n5 = e5[Symbol.iterator]();
                }, n: function() {
                  var e6 = n5.next();
                  return o3 = e6.done, e6;
                }, e: function(e6) {
                  s4 = true, a3 = e6;
                }, f: function() {
                  try {
                    o3 || null == n5.return || n5.return();
                  } finally {
                    if (s4)
                      throw a3;
                  }
                } };
              }(N2.getTextTracks());
              try {
                for (n4.s(); !(e4 = n4.n()).done; ) {
                  var r4 = e4.value;
                  r4.manualMode === a2.Z.TEXT_SHOWING && t4.push(r4);
                }
              } catch (e5) {
                n4.e(e5);
              } finally {
                n4.f();
              }
              return t4;
            }
            function W2(e4) {
              return e4 >= 0 && i2[e4] ? N2.getTextTrack(i2[e4].kind, i2[e4].id, i2[e4].lang, i2[e4].isTTML, i2[e4].isEmbedded) : null;
            }
            function X2(e4) {
              var t4 = this;
              if (e4 !== s3) {
                var n4 = W2(s3 = e4);
                Q2.call(this, n4), E2 && (clearInterval(E2), E2 = null), n4 && "html" === n4.renderingType && (M2.call(this, n4, true), window.ResizeObserver ? (b2 = new window.ResizeObserver(function() {
                  M2.call(t4, n4, true);
                })).observe(N2.getElement()) : E2 = setInterval(M2.bind(this, n4), 500));
              }
            }
            function Q2(e4) {
              ie2.call(this), e4 && "html" === e4.renderingType ? ne2.call(this) : re2.call(this);
            }
            function J2(e4, t4) {
              if (!e4.cues)
                return false;
              for (var n4 = 0; n4 < e4.cues.length; n4++)
                if (e4.cues[n4].startTime === t4.startTime && e4.cues[n4].endTime === t4.endTime)
                  return true;
              return false;
            }
            function $2(e4, t4, n4) {
              var r4 = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
              return !!e4 && (isNaN(t4) || (r4 ? e4.startTime : e4.endTime) >= t4) && (isNaN(n4) || (r4 ? e4.endTime : e4.startTime) <= n4);
            }
            function ee2(e4, t4, n4) {
              var r4, i3;
              if (!(n4 < t4) && e4 && (e4.cues || e4.manualCueList)) {
                var a3 = e4.cues && e4.cues.length > 0 ? "native" : "custom", o3 = "native" === a3 ? e4.cues : e4.manualCueList;
                if (!o3 || 0 === o3.length)
                  return;
                for (var s4 = o3.length - 1; s4 >= 0; s4--)
                  !$2(o3[s4], t4, n4, true) || (r4 = o3[s4], void 0, i3 = N2.getTime(), r4.startTime >= i3 && r4.endTime <= i3) || ("native" === a3 ? e4.removeCue(o3[s4]) : (K2(o3[s4]), delete e4.manualCueList[s4]));
              }
            }
            function te2(e4, t4, n4) {
              var r4 = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
              if (e4 && (e4.cues || e4.manualCueList)) {
                var i3 = e4.cues && e4.cues.length > 0 ? "native" : "custom", a3 = "native" === i3 ? e4.cues : e4.manualCueList;
                if (!a3 || 0 === a3.length)
                  return;
                for (var o3 = a3.length - 1, s4 = o3; s4 >= 0; s4--)
                  $2(a3[s4], t4, n4, r4) && ("native" === i3 ? (a3[s4].onexit && a3[s4].onexit(), e4.removeCue(a3[s4])) : (K2(a3[s4]), delete e4.manualCueList[s4]));
              }
            }
            function ne2() {
              var e4 = document.getElementById("native-cue-style");
              if (!e4) {
                (e4 = document.createElement("style")).id = "native-cue-style", document.head.appendChild(e4);
                var t4 = e4.sheet, r4 = N2.getElement();
                try {
                  r4 && (r4.id ? t4.insertRule("#" + r4.id + "::cue {background: transparent}", 0) : 0 !== r4.classList.length ? t4.insertRule("." + r4.className + "::cue {background: transparent}", 0) : t4.insertRule("video::cue {background: transparent}", 0));
                } catch (e5) {
                  n3.info("" + e5.message);
                }
              }
            }
            function re2() {
              var e4 = document.getElementById("native-cue-style");
              e4 && document.head.removeChild(e4);
            }
            function ie2() {
              if (m2)
                for (; m2.firstChild; )
                  m2.removeChild(m2.firstChild);
            }
            return t3 = { initialize: function() {
              "undefined" != typeof window && "undefined" != typeof navigator && (r3 = window.VTTCue || window.TextTrackCue, i2 = [], o2 = [], s3 = -1, c2 = 0, g2 = 0, h2 = 0, p2 = 0, m2 = null, y2 = null, E2 = null, _2 = false, S2 = 2147483647, T2 = null, A2 = "requestAnimationFrame" in window, void 0 !== document.fullscreenElement ? v2 = "fullscreenElement" : void 0 !== document.webkitIsFullScreen ? v2 = "webkitIsFullScreen" : document.msFullscreenElement ? v2 = "msFullscreenElement" : document.mozFullScreen && (v2 = "mozFullScreen"));
            }, getStreamId: function() {
              return C2.id;
            }, addTextTrack: function(e4) {
              i2.push(e4);
            }, addCaptions: Z2, createTracks: function() {
              var e4 = D2.get().streaming.text.dispatchForManualRendering;
              i2.sort(function(e5, t5) {
                return e5.index - t5.index;
              }), m2 = N2.getTTMLRenderingDiv(), y2 = N2.getVttRenderingDiv();
              for (var t4, n4, r4, u2, c3, f2, g3 = -1, h3 = 0; h3 < i2.length; h3++) {
                var p3 = (void 0, void 0, void 0, void 0, void 0, n4 = (t4 = i2[h3]).kind, r4 = void 0 !== t4.id ? t4.id : t4.lang, u2 = t4.lang, c3 = t4.isTTML, f2 = t4.isEmbedded, N2.addTextTrack(n4, r4, u2, c3, f2));
                o2.push(p3), i2[h3].defaultTrack && (p3.default = true, g3 = h3);
                var E3 = W2(h3);
                E3 && (E3.mode = a2.Z.TEXT_SHOWING, m2 && (i2[h3].isTTML || i2[h3].isEmbedded) ? E3.renderingType = "html" : E3.renderingType = "default"), Z2(h3, 0, i2[h3].captionData), w2.trigger(d.Z.TEXT_TRACK_ADDED);
              }
              if (X2.call(this, g3), g3 >= 0) {
                w2.on(d.Z.PLAYBACK_METADATA_LOADED, function e5() {
                  var t5 = W2(g3);
                  t5 && "html" === t5.renderingType && M2.call(this, t5, true), w2.off(d.Z.PLAYBACK_METADATA_LOADED, e5, this);
                }, this);
                for (var v3 = 0; v3 < i2.length; v3++) {
                  var _3 = W2(v3);
                  _3 && (_3.mode = v3 !== g3 || e4 ? a2.Z.TEXT_HIDDEN : a2.Z.TEXT_SHOWING, _3.manualMode = v3 === g3 ? a2.Z.TEXT_SHOWING : a2.Z.TEXT_HIDDEN);
                }
              }
              w2.trigger(l.Z.TEXT_TRACKS_QUEUE_INITIALIZED, { index: s3, tracks: i2, streamId: C2.id });
            }, getCurrentTrackIdx: function() {
              return s3;
            }, setCurrentTrackIdx: X2, getTrackIdxForId: function(e4) {
              for (var t4 = -1, n4 = 0; n4 < i2.length; n4++)
                if (i2[n4].id === e4) {
                  t4 = n4;
                  break;
                }
              return t4;
            }, getCurrentTrackInfo: function() {
              return i2[s3];
            }, setModeForTrackIdx: function(e4, t4) {
              var n4 = W2(e4);
              n4 && n4.mode !== t4 && (n4.mode = t4), n4 && n4.manualMode !== t4 && (n4.manualMode = t4);
            }, deleteCuesFromTrackIdx: function(e4, t4, n4) {
              var r4 = W2(e4);
              r4 && te2(r4, t4, n4);
            }, deleteAllTextTracks: function() {
              for (var e4 = o2 ? o2.length : 0, t4 = 0; t4 < e4; t4++) {
                var n4 = W2(t4);
                n4 && te2.call(this, n4, C2.start, C2.start + C2.duration, false);
              }
              o2 = [], i2 = [], E2 && (clearInterval(E2), E2 = null), b2 && N2 && (b2.unobserve(N2.getElement()), b2 = null), s3 = -1, ie2.call(this);
            }, manualCueProcessing: function(e4) {
              var t4 = z2();
              if (t4 && t4.length > 0) {
                var n4 = t4[0].manualCueList;
                n4 && n4.length > 0 && n4.forEach(function(t5) {
                  t5.startTime <= e4 && t5.endTime >= e4 && !t5.isActive ? (t5.isActive = true, D2.get().streaming.text.dispatchForManualRendering ? G2(t5) : WebVTT.processCues(window, [t5], y2, t5.cueID)) : t5.isActive && (t5.startTime > e4 || t5.endTime < e4) && (t5.isActive = false, D2.get().streaming.text.dispatchForManualRendering ? q2(t5) : K2(t5));
                });
              }
            }, disableManualTracks: function() {
              var e4 = z2();
              if (e4 && e4.length > 0) {
                var t4 = e4[0].manualCueList;
                t4 && t4.length > 0 && t4.forEach(function(e5) {
                  if (e5.isActive) {
                    if (e5.isActive = false, D2.get().streaming.text.dispatchForManualRendering)
                      q2(e5);
                    else if (y2)
                      for (var t5 = y2.childNodes, n4 = 0; n4 < t5.length; ++n4)
                        t5[n4].id === e5.cueID && (y2.removeChild(t5[n4]), --n4);
                  }
                });
              }
            } }, n3 = (0, f.Z)(R2).getInstance().getLogger(t3), t3;
          }
          Fa.__dashjs_factory_name = "TextTracks";
          var xa = c.Z.getClassFactory(Fa);
          function ka() {
            var e3, t3, n3, r3, i2, a3, o2 = this.context;
            function s3(e4) {
              var t4 = e4.split(":"), n4 = t4.length - 1;
              return e4 = 60 * parseInt(t4[n4 - 1], 10) + parseFloat(t4[n4]), 2 === n4 && (e4 += 3600 * parseInt(t4[0], 10)), e4;
            }
            function u2(e4) {
              var t4 = e4.split(r3), n4 = t4[1].split(a3);
              return n4.shift(), t4[1] = n4[0], n4.shift(), { cuePoints: t4, styles: l2(n4) };
            }
            function l2(e4) {
              var t4 = {};
              return e4.forEach(function(e5) {
                if (e5.split(/:/).length > 1) {
                  var n4 = e5.split(/:/)[1], r4 = false;
                  n4 && -1 != n4.search(/%/) && (r4 = true, n4 = parseInt(n4.replace(/%/, ""), 10)), (e5.match(/align/) || e5.match(/A/)) && (t4.align = n4), (e5.match(/line/) || e5.match(/L/)) && (t4.line = "auto" === n4 ? n4 : parseInt(n4, 10), r4 && (t4.snapToLines = false)), (e5.match(/position/) || e5.match(/P/)) && (t4.position = n4), (e5.match(/size/) || e5.match(/S/)) && (t4.size = n4);
                }
              }), t4;
            }
            function c2(e4, t4) {
              for (var n4, i3 = t4, a4 = "", o3 = ""; "" !== e4[i3] && i3 < e4.length; )
                i3++;
              if ((n4 = i3 - t4) > 1)
                for (var s4 = 0; s4 < n4; s4++) {
                  if ((o3 = e4[t4 + s4]).match(r3)) {
                    a4 = "";
                    break;
                  }
                  a4 += o3, s4 !== n4 - 1 && (a4 += "\n");
                }
              else
                (o3 = e4[t4]).match(r3) || (a4 = o3);
              return a4;
            }
            return e3 = { parse: function(e4) {
              var a4, o3, l3 = [];
              if (!e4)
                return l3;
              a4 = (e4 = e4.split(n3)).length, o3 = -1;
              for (var f2 = 0; f2 < a4; f2++) {
                var d2 = e4[f2];
                if (d2.length > 0 && "WEBVTT" !== d2 && d2.match(r3)) {
                  var g2 = u2(d2), h2 = g2.cuePoints, p2 = g2.styles, m2 = c2(e4, f2 + 1), y2 = s3(h2[0].replace(i2, "")), E2 = s3(h2[1].replace(i2, ""));
                  !isNaN(y2) && !isNaN(E2) && y2 >= o3 && E2 > y2 ? "" !== m2 ? (o3 = y2, l3.push({ start: y2, end: E2, data: m2, styles: p2 })) : t3.error("Skipping cue due to empty/malformed cue text") : t3.error("Skipping cue due to incorrect cue timing");
                }
              }
              return l3;
            }, getCaptionStyles: l2 }, t3 = (0, f.Z)(o2).getInstance().getLogger(e3), n3 = /(?:\r\n|\r|\n)/gm, r3 = /-->/, i2 = /(^[\s]+|[\s]+$)/g, a3 = /\s\b/g, e3;
          }
          ka.__dashjs_factory_name = "VTTParser";
          var Ua = c.Z.getSingletonFactory(ka);
          function Za() {
            var e3, t3;
            return e3 = { parse: function(e4) {
              var n3 = [];
              return t3.oncue = function(e5) {
                e5.start = e5.startTime, e5.end = e5.endTime, e5.data = e5.text, e5.styles = { align: e5.align, line: e5.line, position: e5.position, size: e5.size }, n3.push(e5);
              }, t3.parse(e4), n3;
            } }, function() {
              try {
                window && window.WebVTT && window.WebVTT.Parser && (t3 = new window.WebVTT.Parser(window, window.vttjs, window.WebVTT.StringDecoder()));
              } catch (e4) {
              }
            }(), e3;
          }
          Za.__dashjs_factory_name = "VttCustomRenderingParser";
          var Ba = c.Z.getSingletonFactory(Za);
          function Ga() {
            var e3, t3, n3 = this.context, r3 = (0, u.Z)(n3).getInstance(), i2 = 0;
            return e3 = { parse: function(e4, n4, a3, o2, s3) {
              var u2, c2, f2, g2 = "", h2 = [], p2 = {}, m2 = {}, y2 = "", E2 = "", v2 = { onOpenTag: function(e5, n5, i3) {
                if (i3[" imagetype"] && !i3[" imageType"] && (r3.trigger(d.Z.CONFORMANCE_VIOLATION, { level: on.LEVELS.ERROR, event: on.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE }), i3[" imageType"] = i3[" imagetype"]), "image" === n5 && ("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt" === e5 || "http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt" === e5)) {
                  if (!i3[" imageType"] || "PNG" !== i3[" imageType"].value)
                    return void t3.warn("smpte-tt imageType != PNG. Discarded");
                  y2 = i3["http://www.w3.org/XML/1998/namespace id"].value;
                }
              }, onCloseTag: function() {
                y2 && (m2[y2] = E2.trim()), E2 = "", y2 = "";
              }, onText: function(e5) {
                y2 && (E2 += e5);
              } };
              if (!e4)
                throw g2 = "no ttml data to parse", new Error(g2);
              p2.data = e4, r3.trigger(l.Z.TTML_TO_PARSE, p2);
              var _2 = (0, Ma.fromXML)(p2.data, function(e5) {
                g2 = e5;
              }, v2);
              r3.trigger(l.Z.TTML_PARSED, { ttmlString: p2.data, ttmlDoc: _2 });
              var T2, S2 = _2.getMediaTimeEvents();
              for (f2 = 0; f2 < S2.length; f2++) {
                var b2 = (0, Ma.generateISD)(_2, S2[f2], function(e5) {
                  g2 = e5;
                });
                b2.contents.some(function(e5) {
                  return e5.contents.length;
                }) && (u2 = S2[f2] + n4) < (c2 = S2[f2 + 1] + n4) && h2.push({ start: u2, end: c2, type: "html", cueID: (void 0, T2 = "cue_TTML_" + i2, i2++, T2), isd: b2, images: s3, embeddedImages: m2 });
              }
              if ("" !== g2)
                throw t3.error(g2), new Error(g2);
              return h2;
            } }, t3 = (0, f.Z)(n3).getInstance().getLogger(e3), e3;
          }
          Ga.__dashjs_factory_name = "TTMLParser";
          var qa = c.Z.getSingletonFactory(Ga);
          function Ya(e3, t3) {
            var n3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var r3 = Object.getOwnPropertySymbols(e3);
              t3 && (r3 = r3.filter(function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              })), n3.push.apply(n3, r3);
            }
            return n3;
          }
          function ja(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var n3 = null != arguments[t3] ? arguments[t3] : {};
              t3 % 2 ? Ya(Object(n3), true).forEach(function(t4) {
                Ha(e3, t4, n3[t4]);
              }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(n3)) : Ya(Object(n3)).forEach(function(t4) {
                Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(n3, t4));
              });
            }
            return e3;
          }
          function Ha(e3, t3, n3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t3] = n3, e3;
          }
          function Va(e3, t3) {
            (null == t3 || t3 > e3.length) && (t3 = e3.length);
            for (var n3 = 0, r3 = new Array(t3); n3 < t3; n3++)
              r3[n3] = e3[n3];
            return r3;
          }
          function Ka(e3) {
            var t3, n3, r3, i2 = this.context, o2 = (0, u.Z)(i2).getInstance(), s3 = (0, Q.Z)(i2).getInstance(), l2 = e3.adapter, c2 = e3.baseURLController;
            function g2(e4, t4) {
              var n4, i3, o3 = false;
              if (c2.resolve()) {
                var u2 = l2.getVoRepresentations(e4);
                u2 && u2.length > 0 && (n4 = c2.resolve(u2[0].path).url);
              }
              var f2 = e4.essentialPropertiesAsArray.filter(function(e5) {
                return e5.schemeIdUri && e5.schemeIdUri === a2.Z.FONT_DOWNLOAD_DVB_SCHEME;
              }), d2 = e4.supplementalPropertiesAsArray.filter(function(e5) {
                return e5.schemeIdUri && e5.schemeIdUri === a2.Z.FONT_DOWNLOAD_DVB_SCHEME;
              });
              f2.length > 0 ? (o3 = true, i3 = f2) : i3 = d2, i3.forEach(function(i4) {
                if (function(e5) {
                  return !(!(e5.value && "1" === e5.value && e5.dvbUrl && e5.dvbUrl.length > 0 && e5.dvbFontFamily && e5.dvbFontFamily.length > 0 && e5.dvbMimeType) || e5.dvbMimeType !== a2.Z.OFF_MIMETYPE && e5.dvbMimeType !== a2.Z.WOFF_MIMETYPE);
                }(i4)) {
                  var u3 = (l3 = i4.dvbUrl, c3 = n4, s3.isPathAbsolute(l3) ? l3 : s3.isRelative(l3) ? c3 ? s3.resolve(l3, c3) : s3.resolve(l3) : l3);
                  r3.push({ fontFamily: i4.dvbFontFamily, url: u3, mimeType: i4.dvbMimeType, trackId: e4.id, streamId: t4, isEssential: o3, status: "unloaded", fontFace: new FontFace(i4.dvbFontFamily, "url(".concat(u3, ")"), { display: "swap" }) });
                }
                var l3, c3;
              });
            }
            function h2(e4, t4) {
              var n4 = r3[e4];
              r3[e4] = ja(ja({}, n4), {}, { status: t4 });
            }
            function p2() {
              r3 = [];
            }
            return t3 = { addFontsFromTracks: function(e4, t4) {
              if (e4 && Array.isArray(e4) && t4)
                for (var n4 = 0; n4 < e4.length; n4++)
                  g2(e4[n4], t4);
            }, downloadFonts: function() {
              for (var e4 = function(e5) {
                var t5 = r3[e5];
                document.fonts.add(t5.fontFace), o2.trigger(d.Z.DVB_FONT_DOWNLOAD_ADDED, t5), t5.fontFace.load().then(function() {
                  h2(e5, "loaded"), o2.trigger(d.Z.DVB_FONT_DOWNLOAD_COMPLETE, t5);
                }, function(r4) {
                  h2(e5, "error"), n3.debug("Font download error: ", r4), o2.trigger(d.Z.DVB_FONT_DOWNLOAD_FAILED, t5);
                });
              }, t4 = 0; t4 < r3.length; t4++)
                e4(t4);
            }, getFonts: function() {
              return r3;
            }, getFontsForTrackId: function(e4) {
              return r3.filter(function(t4) {
                return t4.trackId && t4.trackId === e4;
              });
            }, reset: function() {
              !function() {
                var e4, t4 = function(e5, t5) {
                  var n4;
                  if ("undefined" == typeof Symbol || null == e5[Symbol.iterator]) {
                    if (Array.isArray(e5) || (n4 = function(e6, t6) {
                      if (e6) {
                        if ("string" == typeof e6)
                          return Va(e6, t6);
                        var n5 = Object.prototype.toString.call(e6).slice(8, -1);
                        return "Object" === n5 && e6.constructor && (n5 = e6.constructor.name), "Map" === n5 || "Set" === n5 ? Array.from(e6) : "Arguments" === n5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n5) ? Va(e6, t6) : void 0;
                      }
                    }(e5)) || t5 && e5 && "number" == typeof e5.length) {
                      n4 && (e5 = n4);
                      var r4 = 0, i4 = function() {
                      };
                      return { s: i4, n: function() {
                        return r4 >= e5.length ? { done: true } : { done: false, value: e5[r4++] };
                      }, e: function(e6) {
                        throw e6;
                      }, f: i4 };
                    }
                    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                  }
                  var a4, o3 = true, s4 = false;
                  return { s: function() {
                    n4 = e5[Symbol.iterator]();
                  }, n: function() {
                    var e6 = n4.next();
                    return o3 = e6.done, e6;
                  }, e: function(e6) {
                    s4 = true, a4 = e6;
                  }, f: function() {
                    try {
                      o3 || null == n4.return || n4.return();
                    } finally {
                      if (s4)
                        throw a4;
                    }
                  } };
                }(r3);
                try {
                  for (t4.s(); !(e4 = t4.n()).done; ) {
                    var i3 = e4.value, a3 = document.fonts.delete(i3.fontFace);
                    n3.debug("Removal of fontFamily: ".concat(i3.fontFamily, " was ").concat(a3 ? "successful" : "unsuccessful"));
                  }
                } catch (e5) {
                  t4.e(e5);
                } finally {
                  t4.f();
                }
              }(), p2();
            } }, n3 = (0, f.Z)(i2).getInstance().getLogger(t3), p2(), t3;
          }
          Ka.__dashjs_factory_name = "DVBFonts";
          var za = c.Z.getClassFactory(Ka);
          function Wa(e3) {
            var t3, n3, r3, i2, o2, s3, c2, g2, h2, p2, m2, y2, E2, v2, _2 = this.context, T2 = e3.adapter, S2 = e3.errHandler, b2 = e3.manifestModel, A2 = e3.mediaController, I2 = e3.baseURLController, R2 = e3.videoModel, w2 = e3.settings;
            function N2(e4) {
              if (v2.error("Could not download ".concat(e4.isEssential ? "an essential" : "a", " font - fontFamily: ").concat(e4.fontFamily, ", url: ").concat(e4.url)), e4.isEssential) {
                var t4 = i2[e4.streamId].getTrackIdxForId(e4.trackId);
                i2[e4.streamId].setModeForTrackIdx(t4, a2.Z.TEXT_DISABLED);
              }
            }
            function C2(e4) {
              if (v2.debug("Successfully downloaded ".concat(e4.isEssential ? "an essential" : "a", " font - fontFamily: ").concat(e4.fontFamily, ", url: ").concat(e4.url)), e4.isEssential) {
                var t4 = i2[e4.streamId].getTrackIdxForId(e4.trackId);
                t4 === i2[e4.streamId].getCurrentTrackIdx() ? i2[e4.streamId].setModeForTrackIdx(t4, a2.Z.TEXT_SHOWING) : i2[e4.streamId].setModeForTrackIdx(t4, a2.Z.TEXT_HIDDEN);
              }
            }
            function D2(e4) {
              var t4 = e4.tracks, r4 = e4.index, o3 = e4.streamId;
              if (false === w2.get().streaming.text.defaultEnabled && !P2() || y2)
                L2(o3, -1);
              else {
                var s4 = A2.getCurrentTrackFor(a2.Z.TEXT, o3);
                if (s4) {
                  var u2 = { lang: s4.lang, role: s4.roles[0], index: s4.index, codec: s4.codec, accessibility: s4.accessibility[0] };
                  t4.some(function(e5, t5) {
                    if (A2.matchSettings(u2, e5))
                      return L2(o3, t5), r4 = t5, true;
                  });
                }
                h2 = false;
              }
              n3[o3].lastEnabledIndex = r4, g2.trigger(d.Z.TEXT_TRACKS_ADDED, { enabled: P2(), index: r4, tracks: t4, streamId: o3 }), m2 = true, E2.addFontsFromTracks(t4, o3), E2.getFonts().forEach(function(e5) {
                if (e5.isEssential) {
                  var t5 = i2[e5.streamId].getTrackIdxForId(e5.trackId);
                  i2[e5.streamId].setModeForTrackIdx(t5, a2.Z.TEXT_DISABLED);
                }
              }), E2.downloadFonts();
            }
            function O2(e4) {
              try {
                var t4 = e4.streamId;
                if (!i2[t4] || isNaN(e4.time))
                  return;
                i2[t4].manualCueProcessing(e4.time);
              } catch (e5) {
              }
            }
            function M2(e4) {
              try {
                var t4 = e4.streamId;
                if (!i2[t4])
                  return;
                i2[t4].disableManualTracks();
              } catch (e5) {
              }
            }
            function P2() {
              var e4 = true;
              return h2 && !p2 && (e4 = false), e4;
            }
            function L2(e4, t4) {
              (h2 = -1 === t4) && A2 && A2.saveTextSettingsDisabled();
              var n4 = F2(e4);
              if (n4 !== t4 && i2[e4]) {
                i2[e4].disableManualTracks();
                var o3 = i2[e4].getCurrentTrackInfo(), s4 = o3 ? R2.getTextTrack(o3.kind, o3.id, o3.lang, o3.isTTML, o3.isEmbedded) : null;
                s4 && s4.mode !== a2.Z.TEXT_DISABLED && i2[e4].setModeForTrackIdx(n4, a2.Z.TEXT_HIDDEN), i2[e4].setCurrentTrackIdx(t4), o3 = i2[e4].getCurrentTrackInfo();
                var u2 = w2.get().streaming.text.dispatchForManualRendering;
                o3 && !u2 && o3.mode !== a2.Z.TEXT_DISABLED && i2[e4].setModeForTrackIdx(t4, a2.Z.TEXT_SHOWING), o3 && o3.isFragmented && !o3.isEmbedded ? function(e5, t5, n5) {
                  if (r3[e5])
                    for (var o4 = r3[e5].getConfig().fragmentedTracks, s5 = 0; s5 < o4.length; s5++) {
                      var u3 = o4[s5];
                      if (t5.lang === u3.lang && (u3.id ? t5.id === u3.id : t5.index === u3.index)) {
                        var c3 = A2.getCurrentTrackFor(a2.Z.TEXT, e5);
                        (u3.id ? c3.id !== u3.id : c3.index !== u3.index) ? (i2[e5].deleteCuesFromTrackIdx(n5), r3[e5].setCurrentFragmentedTrackIdx(s5)) : -1 === n5 && g2.trigger(l.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED, {}, { streamId: e5, mediaType: a2.Z.TEXT });
                      }
                    }
                }(e4, o3, n4) : o3 && !o3.isFragmented && function(e5, t5) {
                  g2.trigger(l.Z.SET_NON_FRAGMENTED_TEXT, { currentTrackInfo: t5 }, { streamId: e5, mediaType: a2.Z.TEXT });
                }(e4, o3), A2.setTrack(o3);
              }
            }
            function F2(e4) {
              return i2[e4].getCurrentTrackIdx();
            }
            function x2() {
              r3 = {}, i2 = {}, n3 = {}, h2 = true, m2 = false, y2 = false;
            }
            return t3 = { deactivateStream: function(e4) {
              if (e4) {
                var t4 = e4.id;
                r3[t4] && r3[t4].resetMediaInfos(), i2[t4] && i2[t4].deleteAllTextTracks();
              }
            }, initialize: function() {
              E2 = za(_2).create({ adapter: T2, baseURLController: I2 }), g2.on(l.Z.TEXT_TRACKS_QUEUE_INITIALIZED, D2, t3), g2.on(l.Z.DVB_FONT_DOWNLOAD_FAILED, N2, t3), g2.on(l.Z.DVB_FONT_DOWNLOAD_COMPLETE, C2, t3), w2.get().streaming.text.webvtt.customRenderingEnabled && (g2.on(l.Z.PLAYBACK_TIME_UPDATED, O2, t3), g2.on(l.Z.PLAYBACK_SEEKING, M2, t3));
            }, initializeForStream: function(e4) {
              var t4 = e4.id, a3 = xa(_2).create({ videoModel: R2, settings: w2, streamInfo: e4 });
              a3.initialize(), i2[t4] = a3;
              var u2 = Oa(_2).create({ errHandler: S2, adapter: T2, dvbFonts: E2, manifestModel: b2, mediaController: A2, videoModel: R2, textTracks: a3, vttParser: o2, vttCustomRenderingParser: s3, ttmlParser: c2, streamInfo: e4, settings: w2 });
              u2.initialize(), r3[t4] = u2, n3[t4] = {}, n3[t4].lastEnabledIndex = -1;
            }, createTracks: function(e4) {
              var t4 = e4.id;
              i2[t4] && i2[t4].createTracks();
            }, getTextSourceBuffer: function(e4) {
              var t4 = e4.id;
              if (r3 && r3[t4])
                return r3[t4];
            }, getAllTracksAreDisabled: function() {
              return h2;
            }, addEmbeddedTrack: function(e4, t4) {
              var n4 = e4.id;
              r3[n4] && r3[n4].addEmbeddedTrack(t4);
            }, enableText: function(e4, t4) {
              return (0, z.PS)(t4, "boolean"), P2() !== t4 && (t4 && L2(e4, n3[e4].lastEnabledIndex), t4 || (n3[e4].lastEnabledIndex = F2(e4), m2 ? L2(e4, -1) : y2 = true)), true;
            }, isTextEnabled: P2, setTextTrack: L2, getCurrentTrackIdx: F2, enableForcedTextStreaming: function(e4) {
              return (0, z.PS)(e4, "boolean"), p2 = e4, true;
            }, addMediaInfosToBuffer: function(e4, t4, n4) {
              var i3 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null, a3 = e4.id;
              r3[a3] && r3[a3].addMediaInfos(t4, n4, i3);
            }, reset: function() {
              E2.reset(), x2(), g2.off(l.Z.TEXT_TRACKS_QUEUE_INITIALIZED, D2, t3), g2.off(l.Z.DVB_FONT_DOWNLOAD_FAILED, N2, t3), g2.off(l.Z.DVB_FONT_DOWNLOAD_COMPLETE, C2, t3), w2.get().streaming.text.webvtt.customRenderingEnabled && (g2.off(l.Z.PLAYBACK_TIME_UPDATED, O2, t3), g2.off(l.Z.PLAYBACK_SEEKING, M2, t3)), Object.keys(r3).forEach(function(e4) {
                r3[e4].resetEmbedded(), r3[e4].reset();
              });
            } }, p2 = false, m2 = false, y2 = false, o2 = Ua(_2).getInstance(), s3 = Ba(_2).getInstance(), c2 = qa(_2).getInstance(), g2 = (0, u.Z)(_2).getInstance(), v2 = (0, f.Z)(_2).getInstance().getLogger(t3), x2(), t3;
          }
          Wa.__dashjs_factory_name = "TextController";
          var Xa = c.Z.getClassFactory(Wa);
          function Qa() {
            var e3, t3, n3, r3, g2, p2, m2, y2, E2, v2, _2, T2, b2, A2, I2, R2, D2, O2, M2, P2, L2, F2, x2, k2, U2, Z2, B2, G2, q2, Y2, j2, H2, V2, K2, W2, J2, $2, ee2, te2, ne2 = "You must first call initialize() and set a source before calling this method", re2 = "You must first call initialize() and set a valid source and view before calling this method", ie2 = "You must first call attachView() to set the video element before calling this method", ae2 = "You must first call attachSource() with a valid source before calling this method", oe2 = "MediaPlayer not initialized!", se2 = this.context, ue2 = (0, u.Z)(se2).getInstance(), le2 = (0, N.Z)(se2).getInstance(), ce2 = (0, f.Z)(se2).getInstance({ settings: le2 });
            function fe2() {
              Ie2(null), be2(null), r3 = null, A2 && (A2.reset(), A2 = null), I2 && (I2.reset(), I2 = null), P2 && P2.reset(), le2.reset(), D2 && (D2.reset(), D2 = null);
            }
            function de2() {
              return !!n3 && !!J2.getElement();
            }
            function ge2() {
              return (0, Mi.e)();
            }
            function he2() {
              if (!m2)
                throw re2;
              return G2.isPaused();
            }
            function pe2() {
              if (!m2)
                throw re2;
              return G2.getIsDynamic();
            }
            function me2(e4) {
              var t4 = U2 && U2.hasVideoTrack() ? a2.Z.VIDEO : a2.Z.AUDIO, n4 = H2.getCurrentDVRInfo(t4);
              if (!n4)
                return 0;
              var r4 = G2.getOriginalLiveDelay(), i2 = n4.range.start + e4;
              return i2 > n4.range.end - r4 && (i2 = n4.range.end - r4), i2;
            }
            function ye2(e4) {
              if (!m2)
                throw re2;
              var t4 = Se2().currentTime;
              if (void 0 !== e4)
                t4 = U2.getTimeRelativeToStreamId(t4, e4);
              else if (G2.getIsDynamic()) {
                var n4 = U2 && U2.hasVideoTrack() ? a2.Z.VIDEO : a2.Z.AUDIO, r4 = H2.getCurrentDVRInfo(n4);
                t4 = null === r4 || 0 === t4 ? 0 : Math.max(0, t4 - r4.range.start);
              }
              return t4;
            }
            function Ee2() {
              if (!m2)
                throw re2;
              var e4 = Se2().duration;
              if (G2.getIsDynamic()) {
                var t4 = U2 && U2.hasVideoTrack() ? a2.Z.VIDEO : a2.Z.AUDIO, n4 = H2.getCurrentDVRInfo(t4);
                e4 = n4 ? n4.range.end - n4.range.start : 0;
              }
              return e4;
            }
            function ve2(e4) {
              (0, z.PS)(e4, "boolean"), y2 = e4;
            }
            function _e2() {
              P2.restoreDefaultUTCTimingSources();
            }
            function Te2() {
              return H2;
            }
            function Se2() {
              if (!J2.getElement())
                throw ie2;
              return J2.getElement();
            }
            function be2(e4) {
              if (!g2)
                throw oe2;
              J2.setElement(e4), e4 && (De2(), function() {
                if (!I2) {
                  var e5 = dashjs.MetricsReporting;
                  if ("function" == typeof e5) {
                    var t4 = e5(se2).create();
                    I2 = t4.createMetricsReporting({ debug: ce2, eventBus: ue2, mediaElement: Se2(), adapter: O2, dashMetrics: H2, mediaPlayerModel: M2, events: l.Z, constants: a2.Z, metricsConstants: s2.Z });
                  }
                }
              }(), function() {
                if (!R2) {
                  var e5 = dashjs.MssHandler;
                  "function" == typeof e5 && (w.extend(e5.errors), R2 = e5(se2).create({ eventBus: ue2, mediaPlayerModel: M2, dashMetrics: H2, manifestModel: V2, playbackController: G2, streamController: U2, protectionController: A2, baseURLController: F2, errHandler: L2, events: l.Z, constants: a2.Z, debug: ce2, initSegmentType: C.w.INIT_SEGMENT_TYPE, BASE64: _a, ISOBoxer: Ta, settings: le2 }));
                }
              }(), U2 && U2.switchToVideoElement(E2)), m2 && we2(), Pe2(E2);
            }
            function Ae2(e4) {
              if (!p2)
                throw ne2;
              var t4 = U2.getActiveStreamInfo();
              return t4 ? b2.getTracksFor(e4, t4.id) : [];
            }
            function Ie2(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : NaN;
              if (!g2)
                throw oe2;
              "string" == typeof e4 && $2.initialize(e4), null == t4 && (t4 = NaN), isNaN(t4) || (t4 = Math.max(0, t4)), E2 = t4, n3 = e4, (p2 || m2) && we2(), de2() && Pe2(E2);
            }
            function Re2() {
              if (!p2)
                throw ne2;
              var e4 = U2.getActiveStreamInfo();
              return e4 ? U2.getStreamById(e4.id) : null;
            }
            function we2() {
              m2 = false, p2 = false, O2.reset(), U2.reset(), B2.reset(), j2.reset(), G2.reset(), q2.reset(), Y2.reset(), v2.reset(), b2.reset(), te2.reset(), A2 && (le2.get().streaming.protection.keepProtectionMediaKeys ? A2.stop() : (A2.reset(), A2 = null, De2())), Z2.reset(), K2.reset(), W2.reset();
            }
            function Ne2() {
              var e4 = Ce2();
              U2 || (U2 = ln(se2).getInstance()), Z2 || (Z2 = Xa(se2).create({ errHandler: L2, manifestModel: V2, adapter: O2, mediaController: b2, baseURLController: F2, videoModel: J2, settings: le2 })), k2.setConfig({ capabilities: x2, customParametersModel: P2, adapter: O2, settings: le2, manifestModel: V2, errHandler: L2 }), U2.setConfig({ capabilities: x2, capabilitiesFilter: k2, manifestLoader: e4, manifestModel: V2, mediaPlayerModel: M2, customParametersModel: P2, protectionController: A2, textController: Z2, adapter: O2, dashMetrics: H2, errHandler: L2, timelineConverter: T2, videoModel: J2, playbackController: G2, serviceDescriptionController: q2, contentSteeringController: Y2, abrController: v2, mediaController: b2, settings: le2, baseURLController: F2, uriFragmentModel: $2, segmentBaseController: te2 }), B2.setConfig({ settings: le2, playbackController: G2, streamController: U2, videoModel: J2, timelineConverter: T2, adapter: O2 }), G2.setConfig({ streamController: U2, serviceDescriptionController: q2, dashMetrics: H2, adapter: O2, videoModel: J2, timelineConverter: T2, settings: le2 }), j2.setConfig({ streamController: U2, playbackController: G2, mediaPlayerModel: M2, videoModel: J2, settings: le2 }), v2.setConfig({ streamController: U2, domStorage: ee2, mediaPlayerModel: M2, customParametersModel: P2, cmsdModel: W2, dashMetrics: H2, adapter: O2, videoModel: J2, settings: le2 }), K2.setConfig({ abrController: v2, dashMetrics: H2, playbackController: G2 }), W2.setConfig({}), v2.initialize(), U2.initialize(y2, r3), Z2.initialize(), B2.initialize(), j2.initialize(), K2.initialize(), W2.initialize(), Y2.initialize(), te2.initialize();
            }
            function Ce2() {
              return zr(se2).create({ debug: ce2, errHandler: L2, dashMetrics: H2, mediaPlayerModel: M2, requestModifier: (0, X.Z)(se2).getInstance(), mssHandler: R2, settings: le2 });
            }
            function De2() {
              if (A2)
                return A2;
              var e4 = dashjs.Protection;
              if ("function" == typeof e4) {
                var t4 = e4(se2).create();
                return l.Z.extend(e4.events), d.Z.extend(e4.events, { publicOnly: true }), w.extend(e4.errors), x2 || (x2 = (0, Qr.Z)(se2).getInstance()), A2 = t4.createProtectionSystem({ debug: ce2, errHandler: L2, videoModel: J2, customParametersModel: P2, capabilities: x2, eventBus: ue2, events: l.Z, BASE64: _a, constants: a2.Z, cmcdModel: K2, settings: le2 });
              }
              return null;
            }
            function Oe2() {
              if (!g2)
                throw oe2;
              if (D2)
                return D2;
              var e4 = dashjs.OfflineController;
              if ("function" == typeof e4) {
                l.Z.extend(e4.events), d.Z.extend(e4.events, { publicOnly: true }), w.extend(e4.errors);
                var t4 = Ce2(), n4 = Qt(se2).create();
                return n4.setConfig({ manifestModel: V2, adapter: O2, manifestLoader: t4, errHandler: L2, contentSteeringController: Y2 }), D2 = e4(se2).create({ debug: ce2, manifestUpdater: n4, baseURLController: F2, manifestLoader: t4, manifestModel: V2, mediaPlayerModel: M2, abrController: v2, playbackController: G2, adapter: O2, errHandler: L2, dashMetrics: H2, timelineConverter: T2, segmentBaseController: te2, schemeLoaderFactory: _2, eventBus: ue2, events: l.Z, errors: w, constants: a2.Z, settings: le2, dashConstants: o.Z, urlUtils: (0, Q.Z)(se2).getInstance() });
              }
              return null;
            }
            function Me2(e4) {
              var t4 = U2 && U2.hasVideoTrack() ? a2.Z.VIDEO : a2.Z.AUDIO, n4 = H2.getCurrentDVRInfo(t4);
              return n4 ? e4 + (n4.manifestInfo.availableFrom.getTime() / 1e3 + n4.range.start) : 0;
            }
            function Pe2() {
              var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : NaN;
              D2 && D2.resetRecords(), !p2 && n3 && (p2 = true, t3.info("Streaming Initialized"), Ne2(), "string" == typeof n3 ? U2.load(n3, e4) : U2.loadWithManifest(n3, e4)), !m2 && de2() && (m2 = true, t3.info("Playback Initialized"));
            }
            return e3 = { initialize: function(e4, n4, r4) {
              var o2 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : NaN;
              x2 || (x2 = (0, Qr.Z)(se2).getInstance()).setConfig({ settings: le2 }), L2 || (L2 = Xr(se2).getInstance()), x2.supportsMediaSource() ? (g2 || (g2 = true, T2 = va(se2).getInstance(), v2 || (v2 = _i(se2).getInstance()).setConfig({ settings: le2 }), _2 || (_2 = _t(se2).getInstance()), G2 || (G2 = h(se2).getInstance()), b2 || (b2 = An(se2).getInstance()), U2 || (U2 = ln(se2).getInstance()), B2 || (B2 = fn(se2).getInstance()), j2 || (j2 = gn(se2).getInstance()), q2 || (q2 = En(se2).getInstance()), Y2 || (Y2 = Kt(se2).getInstance()), k2 || (k2 = $r(se2).getInstance()), O2 = $i(se2).getInstance(), V2 = ii(se2).getInstance(), K2 = Ke(se2).getInstance(), W2 = dt(se2).getInstance(), H2 = ya(se2).getInstance({ settings: le2 }), ee2 = Oi(se2).getInstance({ settings: le2 }), O2.setConfig({ constants: a2.Z, cea608parser: i(), errHandler: L2, BASE64: _a }), F2 || (F2 = Un(se2).create()), F2.setConfig({ adapter: O2, contentSteeringController: Y2 }), q2.setConfig({ adapter: O2 }), te2 || (te2 = Gi(se2).getInstance({ dashMetrics: H2, mediaPlayerModel: M2, errHandler: L2, baseURLController: F2, events: l.Z, eventBus: ue2, debug: ce2, boxParser: (0, Ut.Z)(se2).getInstance(), requestModifier: (0, X.Z)(se2).getInstance(), errors: w })), b2.setConfig({ domStorage: ee2, settings: le2, customParametersModel: P2 }), M2.setConfig({ playbackController: G2, serviceDescriptionController: q2 }), Y2.setConfig({ adapter: O2, errHandler: L2, dashMetrics: H2, mediaPlayerModel: M2, manifestModel: V2, serviceDescriptionController: q2, eventBus: ue2, requestModifier: (0, X.Z)(se2).getInstance() }), _e2(), ve2(void 0 === r4 || r4), Oe2()), e4 && be2(e4), n4 && Ie2(n4, o2), t3.info("[dash.js " + ge2() + "] MediaPlayer has been initialized")) : L2.error(new S.Z(w.CAPABILITY_MEDIASOURCE_ERROR_CODE, w.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE));
            }, setConfig: function(e4) {
              e4 && (e4.capabilities && (x2 = e4.capabilities), e4.capabilitiesFilter && (k2 = e4.capabilitiesFilter), e4.streamController && (U2 = e4.streamController), e4.textController && (Z2 = e4.textController), e4.gapController && (B2 = e4.gapController), e4.playbackController && (G2 = e4.playbackController), e4.serviceDescriptionController && (q2 = e4.serviceDescriptionController), e4.contentSteeringController && (Y2 = e4.contentSteeringController), e4.catchupController && (j2 = e4.catchupController), e4.mediaPlayerModel && (M2 = e4.mediaPlayerModel), e4.customParametersModel && (P2 = e4.customParametersModel), e4.abrController && (v2 = e4.abrController), e4.schemeLoaderFactory && (_2 = e4.schemeLoaderFactory), e4.mediaController && (b2 = e4.mediaController), e4.settings && (le2 = e4.settings));
            }, on: function(e4, t4, n4, r4) {
              ue2.on(e4, t4, n4, r4);
            }, off: function(e4, t4, n4) {
              ue2.off(e4, t4, n4);
            }, extend: function(e4, t4, n4) {
              c.Z.extend(e4, t4, n4, se2);
            }, attachView: be2, attachSource: Ie2, refreshManifest: function(e4) {
              if (!g2)
                throw oe2;
              if (!de2())
                return e4(null, ae2);
              var t4 = this;
              "function" == typeof e4 && ue2.on(l.Z.INTERNAL_MANIFEST_LOADED, function n4(r4) {
                ue2.off(l.Z.INTERNAL_MANIFEST_LOADED, n4, t4), r4.error ? e4(null, r4.error) : e4(r4.manifest);
              }, t4), U2.refreshManifest();
            }, isReady: de2, preload: function() {
              if (!J2.getElement() && !p2) {
                if (!n3)
                  throw ae2;
                Pe2(E2);
              }
            }, play: function() {
              if (!m2)
                throw re2;
              (!y2 || he2() && m2) && G2.play(true);
            }, isPaused: he2, pause: function() {
              if (!m2)
                throw re2;
              G2.pause();
            }, isSeeking: function() {
              if (!m2)
                throw re2;
              return G2.isSeeking();
            }, isDynamic: pe2, getLowLatencyModeEnabled: function() {
              if (!m2)
                throw re2;
              return G2.getLowLatencyModeEnabled();
            }, seek: function(e4) {
              if (!m2)
                throw re2;
              if ((0, z.PS)(e4, "number"), isNaN(e4))
                throw a2.Z.BAD_ARGUMENT_ERROR;
              e4 < 0 && (e4 = 0);
              var t4 = G2.getIsDynamic() ? me2(e4) : e4, n4 = Se2();
              !G2.getIsDynamic() && n4.duration && (t4 = Math.min(n4.duration, t4)), G2.seek(t4, false, false, true);
            }, seekToOriginalLive: function() {
              m2 && pe2() && G2.seekToOriginalLive();
            }, setPlaybackRate: function(e4) {
              Se2().playbackRate = e4;
            }, getPlaybackRate: function() {
              return Se2().playbackRate;
            }, setMute: function(e4) {
              (0, z.PS)(e4, "boolean"), Se2().muted = e4;
            }, isMuted: function() {
              return Se2().muted;
            }, setVolume: function(e4) {
              if ("number" != typeof e4 || isNaN(e4) || e4 < 0 || e4 > 1)
                throw a2.Z.BAD_ARGUMENT_ERROR;
              Se2().volume = e4;
            }, getVolume: function() {
              return Se2().volume;
            }, time: ye2, duration: Ee2, timeAsUTC: function() {
              if (!m2)
                throw re2;
              return ye2() < 0 ? NaN : Me2(ye2());
            }, durationAsUTC: function() {
              if (!m2)
                throw re2;
              return Me2(Ee2());
            }, getActiveStream: Re2, getDVRWindowSize: function() {
              var e4 = U2 && U2.hasVideoTrack() ? a2.Z.VIDEO : a2.Z.AUDIO, t4 = H2.getCurrentDVRInfo(e4);
              return t4 ? t4.manifestInfo.dvrWindowSize : 0;
            }, getDVRSeekOffset: me2, getAvailableBaseUrls: function() {
              var e4 = V2.getValue();
              return e4 ? F2.getBaseUrls(e4) : [];
            }, getAvailableLocations: function() {
              var e4 = V2.getValue();
              if (!e4)
                return [];
              var t4 = O2.getLocation(e4), n4 = Y2.getSynthesizedLocationElements(t4);
              return t4.concat(n4);
            }, getTargetLiveDelay: function() {
              if (!m2)
                throw re2;
              return G2.getOriginalLiveDelay();
            }, convertToTimeCode: function(e4) {
              e4 = Math.max(e4, 0);
              var t4 = Math.floor(e4 / 3600), n4 = Math.floor(e4 % 3600 / 60), r4 = Math.floor(e4 % 3600 % 60);
              return (0 === t4 ? "" : t4 < 10 ? "0" + t4.toString() + ":" : t4.toString() + ":") + (n4 < 10 ? "0" + n4.toString() : n4.toString()) + ":" + (r4 < 10 ? "0" + r4.toString() : r4.toString());
            }, formatUTC: function(e4, t4, n4) {
              var r4 = arguments.length > 3 && void 0 !== arguments[3] && arguments[3], i2 = new Date(1e3 * e4), a3 = i2.toLocaleDateString(t4), o2 = i2.toLocaleTimeString(t4, { hour12: n4 });
              return r4 ? o2 + " " + a3 : o2;
            }, getVersion: ge2, getDebug: function() {
              return ce2;
            }, getBufferLength: function(e4) {
              var n4 = [a2.Z.VIDEO, a2.Z.AUDIO, a2.Z.TEXT];
              if (e4)
                return -1 !== n4.indexOf(e4) ? Te2().getCurrentBufferLevel(e4) || NaN : (t3.warn("getBufferLength requested for invalid type"), NaN);
              var r4 = n4.map(function(e5) {
                return Ae2(e5).length > 0 ? Te2().getCurrentBufferLevel(e5) : Number.MAX_VALUE;
              }).reduce(function(e5, t4) {
                return Math.min(e5, t4);
              });
              return r4 === Number.MAX_VALUE ? NaN : r4;
            }, getTTMLRenderingDiv: function() {
              return J2 ? J2.getTTMLRenderingDiv() : null;
            }, getVideoElement: Se2, getSource: function() {
              if (!n3)
                throw ae2;
              return n3;
            }, updateSource: function(e4) {
              n3 = e4, U2.load(n3);
            }, getCurrentLiveLatency: function() {
              if (!g2)
                throw oe2;
              return m2 ? G2.getCurrentLiveLatency() : NaN;
            }, getTopBitrateInfoFor: function(e4) {
              if (!p2)
                throw ne2;
              return v2.getTopBitrateInfoFor(e4);
            }, setAutoPlay: ve2, getAutoPlay: function() {
              return y2;
            }, getDashMetrics: Te2, getQualityFor: function(e4) {
              if (!p2)
                throw ne2;
              if (e4 === a2.Z.IMAGE) {
                var t4 = Re2();
                if (!t4)
                  return -1;
                var n4 = t4.getThumbnailController();
                return n4 ? n4.getCurrentTrackIndex() : -1;
              }
              return v2.getQualityFor(e4);
            }, setQualityFor: function(e4, t4) {
              var n4 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
              if (!p2)
                throw ne2;
              if (e4 === a2.Z.IMAGE) {
                var r4 = Re2();
                if (!r4)
                  return;
                var i2 = r4.getThumbnailController();
                i2 && i2.setTrackByIndex(t4);
              }
              v2.setPlaybackQuality(e4, U2.getActiveStreamInfo(), t4, { forceReplace: n4 });
            }, updatePortalSize: function() {
              v2.setElementSize(), v2.setWindowResizeEventCalled(true);
            }, enableText: function(e4) {
              var t4 = U2.getActiveStreamInfo();
              return !(!t4 || !Z2) && Z2.enableText(t4.id, e4);
            }, enableForcedTextStreaming: function(e4) {
              return !(!U2.getActiveStreamInfo() || !Z2) && Z2.enableForcedTextStreaming(e4);
            }, isTextEnabled: function() {
              var e4 = U2.getActiveStreamInfo();
              return !(!e4 || !Z2) && Z2.isTextEnabled(e4);
            }, setTextTrack: function(e4) {
              if (!m2)
                throw re2;
              var t4 = U2.getActiveStreamInfo();
              t4 && Z2 && Z2.setTextTrack(t4.id, e4);
            }, getBitrateInfoListFor: function(e4) {
              if (!p2)
                throw ne2;
              var t4 = Re2();
              return t4 ? t4.getBitrateListFor(e4) : [];
            }, getStreamsFromManifest: function(e4) {
              if (!p2)
                throw ne2;
              return O2.getStreamsInfo(e4);
            }, getTracksFor: Ae2, getTracksForTypeFromManifest: function(e4, t4, n4) {
              if (!p2)
                throw ne2;
              return (n4 = n4 || O2.getStreamsInfo(t4, 1)[0]) ? O2.getAllMediaInfoForType(n4, e4, t4) : [];
            }, getCurrentTrackFor: function(e4) {
              if (!p2)
                throw ne2;
              var t4 = U2.getActiveStreamInfo();
              return b2.getCurrentTrackFor(e4, t4.id);
            }, setInitialMediaSettingsFor: function(e4, t4) {
              if (!g2)
                throw oe2;
              b2.setInitialSettings(e4, t4);
            }, getInitialMediaSettingsFor: function(e4) {
              if (!g2)
                throw oe2;
              return b2.getInitialSettings(e4);
            }, setCurrentTrack: function(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
              if (!p2)
                throw ne2;
              b2.setTrack(e4, t4);
            }, addABRCustomRule: function(e4, t4, n4) {
              P2.addAbrCustomRule(e4, t4, n4);
            }, removeABRCustomRule: function(e4) {
              P2.removeAbrCustomRule(e4);
            }, removeAllABRCustomRule: function() {
              P2.removeAllAbrCustomRule();
            }, getABRCustomRules: function() {
              return P2.getAbrCustomRules();
            }, getAverageThroughput: function(e4) {
              var t4 = v2.getThroughputHistory(), n4 = G2.getIsDynamic();
              return t4 ? t4.getAverageThroughput(e4, n4) : 0;
            }, retrieveManifest: function(e4, t4) {
              var n4 = Ce2(), r4 = this;
              ue2.on(l.Z.INTERNAL_MANIFEST_LOADED, function e5(i2) {
                i2.error ? t4(null, i2.error) : t4(i2.manifest), ue2.off(l.Z.INTERNAL_MANIFEST_LOADED, e5, r4), n4.reset();
              }, r4), $2.initialize(e4), n4.load(e4);
            }, addUTCTimingSource: function(e4, t4) {
              P2.addUTCTimingSource(e4, t4);
            }, removeUTCTimingSource: function(e4, t4) {
              P2.removeUTCTimingSource(e4, t4);
            }, clearDefaultUTCTimingSources: function() {
              P2.clearDefaultUTCTimingSources();
            }, restoreDefaultUTCTimingSources: _e2, setXHRWithCredentialsForType: function(e4, t4) {
              P2.setXHRWithCredentialsForType(e4, t4);
            }, getXHRWithCredentialsForType: function(e4) {
              return P2.getXHRWithCredentialsForType(e4);
            }, getProtectionController: function() {
              return De2();
            }, attachProtectionController: function(e4) {
              A2 = e4;
            }, setProtectionData: function(e4) {
              r3 = e4, U2 && U2.setProtectionData(r3);
            }, registerLicenseRequestFilter: function(e4) {
              P2.registerLicenseRequestFilter(e4);
            }, registerLicenseResponseFilter: function(e4) {
              P2.registerLicenseResponseFilter(e4);
            }, unregisterLicenseRequestFilter: function(e4) {
              P2.unregisterLicenseRequestFilter(e4);
            }, unregisterLicenseResponseFilter: function(e4) {
              P2.unregisterLicenseResponseFilter(e4);
            }, registerCustomCapabilitiesFilter: function(e4) {
              P2.registerCustomCapabilitiesFilter(e4);
            }, unregisterCustomCapabilitiesFilter: function(e4) {
              P2.unregisterCustomCapabilitiesFilter(e4);
            }, setCustomInitialTrackSelectionFunction: function(e4) {
              P2.setCustomInitialTrackSelectionFunction(e4);
            }, resetCustomInitialTrackSelectionFunction: function() {
              P2.resetCustomInitialTrackSelectionFunction(null);
            }, attachTTMLRenderingDiv: function(e4) {
              if (!J2.getElement())
                throw ie2;
              J2.setTTMLRenderingDiv(e4);
            }, attachVttRenderingDiv: function(e4) {
              if (!J2.getElement())
                throw ie2;
              J2.setVttRenderingDiv(e4);
            }, getCurrentTextTrackIndex: function() {
              var e4 = U2.getActiveStreamInfo();
              if (e4 && Z2)
                return Z2.getCurrentTrackIdx(e4.id);
            }, provideThumbnail: function(e4, t4) {
              if ("function" == typeof t4)
                if (e4 < 0)
                  t4(null);
                else {
                  var n4 = G2.getIsDynamic() ? me2(e4) : e4, r4 = U2.getStreamForTime(n4);
                  if (null !== r4) {
                    var i2 = r4.getThumbnailController();
                    if (i2)
                      return i2.provide(n4, t4);
                    t4(null);
                  } else
                    t4(null);
                }
            }, getDashAdapter: function() {
              return O2;
            }, getOfflineController: function() {
              return Oe2();
            }, triggerSteeringRequest: function() {
              if (Y2)
                return Y2.loadSteeringData();
            }, getCurrentSteeringResponseData: function() {
              if (Y2)
                return Y2.getCurrentSteeringResponseData();
            }, getSettings: function() {
              return le2.get();
            }, updateSettings: function(e4) {
              le2.update(e4);
            }, resetSettings: function() {
              le2.reset();
            }, reset: fe2, destroy: function() {
              fe2(), c.Z.deleteSingletonInstances(se2);
            } }, t3 = ce2.getLogger(e3), g2 = false, m2 = false, p2 = false, y2 = true, E2 = NaN, A2 = null, D2 = null, r3 = null, O2 = null, te2 = null, l.Z.extend(d.Z), M2 = si(se2).getInstance(), P2 = (0, pt.Z)(se2).getInstance(), J2 = bi(se2).getInstance(), $2 = ni(se2).getInstance(), e3;
          }
          Qa.__dashjs_factory_name = "MediaPlayer";
          var Ja = c.Z.getClassFactory(Qa);
          Ja.events = d.Z, Ja.errors = w, c.Z.updateClassFactory(Qa.__dashjs_factory_name, Ja);
          var $a = Ja;
        }, 8825: function(e2, t2, n2) {
          "use strict";
          function r2(e3) {
            return r2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, r2(e3);
          }
          function i(e3, t3) {
            return i = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, i(e3, t3);
          }
          function a2(e3, t3) {
            return !t3 || "object" !== r2(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function o(e3) {
            return o = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, o(e3);
          }
          var s2 = new (function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && i(e4, t4);
            }(s3, e3);
            var t3, n3, r3 = (t3 = s3, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = o(t3);
              if (n3) {
                var i2 = o(this).constructor;
                e4 = Reflect.construct(r4, arguments, i2);
              } else
                e4 = r4.apply(this, arguments);
              return a2(this, e4);
            });
            function s3() {
              var e4;
              return function(e5, t4) {
                if (!(e5 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, s3), (e4 = r3.call(this)).AST_IN_FUTURE = "astInFuture", e4.BASE_URLS_UPDATED = "baseUrlsUpdated", e4.BUFFER_EMPTY = "bufferStalled", e4.BUFFER_LOADED = "bufferLoaded", e4.BUFFER_LEVEL_STATE_CHANGED = "bufferStateChanged", e4.BUFFER_LEVEL_UPDATED = "bufferLevelUpdated", e4.DVB_FONT_DOWNLOAD_ADDED = "dvbFontDownloadAdded", e4.DVB_FONT_DOWNLOAD_COMPLETE = "dvbFontDownloadComplete", e4.DVB_FONT_DOWNLOAD_FAILED = "dvbFontDownloadFailed", e4.DYNAMIC_TO_STATIC = "dynamicToStatic", e4.ERROR = "error", e4.FRAGMENT_LOADING_COMPLETED = "fragmentLoadingCompleted", e4.FRAGMENT_LOADING_PROGRESS = "fragmentLoadingProgress", e4.FRAGMENT_LOADING_STARTED = "fragmentLoadingStarted", e4.FRAGMENT_LOADING_ABANDONED = "fragmentLoadingAbandoned", e4.LOG = "log", e4.MANIFEST_LOADING_STARTED = "manifestLoadingStarted", e4.MANIFEST_LOADING_FINISHED = "manifestLoadingFinished", e4.MANIFEST_LOADED = "manifestLoaded", e4.METRICS_CHANGED = "metricsChanged", e4.METRIC_CHANGED = "metricChanged", e4.METRIC_ADDED = "metricAdded", e4.METRIC_UPDATED = "metricUpdated", e4.PERIOD_SWITCH_STARTED = "periodSwitchStarted", e4.PERIOD_SWITCH_COMPLETED = "periodSwitchCompleted", e4.QUALITY_CHANGE_REQUESTED = "qualityChangeRequested", e4.QUALITY_CHANGE_RENDERED = "qualityChangeRendered", e4.TRACK_CHANGE_RENDERED = "trackChangeRendered", e4.STREAM_INITIALIZING = "streamInitializing", e4.STREAM_UPDATED = "streamUpdated", e4.STREAM_ACTIVATED = "streamActivated", e4.STREAM_DEACTIVATED = "streamDeactivated", e4.STREAM_INITIALIZED = "streamInitialized", e4.STREAM_TEARDOWN_COMPLETE = "streamTeardownComplete", e4.TEXT_TRACKS_ADDED = "allTextTracksAdded", e4.TEXT_TRACK_ADDED = "textTrackAdded", e4.CUE_ENTER = "cueEnter", e4.CUE_EXIT = "cueExit", e4.THROUGHPUT_MEASUREMENT_STORED = "throughputMeasurementStored", e4.TTML_PARSED = "ttmlParsed", e4.TTML_TO_PARSE = "ttmlToParse", e4.CAPTION_RENDERED = "captionRendered", e4.CAPTION_CONTAINER_RESIZE = "captionContainerResize", e4.CAN_PLAY = "canPlay", e4.CAN_PLAY_THROUGH = "canPlayThrough", e4.PLAYBACK_ENDED = "playbackEnded", e4.PLAYBACK_ERROR = "playbackError", e4.PLAYBACK_NOT_ALLOWED = "playbackNotAllowed", e4.PLAYBACK_METADATA_LOADED = "playbackMetaDataLoaded", e4.PLAYBACK_LOADED_DATA = "playbackLoadedData", e4.PLAYBACK_PAUSED = "playbackPaused", e4.PLAYBACK_PLAYING = "playbackPlaying", e4.PLAYBACK_PROGRESS = "playbackProgress", e4.PLAYBACK_RATE_CHANGED = "playbackRateChanged", e4.PLAYBACK_SEEKED = "playbackSeeked", e4.PLAYBACK_SEEKING = "playbackSeeking", e4.PLAYBACK_STALLED = "playbackStalled", e4.PLAYBACK_STARTED = "playbackStarted", e4.PLAYBACK_TIME_UPDATED = "playbackTimeUpdated", e4.PLAYBACK_VOLUME_CHANGED = "playbackVolumeChanged", e4.PLAYBACK_WAITING = "playbackWaiting", e4.MANIFEST_VALIDITY_CHANGED = "manifestValidityChanged", e4.EVENT_MODE_ON_START = "eventModeOnStart", e4.EVENT_MODE_ON_RECEIVE = "eventModeOnReceive", e4.CONFORMANCE_VIOLATION = "conformanceViolation", e4.REPRESENTATION_SWITCH = "representationSwitch", e4.ADAPTATION_SET_REMOVED_NO_CAPABILITIES = "adaptationSetRemovedNoCapabilities", e4.CONTENT_STEERING_REQUEST_COMPLETED = "contentSteeringRequestCompleted", e4.INBAND_PRFT = "inbandPrft", e4.MANAGED_MEDIA_SOURCE_START_STREAMING = "managedMediaSourceStartStreaming", e4.MANAGED_MEDIA_SOURCE_END_STREAMING = "managedMediaSourceEndStreaming", e4;
            }
            return s3;
          }(n2(8342).Z))();
          t2.Z = s2;
        }, 3393: function(e2, t2) {
          "use strict";
          function n2(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var r2 = new (function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.init();
            }
            var t3, r3;
            return t3 = e3, (r3 = [{ key: "init", value: function() {
              this.STREAM = "stream", this.VIDEO = "video", this.AUDIO = "audio", this.TEXT = "text", this.MUXED = "muxed", this.IMAGE = "image", this.STPP = "stpp", this.TTML = "ttml", this.VTT = "vtt", this.WVTT = "wvtt", this.CONTENT_STEERING = "contentSteering", this.ABR_STRATEGY_DYNAMIC = "abrDynamic", this.ABR_STRATEGY_BOLA = "abrBola", this.ABR_STRATEGY_L2A = "abrL2A", this.ABR_STRATEGY_LoLP = "abrLoLP", this.ABR_STRATEGY_THROUGHPUT = "abrThroughput", this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA = "abrFetchThroughputCalculationDownloadedData", this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING = "abrFetchThroughputCalculationMoofParsing", this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST = "abrFetchThroughputCalculationAAST", this.LIVE_CATCHUP_MODE_DEFAULT = "liveCatchupModeDefault", this.LIVE_CATCHUP_MODE_LOLP = "liveCatchupModeLoLP", this.MOVING_AVERAGE_SLIDING_WINDOW = "slidingWindow", this.MOVING_AVERAGE_EWMA = "ewma", this.BAD_ARGUMENT_ERROR = "Invalid Arguments", this.MISSING_CONFIG_ERROR = "Missing config parameter(s)", this.TRACK_SWITCH_MODE_ALWAYS_REPLACE = "alwaysReplace", this.TRACK_SWITCH_MODE_NEVER_REPLACE = "neverReplace", this.TRACK_SELECTION_MODE_FIRST_TRACK = "firstTrack", this.TRACK_SELECTION_MODE_HIGHEST_BITRATE = "highestBitrate", this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY = "highestEfficiency", this.TRACK_SELECTION_MODE_WIDEST_RANGE = "widestRange", this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY = "highestSelectionPriority", this.CMCD_MODE_QUERY = "query", this.CMCD_MODE_HEADER = "header", this.INITIALIZE = "initialize", this.TEXT_SHOWING = "showing", this.TEXT_HIDDEN = "hidden", this.TEXT_DISABLED = "disabled", this.CC1 = "CC1", this.CC3 = "CC3", this.UTF8 = "utf-8", this.SCHEME_ID_URI = "schemeIdUri", this.START_TIME = "starttime", this.SERVICE_DESCRIPTION_DVB_LL_SCHEME = "urn:dvb:dash:lowlatency:scope:2019", this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME = "urn:dvb:dash:lowlatency:critical:2019", this.FONT_DOWNLOAD_DVB_SCHEME = "urn:dvb:dash:fontdownload:2014", this.XML = "XML", this.ARRAY_BUFFER = "ArrayBuffer", this.DVB_REPORTING_URL = "dvb:reportingUrl", this.DVB_PROBABILITY = "dvb:probability", this.OFF_MIMETYPE = "application/font-sfnt", this.WOFF_MIMETYPE = "application/font-woff", this.VIDEO_ELEMENT_READY_STATES = { HAVE_NOTHING: 0, HAVE_METADATA: 1, HAVE_CURRENT_DATA: 2, HAVE_FUTURE_DATA: 3, HAVE_ENOUGH_DATA: 4 }, this.FILE_LOADER_TYPES = { FETCH: "fetch_loader", XHR: "xhr_loader" };
            } }]) && n2(t3.prototype, r3), e3;
          }())();
          t2.Z = r2;
        }, 3860: function(e2, t2) {
          "use strict";
          function n2(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var r2 = new (function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.init();
            }
            var t3, r3;
            return t3 = e3, (r3 = [{ key: "init", value: function() {
              this.TCP_CONNECTION = "TcpList", this.HTTP_REQUEST = "HttpList", this.TRACK_SWITCH = "RepSwitchList", this.BUFFER_LEVEL = "BufferLevel", this.BUFFER_LOADED = "bufferLoaded", this.ABANDON_LOAD = "abandonload", this.ALLOW_LOAD = "allowload", this.BUFFER_EMPTY = "bufferStalled", this.BUFFER_STATE = "BufferState", this.DVR_INFO = "DVRInfo", this.DROPPED_FRAMES = "DroppedFrames", this.SCHEDULING_INFO = "SchedulingInfo", this.REQUESTS_QUEUE = "RequestsQueue", this.MANIFEST_UPDATE = "ManifestUpdate", this.MANIFEST_UPDATE_STREAM_INFO = "ManifestUpdatePeriodInfo", this.MANIFEST_UPDATE_TRACK_INFO = "ManifestUpdateRepresentationInfo", this.PLAY_LIST = "PlayList", this.DVB_ERRORS = "DVBErrors", this.HTTP_REQUEST_DVB_REPORTING_TYPE = "DVBReporting";
            } }]) && n2(t3.prototype, r3), e3;
          }())();
          t2.Z = r2;
        }, 8080: function(e2, t2, n2) {
          "use strict";
          n2.d(t2, { default: function() {
            return V;
          } });
          var r2 = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.mpdurl = null, this.errorcode = null, this.terror = null, this.url = null, this.ipaddress = null, this.servicelocation = null;
          };
          r2.SSL_CONNECTION_FAILED_PREFIX = "SSL", r2.DNS_RESOLUTION_FAILED = "C00", r2.HOST_UNREACHABLE = "C01", r2.CONNECTION_REFUSED = "C02", r2.CONNECTION_ERROR = "C03", r2.CORRUPT_MEDIA_ISOBMFF = "M00", r2.CORRUPT_MEDIA_OTHER = "M01", r2.BASE_URL_CHANGED = "F00", r2.BECAME_REPORTER = "S00";
          var i = r2, a2 = n2(1180);
          function o(e3) {
            var t3, n3, r3 = (e3 = e3 || {}).eventBus, o2 = e3.dashMetrics, s3 = e3.metricsConstants, u2 = e3.events;
            function l2(e4) {
              var t4 = new i();
              if (n3) {
                for (var r4 in e4)
                  e4.hasOwnProperty(r4) && (t4[r4] = e4[r4]);
                t4.mpdurl || (t4.mpdurl = n3.originalUrl || n3.url), t4.terror || (t4.terror = /* @__PURE__ */ new Date()), o2.addDVBErrors(t4);
              }
            }
            function c2(e4) {
              e4.error || (n3 = e4.manifest);
            }
            function f2(e4) {
              l2({ errorcode: i.BASE_URL_CHANGED, servicelocation: e4.entry });
            }
            function d2() {
              l2({ errorcode: i.BECAME_REPORTER });
            }
            function g2(e4) {
              var t4;
              e4.metric === s3.HTTP_REQUEST && (0 === (t4 = e4.value).responsecode || null == t4.responsecode || t4.responsecode >= 400 || t4.responsecode < 100 || t4.responsecode >= 600) && l2({ errorcode: t4.responsecode || i.CONNECTION_ERROR, url: t4.url, terror: t4.tresponse, servicelocation: t4._serviceLocation });
            }
            function h2(e4) {
              var t4;
              switch (e4.error ? e4.error.code : 0) {
                case MediaError.MEDIA_ERR_NETWORK:
                  t4 = i.CONNECTION_ERROR;
                  break;
                case MediaError.MEDIA_ERR_DECODE:
                  t4 = i.CORRUPT_MEDIA_OTHER;
                  break;
                default:
                  return;
              }
              l2({ errorcode: t4 });
            }
            return t3 = { initialize: function() {
              r3.on(u2.MANIFEST_UPDATED, c2, t3), r3.on(u2.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED, f2, t3), r3.on(u2.METRIC_ADDED, g2, t3), r3.on(u2.METRIC_UPDATED, g2, t3), r3.on(u2.PLAYBACK_ERROR, h2, t3), r3.on(a2.Z.BECAME_REPORTING_PLAYER, d2, t3);
            }, reset: function() {
              r3.off(u2.MANIFEST_UPDATED, c2, t3), r3.off(u2.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED, f2, t3), r3.off(u2.METRIC_ADDED, g2, t3), r3.off(u2.METRIC_UPDATED, g2, t3), r3.off(u2.PLAYBACK_ERROR, h2, t3), r3.off(a2.Z.BECAME_REPORTING_PLAYER, d2, t3);
            } };
          }
          o.__dashjs_factory_name = "DVBErrorsTranslator";
          var s2 = dashjs.FactoryMaker.getSingletonFactory(o), u = n2(2295);
          function l(e3) {
            e3 = e3 || {};
            var t3, n3, r3 = false, i2 = this.context, a3 = e3.mediaElement;
            return t3 = { initialize: function(e4) {
              e4 && e4.length && (e4.forEach(function(e5) {
                var t4 = e5.starttime, r4 = t4 + e5.duration;
                n3.add(t4, r4);
              }), r3 = !!e4[0]._useWallClockTime);
            }, reset: function() {
              n3.clear();
            }, isEnabled: function() {
              var e4, t4 = n3.length;
              if (!t4)
                return true;
              e4 = r3 ? (/* @__PURE__ */ new Date()).getTime() / 1e3 : a3.currentTime;
              for (var i3 = 0; i3 < t4; i3 += 1) {
                var o2 = n3.start(i3), s3 = n3.end(i3);
                if (o2 <= e4 && e4 < s3)
                  return true;
              }
              return false;
            } }, n3 = (0, u.Z)(i2).create(), t3;
          }
          l.__dashjs_factory_name = "RangeController";
          var c = dashjs.FactoryMaker.getClassFactory(l);
          function f() {
            return { serialise: function e3(t3) {
              var n3, r3, i2 = [], a3 = [];
              for (n3 in t3)
                if (t3.hasOwnProperty(n3) && 0 !== n3.indexOf("_")) {
                  if (null == (r3 = t3[n3]) && (r3 = ""), Array.isArray(r3)) {
                    if (!r3.length)
                      continue;
                    a3 = [], r3.forEach(function(t4) {
                      var n4 = "Object" !== Object.prototype.toString.call(t4).slice(8, -1);
                      a3.push(n4 ? t4 : e3(t4));
                    }), r3 = a3.map(encodeURIComponent).join(",");
                  } else
                    "string" == typeof r3 ? r3 = encodeURIComponent(r3) : r3 instanceof Date ? r3 = r3.toISOString() : "number" == typeof r3 && (r3 = Math.round(r3));
                  i2.push(n3 + "=" + r3);
                }
              return i2.join("&");
            } };
          }
          f.__dashjs_factory_name = "MetricSerialiser";
          var d = dashjs.FactoryMaker.getSingletonFactory(f);
          function g() {
            var e3, t3, n3, r3 = window.crypto || window.msCrypto, i2 = Uint32Array, a3 = Math.pow(2, 8 * i2.BYTES_PER_ELEMENT) - 1;
            function o2() {
              r3 && (e3 || (e3 = new i2(10)), r3.getRandomValues(e3), t3 = 0);
            }
            return n3 = { random: function(n4, i3) {
              var s3;
              return n4 || (n4 = 0), i3 || (i3 = 1), r3 ? (t3 === e3.length && o2(), s3 = e3[t3] / a3, t3 += 1) : s3 = Math.random(), s3 * (i3 - n4) + n4;
            } }, o2(), n3;
          }
          g.__dashjs_factory_name = "RNG";
          var h = dashjs.FactoryMaker.getSingletonFactory(g), p = n2(5717);
          function m(e3) {
            var t3;
            e3 = e3 || {};
            var n3, r3, i2, a3, o2, s3, u2, l2 = this.context, c2 = [], f2 = e3.metricsConstants;
            function g2() {
              a3 = false, o2 = false, s3 = null, u2 = null;
            }
            return t3 = { report: function(e4, t4) {
              Array.isArray(t4) || (t4 = [t4]), o2 && u2.isEnabled() && t4.forEach(function(t5) {
                var i3 = n3.serialise(t5);
                e4 !== f2.DVB_ERRORS && (i3 = "metricname=".concat(e4, "&").concat(i3)), function(e5, t6, n4) {
                  var i4 = new XMLHttpRequest();
                  i4.withCredentials = r3.getXHRWithCredentialsForType(f2.HTTP_REQUEST_DVB_REPORTING_TYPE);
                  var a4 = function() {
                    var e6 = c2.indexOf(i4);
                    -1 !== e6 && (c2.splice(e6, 1), !(i4.status >= 200 && i4.status < 300) && (n4 && n4()));
                  };
                  c2.push(i4);
                  try {
                    i4.open("GET", e5), i4.onloadend = a4, i4.onerror = a4, i4.send();
                  } catch (e6) {
                    i4.onerror();
                  }
                }(i3 = "".concat(s3, "?").concat(i3), 0, function() {
                  o2 = false;
                });
              });
            }, initialize: function(e4, t4) {
              var n4;
              if (u2 = t4, !(s3 = e4.dvbReportingUrl))
                throw new Error("required parameter missing (dvb:reportingUrl)");
              a3 || ((n4 = e4.dvbProbability) && (1e3 === n4 || n4 / 1e3 >= i2.random()) && (o2 = true), a3 = true);
            }, reset: function() {
              g2();
            } }, n3 = d(l2).getInstance(), i2 = h(l2).getInstance(), r3 = (0, p.Z)(l2).getInstance(), g2(), t3;
          }
          m.__dashjs_factory_name = "DVBReporting";
          var y = dashjs.FactoryMaker.getClassFactory(m);
          function E(e3) {
            e3 = e3 || {};
            var t3, n3 = { "urn:dvb:dash:reporting:2014": y }, r3 = this.context, i2 = e3.debug ? e3.debug.getLogger(t3) : {}, a3 = e3.metricsConstants, o2 = e3.mediaPlayerModel || {};
            return { create: function(e4, t4) {
              var s3;
              try {
                (s3 = n3[e4.schemeIdUri](r3).create({ metricsConstants: a3, mediaPlayerModel: o2 })).initialize(e4, t4);
              } catch (t5) {
                s3 = null, i2.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(e4.schemeIdUri, " (").concat(t5.message, ")"));
              }
              return s3;
            }, register: function(e4, t4) {
              n3[e4] = t4;
            }, unregister: function(e4) {
              delete n3[e4];
            } };
          }
          E.__dashjs_factory_name = "ReportingFactory";
          var v = dashjs.FactoryMaker.getSingletonFactory(E);
          function _(e3) {
            var t3 = [], n3 = v(this.context).getInstance(e3);
            return { initialize: function(e4, r3) {
              e4.some(function(e5) {
                var i2 = n3.create(e5, r3);
                if (i2)
                  return t3.push(i2), true;
              });
            }, reset: function() {
              t3.forEach(function(e4) {
                return e4.reset();
              }), t3 = [];
            }, report: function(e4, n4) {
              t3.forEach(function(t4) {
                return t4.report(e4, n4);
              });
            } };
          }
          _.__dashjs_factory_name = "ReportingController";
          var T = dashjs.FactoryMaker.getClassFactory(_);
          function S() {
            return { reconstructFullMetricName: function(e3, t3, n3) {
              var r3 = e3;
              return t3 && (r3 += "(" + t3, n3 && n3.length && (r3 += "," + n3), r3 += ")"), r3;
            }, validateN: function(e3) {
              if (!e3)
                throw new Error("missing n");
              if (isNaN(e3))
                throw new Error("n is NaN");
              if (e3 < 0)
                throw new Error("n must be positive");
              return e3;
            } };
          }
          S.__dashjs_factory_name = "HandlerHelpers";
          var b = dashjs.FactoryMaker.getSingletonFactory(S);
          function A(e3) {
            var t3, n3, r3, i2, a3;
            e3 = e3 || {};
            var o2 = this.context, s3 = b(o2).getInstance(), u2 = [], l2 = e3.metricsConstants;
            function c2() {
              var e4 = function() {
                try {
                  return Object.keys(u2).map(function(e5) {
                    return u2[e5];
                  }).reduce(function(e5, t4) {
                    return e5.level < t4.level ? e5 : t4;
                  });
                } catch (e5) {
                  return;
                }
              }();
              e4 && a3 !== e4.t && (a3 = e4.t, t3.report(r3, e4));
            }
            return { initialize: function(e4, a4, o3) {
              a4 && (n3 = s3.validateN(o3), t3 = a4, r3 = s3.reconstructFullMetricName(e4, o3), i2 = setInterval(c2, n3));
            }, reset: function() {
              clearInterval(i2), i2 = null, n3 = 0, t3 = null, a3 = null;
            }, handleNewMetric: function(e4, t4, n4) {
              e4 === l2.BUFFER_LEVEL && (u2[n4] = t4);
            } };
          }
          A.__dashjs_factory_name = "BufferLevelHandler";
          var I = dashjs.FactoryMaker.getClassFactory(A), R = dashjs.FactoryMaker.getClassFactory(function(e3) {
            var t3, n3 = (e3 = e3 || {}).eventBus, r3 = e3.metricsConstants;
            function i2() {
              n3.off(a2.Z.METRICS_INITIALISATION_COMPLETE, i2, this), n3.trigger(a2.Z.BECAME_REPORTING_PLAYER);
            }
            return { initialize: function(e4, r4) {
              r4 && (t3 = r4, n3.on(a2.Z.METRICS_INITIALISATION_COMPLETE, i2, this));
            }, reset: function() {
              t3 = null;
            }, handleNewMetric: function(e4, n4) {
              e4 === r3.DVB_ERRORS && t3 && t3.report(e4, n4);
            } };
          });
          function w(e3) {
            var t3, n3, r3, i2, a3;
            e3 = e3 || {};
            var o2 = [], s3 = b(this.context).getInstance(), u2 = e3.metricsConstants;
            function l2() {
              var e4 = o2;
              e4.length && t3 && t3.report(i2, e4), o2 = [];
            }
            return { initialize: function(e4, o3, u3, c2) {
              o3 && (n3 = s3.validateN(u3), t3 = o3, c2 && c2.length && (r3 = c2), i2 = s3.reconstructFullMetricName(e4, u3, c2), a3 = setInterval(l2, n3));
            }, reset: function() {
              clearInterval(a3), a3 = null, n3 = null, r3 = null, o2 = [], t3 = null;
            }, handleNewMetric: function(e4, t4) {
              e4 === u2.HTTP_REQUEST && (r3 && r3 !== t4.type || o2.push(t4));
            } };
          }
          w.__dashjs_factory_name = "HttpListHandler";
          var N = dashjs.FactoryMaker.getClassFactory(w);
          function C() {
            var e3, t3;
            return { initialize: function(n3, r3) {
              e3 = n3, t3 = r3;
            }, reset: function() {
              t3 = null, e3 = void 0;
            }, handleNewMetric: function(n3, r3) {
              n3 === e3 && t3 && t3.report(e3, r3);
            } };
          }
          C.__dashjs_factory_name = "GenericMetricHandler";
          var D = dashjs.FactoryMaker.getClassFactory(C);
          function O(e3) {
            var t3, n3 = (e3 = e3 || {}).debug ? e3.debug.getLogger(t3) : {}, r3 = /([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/, i2 = this.context, a3 = { BufferLevel: I, DVBErrors: R, HttpList: N, PlayList: D, RepSwitchList: D, TcpList: D };
            return { create: function(t4, o2) {
              var s3, u2 = t4.match(r3);
              if (u2) {
                try {
                  (s3 = a3[u2[1]](i2).create({ eventBus: e3.eventBus, metricsConstants: e3.metricsConstants })).initialize(u2[1], o2, u2[3], u2[5]);
                } catch (e4) {
                  s3 = null, n3.error("MetricsHandlerFactory: Could not create handler for type ".concat(u2[1], " with args ").concat(u2[3], ", ").concat(u2[5], " (").concat(e4.message, ")"));
                }
                return s3;
              }
            }, register: function(e4, t4) {
              a3[e4] = t4;
            }, unregister: function(e4) {
              delete a3[e4];
            } };
          }
          O.__dashjs_factory_name = "MetricsHandlerFactory";
          var M = dashjs.FactoryMaker.getSingletonFactory(O);
          function P(e3) {
            e3 = e3 || {};
            var t3, n3 = [], r3 = this.context, i2 = e3.eventBus, a3 = e3.events, o2 = M(r3).getInstance({ debug: e3.debug, eventBus: e3.eventBus, metricsConstants: e3.metricsConstants });
            function s3(e4) {
              n3.forEach(function(t4) {
                t4.handleNewMetric(e4.metric, e4.value, e4.mediaType);
              });
            }
            return t3 = { initialize: function(e4, r4) {
              e4.split(",").forEach(function(e5, t4, i3) {
                var a4;
                if (-1 !== e5.indexOf("(") && -1 === e5.indexOf(")")) {
                  var s4 = i3[t4 + 1];
                  s4 && -1 === s4.indexOf("(") && -1 !== s4.indexOf(")") && (e5 += "," + s4, delete i3[t4 + 1]);
                }
                (a4 = o2.create(e5, r4)) && n3.push(a4);
              }), i2.on(a3.METRIC_ADDED, s3, t3), i2.on(a3.METRIC_UPDATED, s3, t3);
            }, reset: function() {
              i2.off(a3.METRIC_ADDED, s3, t3), i2.off(a3.METRIC_UPDATED, s3, t3), n3.forEach(function(e4) {
                return e4.reset();
              }), n3 = [];
            } };
          }
          P.__dashjs_factory_name = "MetricsHandlersController";
          var L = dashjs.FactoryMaker.getClassFactory(P);
          function F(e3) {
            var t3, n3, r3;
            e3 = e3 || {};
            var i2 = this.context;
            function a3() {
              t3 && t3.reset(), n3 && n3.reset(), r3 && r3.reset();
            }
            return { initialize: function(o2) {
              try {
                (r3 = c(i2).create({ mediaElement: e3.mediaElement })).initialize(o2.Range), (n3 = T(i2).create({ debug: e3.debug, metricsConstants: e3.metricsConstants, mediaPlayerModel: e3.mediaPlayerModel })).initialize(o2.Reporting, r3), (t3 = L(i2).create({ debug: e3.debug, eventBus: e3.eventBus, metricsConstants: e3.metricsConstants, events: e3.events })).initialize(o2.metrics, n3);
              } catch (e4) {
                throw a3(), e4;
              }
            }, reset: a3 };
          }
          F.__dashjs_factory_name = "MetricsController";
          var x = dashjs.FactoryMaker.getClassFactory(F), k = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.metrics = "", this.Range = [], this.Reporting = [];
          }, U = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.starttime = 0, this.duration = 1 / 0, this._useWallClockTime = false;
          }, Z = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.schemeIdUri = "", this.value = "", this.dvbReportingUrl = "", this.dvbProbability = 1e3;
          };
          function B(e3) {
            var t3 = (e3 = e3 || {}).adapter, n3 = e3.constants;
            return { getMetrics: function(e4) {
              var r3 = [];
              return e4 && e4.Metrics_asArray && e4.Metrics_asArray.forEach(function(i2) {
                var a3 = new k(), o2 = t3.getIsDynamic(e4);
                i2.hasOwnProperty("metrics") && (a3.metrics = i2.metrics, i2.Range_asArray && i2.Range_asArray.forEach(function(r4) {
                  var i3 = new U();
                  i3.starttime = function(e5, r5, i4) {
                    var a4, o3, s3 = 0;
                    return r5 ? s3 = t3.getAvailabilityStartTime(e5) / 1e3 : (a4 = t3.getRegularPeriods(e5)).length && (s3 = a4[0].start), o3 = s3, i4 && i4.hasOwnProperty(n3.START_TIME) && (o3 += i4.starttime), o3;
                  }(e4, o2, r4), r4.hasOwnProperty("duration") ? i3.duration = r4.duration : i3.duration = t3.getDuration(e4), i3._useWallClockTime = o2, a3.Range.push(i3);
                }), i2.Reporting_asArray && (i2.Reporting_asArray.forEach(function(e5) {
                  var t4 = new Z();
                  e5.hasOwnProperty(n3.SCHEME_ID_URI) && (t4.schemeIdUri = e5.schemeIdUri, e5.hasOwnProperty("value") && (t4.value = e5.value), e5.hasOwnProperty(n3.DVB_REPORTING_URL) && (t4.dvbReportingUrl = e5[n3.DVB_REPORTING_URL]), e5.hasOwnProperty(n3.DVB_PROBABILITY) && (t4.dvbProbability = e5[n3.DVB_PROBABILITY]), a3.Reporting.push(t4));
                }), r3.push(a3)));
              }), r3;
            } };
          }
          B.__dashjs_factory_name = "ManifestParsing";
          var G = dashjs.FactoryMaker.getSingletonFactory(B);
          function q(e3) {
            var t3;
            e3 = e3 || {};
            var n3 = {}, r3 = this.context, i2 = e3.eventBus, o2 = e3.events;
            function s3(t4) {
              if (!t4.error) {
                var o3 = Object.keys(n3);
                G(r3).getInstance({ adapter: e3.adapter, constants: e3.constants }).getMetrics(t4.manifest).forEach(function(t5) {
                  var i3 = JSON.stringify(t5);
                  if (n3.hasOwnProperty(i3))
                    o3.splice(i3, 1);
                  else
                    try {
                      var a3 = x(r3).create(e3);
                      a3.initialize(t5), n3[i3] = a3;
                    } catch (e4) {
                    }
                }), o3.forEach(function(e4) {
                  n3[e4].reset(), delete n3[e4];
                }), i2.trigger(a2.Z.METRICS_INITIALISATION_COMPLETE);
              }
            }
            function u2() {
              Object.keys(n3).forEach(function(e4) {
                n3[e4].reset();
              }), n3 = {};
            }
            return t3 = { reset: function() {
              i2.off(o2.MANIFEST_UPDATED, s3, t3), i2.off(o2.STREAM_TEARDOWN_COMPLETE, u2, t3);
            } }, i2.on(o2.MANIFEST_UPDATED, s3, t3), i2.on(o2.STREAM_TEARDOWN_COMPLETE, u2, t3), t3;
          }
          q.__dashjs_factory_name = "MetricsCollectionController";
          var Y = dashjs.FactoryMaker.getClassFactory(q);
          function j() {
            var e3 = this.context;
            return { createMetricsReporting: function(t3) {
              return s2(e3).getInstance({ eventBus: t3.eventBus, dashMetrics: t3.dashMetrics, metricsConstants: t3.metricsConstants, events: t3.events }).initialize(), Y(e3).create(t3);
            }, getReportingFactory: function() {
              return v(e3).getInstance();
            }, getMetricsHandlerFactory: function() {
              return M(e3).getInstance();
            } };
          }
          j.__dashjs_factory_name = "MetricsReporting";
          var H = dashjs.FactoryMaker.getClassFactory(j);
          H.events = a2.Z, dashjs.FactoryMaker.updateClassFactory(j.__dashjs_factory_name, H);
          var V = H;
        }, 1180: function(e2, t2, n2) {
          "use strict";
          function r2(e3) {
            return r2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, r2(e3);
          }
          function i(e3, t3) {
            return i = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, i(e3, t3);
          }
          function a2(e3, t3) {
            return !t3 || "object" !== r2(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function o(e3) {
            return o = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, o(e3);
          }
          var s2 = new (function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && i(e4, t4);
            }(s3, e3);
            var t3, n3, r3 = (t3 = s3, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = o(t3);
              if (n3) {
                var i2 = o(this).constructor;
                e4 = Reflect.construct(r4, arguments, i2);
              } else
                e4 = r4.apply(this, arguments);
              return a2(this, e4);
            });
            function s3() {
              var e4;
              return function(e5, t4) {
                if (!(e5 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, s3), (e4 = r3.call(this)).METRICS_INITIALISATION_COMPLETE = "internal_metricsReportingInitialized", e4.BECAME_REPORTING_PLAYER = "internal_becameReportingPlayer", e4.CMCD_DATA_GENERATED = "cmcdDataGenerated", e4;
            }
            return s3;
          }(n2(8342).Z))();
          t2.Z = s2;
        }, 5717: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(2610), i = n2(5448), a2 = n2(1264), o = n2(3106), s2 = n2(1767), u = n2(3393);
          function l() {
            var e3, t3, n3, i2, l2, c, f, d, g = this.context, h = (0, a2.Z)(g).getInstance();
            function p() {
              i2 = [], l2 = [], c = [], d = [], f = null, t3 = [];
            }
            function m(e4, t4) {
              var n4 = -1;
              e4.some(function(e5, r3) {
                if (e5 === t4)
                  return n4 = r3, true;
              }), n4 < 0 || e4.splice(n4, 1);
            }
            function y(e4) {
              var t4;
              for (t4 = 0; t4 < d.length; t4++)
                if (d[t4].rulename === e4)
                  return t4;
              return -1;
            }
            function E(e4, n4) {
              v(e4, n4);
              var i3 = new r2.Z();
              i3.schemeIdUri = e4, i3.value = n4, t3.push(i3);
            }
            function v(e4, n4) {
              (0, o.PS)(e4, "string"), (0, o.PS)(n4, "string"), t3.forEach(function(r3, i3) {
                r3.schemeIdUri === e4 && r3.value === n4 && t3.splice(i3, 1);
              });
            }
            return e3 = { getCustomInitialTrackSelectionFunction: function() {
              return f;
            }, setCustomInitialTrackSelectionFunction: function(e4) {
              f = e4;
            }, resetCustomInitialTrackSelectionFunction: function() {
              f = null;
            }, getLicenseResponseFilters: function() {
              return l2;
            }, getLicenseRequestFilters: function() {
              return i2;
            }, getCustomCapabilitiesFilters: function() {
              return c;
            }, registerCustomCapabilitiesFilter: function(e4) {
              c.push(e4);
            }, registerLicenseResponseFilter: function(e4) {
              l2.push(e4);
            }, registerLicenseRequestFilter: function(e4) {
              i2.push(e4);
            }, unregisterCustomCapabilitiesFilter: function(e4) {
              m(c, e4);
            }, unregisterLicenseResponseFilter: function(e4) {
              m(l2, e4);
            }, unregisterLicenseRequestFilter: function(e4) {
              m(i2, e4);
            }, addAbrCustomRule: function(e4, t4, n4) {
              if ("string" != typeof e4 || e4 !== s2.Z.ABANDON_FRAGMENT_RULES && e4 !== s2.Z.QUALITY_SWITCH_RULES || "string" != typeof t4)
                throw u.Z.BAD_ARGUMENT_ERROR;
              var r3 = y(t4);
              -1 === r3 ? d.push({ type: e4, rulename: t4, rule: n4 }) : (d[r3].type = e4, d[r3].rule = n4);
            }, removeAllAbrCustomRule: function() {
              d = [];
            }, removeAbrCustomRule: function(e4) {
              if (e4) {
                var t4 = y(e4);
                -1 !== t4 && d.splice(t4, 1);
              } else
                d = [];
            }, getAbrCustomRules: function() {
              return d;
            }, addUTCTimingSource: E, removeUTCTimingSource: v, getUTCTimingSources: function() {
              return t3;
            }, clearDefaultUTCTimingSources: function() {
              t3 = [];
            }, restoreDefaultUTCTimingSources: function() {
              var e4 = h.get().streaming.utcSynchronization.defaultTimingSource;
              E(e4.scheme, e4.value);
            }, setXHRWithCredentialsForType: function e4(t4, r3) {
              t4 ? n3[t4] = !!r3 : Object.keys(n3).forEach(function(t5) {
                e4(t5, r3);
              });
            }, getXHRWithCredentialsForType: function(e4) {
              var t4 = n3[e4];
              return void 0 === t4 ? n3.default : t4;
            }, setConfig: function() {
            }, reset: function() {
              p();
            } }, n3 = { default: false }, p(), e3;
          }
          l.__dashjs_factory_name = "CustomParametersModel", t2.Z = i.Z.getSingletonFactory(l);
        }, 9032: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(7473);
          function a2(e3) {
            var t3 = (e3 = e3 || {}).requestModifier;
            function n3(e4) {
              var n4 = /* @__PURE__ */ new Date(), r3 = e4.request, i2 = new XMLHttpRequest();
              if (i2.open(e4.method, e4.url, true), r3.responseType && (i2.responseType = r3.responseType), r3.range && i2.setRequestHeader("Range", "bytes=" + r3.range), r3.requestStartDate || (r3.requestStartDate = n4), t3 && t3.modifyRequestHeader && (i2 = t3.modifyRequestHeader(i2, { url: e4.url })), e4.headers)
                for (var a3 in e4.headers) {
                  var o2 = e4.headers[a3];
                  o2 && i2.setRequestHeader(a3, o2);
                }
              i2.withCredentials = e4.withCredentials, i2.onload = e4.onload, i2.onloadend = e4.onend, i2.onerror = e4.onerror, i2.onprogress = e4.progress, i2.onabort = e4.onabort, i2.ontimeout = e4.ontimeout, i2.timeout = e4.timeout, i2.send(), e4.response = i2;
            }
            return { load: function(e4) {
              t3 && t3.modifyRequest ? (0, i.k)(e4, t3).then(function() {
                return n3(e4);
              }) : n3(e4);
            }, abort: function(e4) {
              var t4 = e4.response;
              t4.onloadend = t4.onerror = t4.onprogress = void 0, t4.abort();
            } };
          }
          a2.__dashjs_factory_name = "XHRLoader";
          var o = r2.Z.getClassFactory(a2);
          t2.Z = o;
        }, 1737: function(e2, t2, n2) {
          "use strict";
          function r2(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          n2.d(t2, { default: function() {
            return be;
          } });
          var i = { attributes: ["Laurl", "laurl"], prefixes: ["clearkey", "dashif"] }, a2 = function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3);
            }
            var t3, n3;
            return t3 = e3, n3 = [{ key: "findCencContentProtection", value: function(e4) {
              for (var t4 = null, n4 = 0; n4 < e4.length; ++n4) {
                var r3 = e4[n4];
                "urn:mpeg:dash:mp4protection:2011" !== r3.schemeIdUri.toLowerCase() || "cenc" !== r3.value.toLowerCase() && "cbcs" !== r3.value.toLowerCase() || (t4 = r3);
              }
              return t4;
            } }, { key: "getPSSHData", value: function(e4) {
              var t4 = 8, n4 = new DataView(e4), r3 = n4.getUint8(t4);
              return t4 += 20, r3 > 0 && (t4 += 4 + 16 * n4.getUint32(t4)), t4 += 4, e4.slice(t4);
            } }, { key: "getPSSHForKeySystem", value: function(t4, n4) {
              var r3 = e3.parsePSSHList(n4);
              return t4 && r3.hasOwnProperty(t4.uuid.toLowerCase()) ? r3[t4.uuid.toLowerCase()] : null;
            } }, { key: "parseInitDataFromContentProtection", value: function(e4, t4) {
              return "pssh" in e4 ? (e4.pssh.__text = e4.pssh.__text.replace(/\r?\n|\r/g, "").replace(/\s+/g, ""), t4.decodeArray(e4.pssh.__text).buffer) : null;
            } }, { key: "parsePSSHList", value: function(e4) {
              if (null == e4)
                return [];
              for (var t4 = new DataView(e4.buffer || e4), n4 = {}, r3 = 0; ; ) {
                var i2, a3, o2 = void 0, s3 = r3;
                if (r3 >= t4.buffer.byteLength)
                  break;
                if (i2 = r3 + t4.getUint32(r3), r3 += 4, 1886614376 === t4.getUint32(r3))
                  if (r3 += 4, 0 === (a3 = t4.getUint8(r3)) || 1 === a3) {
                    r3++, r3 += 3, o2 = "";
                    var u2 = void 0, l2 = void 0;
                    for (u2 = 0; u2 < 4; u2++)
                      o2 += 1 === (l2 = t4.getUint8(r3 + u2).toString(16)).length ? "0" + l2 : l2;
                    for (r3 += 4, o2 += "-", u2 = 0; u2 < 2; u2++)
                      o2 += 1 === (l2 = t4.getUint8(r3 + u2).toString(16)).length ? "0" + l2 : l2;
                    for (r3 += 2, o2 += "-", u2 = 0; u2 < 2; u2++)
                      o2 += 1 === (l2 = t4.getUint8(r3 + u2).toString(16)).length ? "0" + l2 : l2;
                    for (r3 += 2, o2 += "-", u2 = 0; u2 < 2; u2++)
                      o2 += 1 === (l2 = t4.getUint8(r3 + u2).toString(16)).length ? "0" + l2 : l2;
                    for (r3 += 2, o2 += "-", u2 = 0; u2 < 6; u2++)
                      o2 += 1 === (l2 = t4.getUint8(r3 + u2).toString(16)).length ? "0" + l2 : l2;
                    r3 += 6, r3 += 4, n4[o2 = o2.toLowerCase()] = t4.buffer.slice(s3, i2), r3 = i2;
                  } else
                    r3 = i2;
                else
                  r3 = i2;
              }
              return n4;
            } }, { key: "getLicenseServerUrlFromMediaInfo", value: function(e4, t4) {
              try {
                if (!e4 || 0 === e4.length)
                  return null;
                for (var n4 = 0, r3 = null; n4 < e4.length && !r3; ) {
                  var a3 = e4[n4];
                  if (a3 && a3.contentProtection && a3.contentProtection.length > 0) {
                    var o2 = a3.contentProtection.filter(function(e5) {
                      return e5.schemeIdUri && e5.schemeIdUri === t4;
                    });
                    if (o2 && o2.length > 0)
                      for (var s3 = 0; s3 < o2.length && !r3; ) {
                        for (var u2 = o2[s3], l2 = 0; l2 < i.attributes.length && !r3; ) {
                          for (var c2 = 0, f2 = i.attributes[l2]; c2 < i.prefixes.length && !r3; ) {
                            var d2 = i.prefixes[c2];
                            u2[f2] && u2[f2].__prefix && u2[f2].__prefix === d2 && u2[f2].__text && (r3 = u2[f2].__text), c2 += 1;
                          }
                          l2 += 1;
                        }
                        s3 += 1;
                      }
                  }
                  n4 += 1;
                }
                return r3;
              } catch (e5) {
                return null;
              }
            } }], null, n3 && r2(t3, n3), e3;
          }(), o = function e3(t3, n3) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.contentType = t3, this.robustness = n3;
          }, s2 = function e3(t3, n3, r3, i2, a3) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.initDataTypes = ["cenc"], t3 && t3.length && (this.audioCapabilities = t3), n3 && n3.length && (this.videoCapabilities = n3), this.distinctiveIdentifier = r3, this.persistentState = i2, this.sessionTypes = a3;
          };
          function u(e3) {
            return u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, u(e3);
          }
          function l(e3, t3) {
            return l = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, l(e3, t3);
          }
          function c(e3, t3) {
            return !t3 || "object" !== u(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function f(e3) {
            return f = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, f(e3);
          }
          var d = new (function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && l(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = f(t3);
              if (n3) {
                var i3 = f(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return c(this, e4);
            });
            function i2() {
              var e4;
              return function(e5, t4) {
                if (!(e5 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2), (e4 = r3.call(this)).MEDIA_KEYERR_CODE = 100, e4.MEDIA_KEYERR_UNKNOWN_CODE = 101, e4.MEDIA_KEYERR_CLIENT_CODE = 102, e4.MEDIA_KEYERR_SERVICE_CODE = 103, e4.MEDIA_KEYERR_OUTPUT_CODE = 104, e4.MEDIA_KEYERR_HARDWARECHANGE_CODE = 105, e4.MEDIA_KEYERR_DOMAIN_CODE = 106, e4.MEDIA_KEY_MESSAGE_ERROR_CODE = 107, e4.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE = 108, e4.SERVER_CERTIFICATE_UPDATED_ERROR_CODE = 109, e4.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE = 110, e4.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE = 111, e4.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE = 112, e4.KEY_SESSION_CREATED_ERROR_CODE = 113, e4.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE = 114, e4.MEDIA_KEYERR_UNKNOWN_MESSAGE = "An unspecified error occurred. This value is used for errors that don't match any of the other codes.", e4.MEDIA_KEYERR_CLIENT_MESSAGE = "The Key System could not be installed or updated.", e4.MEDIA_KEYERR_SERVICE_MESSAGE = "The message passed into update indicated an error from the license service.", e4.MEDIA_KEYERR_OUTPUT_MESSAGE = "There is no available output device with the required characteristics for the content protection system.", e4.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE = "A hardware configuration change caused a content protection error.", e4.MEDIA_KEYERR_DOMAIN_MESSAGE = "An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.", e4.MEDIA_KEY_MESSAGE_ERROR_MESSAGE = "Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!", e4.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE = "DRM: Empty key message from CDM", e4.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE = "Error updating server certificate -- ", e4.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE = "DRM: KeyStatusChange error! -- License has expired", e4.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE = "DRM: No license server URL specified!", e4.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE = "DRM: KeySystem Access Denied! -- ", e4.KEY_SESSION_CREATED_ERROR_MESSAGE = "DRM: unable to create session! --", e4.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE = "DRM: licenser error! --", e4;
            }
            return i2;
          }(n2(2230).Z))(), g = n2(5459), h = function e3(t3, n3, r3, i2, a3, o2, s3, u2) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.url = t3, this.method = n3, this.responseType = r3, this.headers = i2, this.withCredentials = a3, this.messageType = o2, this.sessionId = s3, this.data = u2;
          }, p = function e3(t3, n3, r3) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.url = t3, this.headers = n3, this.data = r3;
          }, m = n2(7855), y = n2(703), E = n2(3393), v = n2(5448);
          function _(e3) {
            return _ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, _(e3);
          }
          function T(e3) {
            var t3, n3, r3, i2, u2, l2, c2, f2, v2, T2, S2, b2 = (e3 = e3 || {}).protectionKeyController, A2 = e3.protectionModel, I2 = e3.eventBus, R2 = e3.events, w2 = e3.debug, N2 = e3.BASE64, C2 = e3.constants, D2 = [], O2 = e3.cmcdModel, M2 = e3.settings, P2 = e3.customParametersModel;
            function L2() {
              if (!(I2 && I2.hasOwnProperty("on") && b2 && b2.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))
                throw new Error("Missing config parameter(s)");
            }
            function F2(e4, t4) {
              f2 || v2 ? f2 && x2() : function(e5, t5) {
                if (!v2) {
                  v2 = true;
                  var r4, i3 = [];
                  e5 = e5.sort(function(t6, n4) {
                    return (u2 && u2[t6.ks.systemString] && u2[t6.ks.systemString].priority >= 0 ? u2[t6.ks.systemString].priority : e5.length) - (u2 && u2[n4.ks.systemString] && u2[n4.ks.systemString].priority >= 0 ? u2[n4.ks.systemString].priority : e5.length);
                  });
                  for (var a3 = 0; a3 < e5.length; a3++) {
                    var o2 = Y2(e5[a3]);
                    i3.push({ ks: e5[a3].ks, configs: [o2], protData: e5[a3].protData });
                  }
                  A2.requestKeySystemAccess(i3).then(function(e6) {
                    var t6 = (r4 = e6.data).mksa && r4.mksa.selectedSystemString ? r4.mksa.selectedSystemString : r4.keySystem.systemString;
                    return n3.info("DRM: KeySystem Access Granted for system string (" + t6 + ")!  Selecting key system..."), A2.selectKeySystem(r4);
                  }).then(function(e6) {
                    if (f2 = e6, v2 = false, A2) {
                      I2.trigger(R2.KEY_SYSTEM_SELECTED, { data: r4 });
                      var t6 = B2(f2);
                      t6 && t6.serverCertificate && t6.serverCertificate.length > 0 && A2.setServerCertificate(N2.decodeArray(t6.serverCertificate).buffer), x2();
                    }
                  }).catch(function(e6) {
                    f2 = null, v2 = false, t5 || I2.trigger(R2.KEY_SYSTEM_SELECTED, { data: null, error: new g.Z(d.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE, d.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE + "Error selecting key system! -- " + e6.error) });
                  });
                }
              }(e4, t4);
            }
            function x2() {
              for (var e4, t4 = 0; t4 < r3.length; t4++)
                for (e4 = 0; e4 < r3[t4].length; e4++)
                  if (f2 === r3[t4][e4].ks) {
                    k2(r3[t4][e4]);
                    break;
                  }
              r3 = [];
            }
            function k2(e4) {
              if (b2.isClearKey(f2) && e4.protData && e4.protData.hasOwnProperty("clearkeys") && 0 !== Object.keys(e4.protData.clearkeys).length) {
                var t4 = { kids: Object.keys(e4.protData.clearkeys) };
                e4.initData = new TextEncoder().encode(JSON.stringify(t4));
              }
              e4.sessionId ? U2(e4) : null !== e4.initData && Z2(e4);
            }
            function U2(e4) {
              L2(), A2.loadKeySession(e4);
            }
            function Z2(e4) {
              var t4 = a2.getPSSHForKeySystem(f2, e4 ? e4.initData : null);
              if (t4) {
                if (function(e5) {
                  if (!e5)
                    return false;
                  try {
                    for (var t5 = A2.getSessions(), n4 = 0; n4 < t5.length; n4++)
                      if (t5[n4].getKeyId() === e5)
                        return true;
                    return false;
                  } catch (e6) {
                    return false;
                  }
                }(e4.keyId))
                  return;
                if (G2(t4))
                  return;
                try {
                  e4.initData = t4, A2.createKeySession(e4);
                } catch (e5) {
                  I2.trigger(R2.KEY_SESSION_CREATED, { data: null, error: new g.Z(d.KEY_SESSION_CREATED_ERROR_CODE, d.KEY_SESSION_CREATED_ERROR_MESSAGE + e5.message) });
                }
              } else
                e4 && e4.initData ? A2.createKeySession(e4) : I2.trigger(R2.KEY_SESSION_CREATED, { data: null, error: new g.Z(d.KEY_SESSION_CREATED_ERROR_CODE, d.KEY_SESSION_CREATED_ERROR_MESSAGE + "Selected key system is " + (f2 ? f2.systemString : null) + ".  needkey/encrypted event contains no initData corresponding to that key system!") });
            }
            function B2(e4) {
              if (e4) {
                var t4 = e4.systemString;
                if (u2)
                  return t4 in u2 ? u2[t4] : null;
              }
              return null;
            }
            function G2(e4) {
              if (!e4)
                return false;
              try {
                for (var t4 = A2.getAllInitData(), r4 = 0; r4 < t4.length; r4++)
                  if (b2.initDataEquals(e4, t4[r4]))
                    return n3.debug("DRM: Ignoring initData because we have already seen it!"), true;
                return false;
              } catch (e5) {
                return false;
              }
            }
            function q2(e4) {
              L2(), e4 ? (A2.setMediaElement(e4), I2.on(R2.NEED_KEY, J2, t3)) : null === e4 && (A2.setMediaElement(e4), I2.off(R2.NEED_KEY, J2, t3));
            }
            function Y2(e4) {
              var t4 = e4.protData, n4 = [], r4 = [], a3 = t4 && t4.audioRobustness && t4.audioRobustness.length > 0 ? t4.audioRobustness : c2, u3 = t4 && t4.videoRobustness && t4.videoRobustness.length > 0 ? t4.videoRobustness : c2, l3 = e4.sessionType, f3 = t4 && t4.distinctiveIdentifier ? t4.distinctiveIdentifier : "optional", d2 = t4 && t4.persistentState ? t4.persistentState : "temporary" === l3 ? "optional" : "required";
              return i2.forEach(function(e5) {
                e5.type === C2.AUDIO ? n4.push(new o(e5.codec, a3)) : e5.type === C2.VIDEO && r4.push(new o(e5.codec, u3));
              }), new s2(n4, r4, f3, d2, [l3]);
            }
            function j2(e4) {
              e4.error ? I2.trigger(R2.KEY_STATUSES_CHANGED, { data: null, error: e4.error }) : n3.debug("DRM: key status = " + e4.status);
            }
            function H2(e4) {
              n3.debug("DRM: onKeyMessage");
              var t4 = e4.data;
              I2.trigger(R2.KEY_MESSAGE, { data: t4 });
              var r4 = t4.messageType ? t4.messageType : "license-request", o2 = t4.message, s3 = t4.sessionToken, u3 = B2(f2), l3 = b2.getLicenseServerModelInstance(f2, u3, r4), c3 = { sessionToken: s3, messageType: r4 };
              if (o2 && 0 !== o2.byteLength) {
                if (!l3)
                  return n3.debug("DRM: License server request not required for this message (type = " + e4.data.messageType + ").  Session ID = " + s3.getSessionId()), void V2(c3);
                if (b2.isClearKey(f2)) {
                  var E2 = b2.processClearKeyLicenseRequest(f2, u3, o2);
                  if (E2 && E2.keyPairs && E2.keyPairs.length > 0)
                    return n3.debug("DRM: ClearKey license request handled by application!"), V2(c3), void A2.updateKeySession(s3, E2);
                }
                !function(e5, t5, n4) {
                  var r5 = e5.sessionToken, o3 = e5.messageType ? e5.messageType : "license-request", s4 = { sessionToken: r5, messageType: o3 }, u4 = f2 ? f2.systemString : null, l4 = function(e6, t6, n5, r6, o4) {
                    var s5 = null, u5 = r6.message;
                    if (e6 && e6.serverURL) {
                      var l5 = e6.serverURL;
                      "string" == typeof l5 && "" !== l5 ? s5 = l5 : "object" === _(l5) && l5.hasOwnProperty(t6) && (s5 = l5[t6]);
                    } else if (e6 && e6.laURL && "" !== e6.laURL)
                      s5 = e6.laURL;
                    else if (!(s5 = a2.getLicenseServerUrlFromMediaInfo(i2, f2.schemeIdURI)) && !b2.isClearKey(f2)) {
                      var c5 = a2.getPSSHData(n5.initData);
                      (s5 = f2.getLicenseServerURLFromInitData(c5)) || (s5 = r6.laURL);
                    }
                    return s5 = o4.getServerURLFromMessage(s5, u5, t6);
                  }(n4, o3, r5, e5, t5);
                  if (l4) {
                    var c4 = {}, E3 = false;
                    n4 && W2(c4, n4.httpRequestHeaders);
                    var v3 = e5.message;
                    W2(c4, f2.getRequestHeadersFromMessage(v3)), Object.keys(c4).forEach(function(e6) {
                      "authorization" === e6.toLowerCase() && (E3 = true);
                    }), n4 && "boolean" == typeof n4.withCredentials && (E3 = n4.withCredentials);
                    var T3 = function(e6) {
                      if (A2)
                        if (e6.status >= 200 && e6.status <= 299) {
                          var n5 = y.Z.parseHttpHeaders(e6.getAllResponseHeaders ? e6.getAllResponseHeaders() : null), i3 = new p(e6.responseURL, n5, e6.response);
                          Q2(P2.getLicenseResponseFilters(), i3).then(function() {
                            var n6 = t5.getLicenseMessage(i3.data, u4, o3);
                            null !== n6 ? (V2(s4), A2.updateKeySession(r5, n6)) : X2(e6, s4, u4, o3, t5);
                          });
                        } else
                          X2(e6, s4, u4, o3, t5);
                    }, S3 = function(e6) {
                      V2(s4, new g.Z(d.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE, d.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE + u4 + ' update, XHR aborted. status is "' + e6.statusText + '" (' + e6.status + "), readyState is " + e6.readyState));
                    }, I3 = function(e6) {
                      V2(s4, new g.Z(d.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE, d.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE + u4 + ' update, XHR error. status is "' + e6.statusText + '" (' + e6.status + "), readyState is " + e6.readyState));
                    }, R3 = f2.getLicenseRequestFromMessage(v3), w3 = t5.getHTTPMethod(o3), N3 = t5.getResponseType(u4, o3), C3 = n4 && !isNaN(n4.httpTimeout) ? n4.httpTimeout : 8e3, D3 = r5.getSessionId() || null, O3 = new h(l4, w3, N3, c4, E3, o3, D3, R3), L3 = isNaN(M2.get().streaming.retryAttempts[m.w.LICENSE]) ? 3 : M2.get().streaming.retryAttempts[m.w.LICENSE];
                    Q2(P2.getLicenseRequestFilters(), O3).then(function() {
                      K2(O3, L3, C3, T3, S3, I3);
                    });
                  } else
                    V2(s4, new g.Z(d.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE, d.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE));
                }(t4, l3, u3);
              } else
                V2(c3, new g.Z(d.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE, d.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE));
            }
            function V2(e4, t4) {
              I2.trigger(R2.LICENSE_REQUEST_COMPLETE, { data: e4, error: t4 });
            }
            function K2(e4, t4, r4, i3, a3, o2) {
              var s3 = new XMLHttpRequest();
              if (M2.get().streaming.cmcd && M2.get().streaming.cmcd.enabled && M2.get().streaming.cmcd.mode === E.Z.CMCD_MODE_QUERY) {
                var u3 = O2.getQueryParameter({ url: e4.url, type: m.w.LICENSE });
                u3 && (e4.url = y.Z.addAditionalQueryParameterToUrl(e4.url, [u3]));
              }
              for (var l3 in s3.open(e4.method, e4.url, true), s3.responseType = e4.responseType, s3.withCredentials = e4.withCredentials, r4 > 0 && (s3.timeout = r4), e4.headers)
                s3.setRequestHeader(l3, e4.headers[l3]);
              if (M2.get().streaming.cmcd && M2.get().streaming.cmcd.enabled && M2.get().streaming.cmcd.mode === E.Z.CMCD_MODE_HEADER) {
                var c3 = O2.getHeaderParameters({ url: e4.url, type: m.w.LICENSE });
                if (c3)
                  for (var f3 in c3) {
                    var d2 = c3[f3];
                    d2 && s3.setRequestHeader(f3, d2);
                  }
              }
              var g2 = function() {
                t4--;
                var n4 = isNaN(M2.get().streaming.retryIntervals[m.w.LICENSE]) ? 1e3 : M2.get().streaming.retryIntervals[m.w.LICENSE];
                S2 = setTimeout(function() {
                  K2(e4, t4, r4, i3, a3, o2);
                }, n4);
              };
              s3.onload = function() {
                T2 = null, this.status >= 200 && this.status <= 299 || t4 <= 0 ? i3(this) : (n3.warn("License request failed (" + this.status + "). Retrying it... Pending retries: " + t4), g2());
              }, s3.ontimeout = s3.onerror = function() {
                T2 = null, t4 <= 0 ? o2(this) : (n3.warn("License request network request failed . Retrying it... Pending retries: " + t4), g2());
              }, s3.onabort = function() {
                a3(this);
              }, I2.trigger(R2.LICENSE_REQUEST_SENDING, { url: e4.url, headers: e4.headers, payload: e4.data, sessionId: e4.sessionId }), T2 = s3, s3.send(e4.data);
            }
            function z2() {
              T2 && (T2.onloadend = T2.onerror = T2.onprogress = void 0, T2.abort(), T2 = null), S2 && (clearTimeout(S2), S2 = null);
            }
            function W2(e4, t4) {
              if (t4)
                for (var n4 in t4)
                  e4[n4] = t4[n4];
            }
            function X2(e4, t4, n4, r4, i3) {
              var a3 = "NONE", o2 = null;
              e4.response && (a3 = i3.getErrorResponse(e4.response, n4, r4), o2 = { serverResponse: e4.response || null, responseCode: e4.status || null, responseText: e4.statusText || null }), V2(t4, new g.Z(d.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE, d.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE + n4 + ' update, XHR complete. status is "' + e4.statusText + '" (' + e4.status + "), readyState is " + e4.readyState + ".  Response is " + a3, o2));
            }
            function Q2(e4, t4) {
              return e4 ? e4.reduce(function(e5, n4) {
                return e5.then(function() {
                  return n4(t4);
                });
              }, Promise.resolve()) : Promise.resolve();
            }
            function J2(e4, t4) {
              if (!M2.get().streaming.protection.ignoreEmeEncryptedEvent) {
                if (n3.debug("DRM: onNeedKey"), "cenc" !== e4.key.initDataType)
                  return void n3.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: " + e4.key.initDataType);
                if (0 === i2.length && (n3.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"), (t4 = void 0 === t4 ? 1 : t4 + 1) < 5))
                  return void D2.push(setTimeout(function() {
                    J2(e4, t4);
                  }, 500));
                var o2 = e4.key.initData;
                if (ArrayBuffer.isView(o2) && (o2 = o2.buffer), f2) {
                  var s3 = a2.getPSSHForKeySystem(f2, o2);
                  if (s3 && G2(s3))
                    return;
                }
                n3.debug("DRM: initData:", String.fromCharCode.apply(null, new Uint8Array(o2)));
                var c3 = b2.getSupportedKeySystemsFromSegmentPssh(o2, u2, l2);
                if (0 === c3.length)
                  return void n3.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");
                !function(e5) {
                  r3.push(e5), F2(e5, false);
                }(c3);
              }
            }
            return t3 = { initializeForMedia: function(e4) {
              if (!e4)
                throw new Error("mediaInfo can not be null or undefined");
              L2(), i2.push(e4);
            }, clearMediaInfoArray: function() {
              i2 = [];
            }, handleKeySystemFromManifest: function() {
              if (i2 && 0 !== i2.length) {
                var e4 = [];
                i2.forEach(function(t4) {
                  var n4 = b2.getSupportedKeySystemsFromContentProtection(t4.contentProtection, u2, l2);
                  n4.length > 0 && (0 === e4.length && (e4 = n4), r3.push(n4));
                }), e4 && e4.length > 0 && F2(e4, true);
              }
            }, createKeySession: Z2, loadKeySession: U2, removeKeySession: function(e4) {
              L2(), A2.removeKeySession(e4);
            }, closeKeySession: function(e4) {
              L2(), A2.closeKeySession(e4);
            }, setServerCertificate: function(e4) {
              L2(), A2.setServerCertificate(e4);
            }, setMediaElement: q2, setSessionType: function(e4) {
              l2 = e4;
            }, setRobustnessLevel: function(e4) {
              c2 = e4;
            }, setProtectionData: function(e4) {
              u2 = e4, b2.setProtectionData(e4);
            }, getSupportedKeySystemsFromContentProtection: function(e4) {
              return L2(), b2.getSupportedKeySystemsFromContentProtection(e4, u2, l2);
            }, getKeySystems: function() {
              return b2 ? b2.getKeySystems() : [];
            }, setKeySystems: function(e4) {
              b2 && b2.setKeySystems(e4);
            }, stop: function() {
              z2(), A2 && A2.stop();
            }, reset: function() {
              I2.off(R2.INTERNAL_KEY_MESSAGE, H2, t3), I2.off(R2.INTERNAL_KEY_STATUS_CHANGED, j2, t3), L2(), z2(), q2(null), f2 = null, v2 = false, A2 && (A2.reset(), A2 = null), D2.forEach(function(e4) {
                return clearTimeout(e4);
              }), D2 = [], i2 = [], r3 = [];
            } }, n3 = w2.getLogger(t3), r3 = [], i2 = [], l2 = "temporary", c2 = "", T2 = null, S2 = null, I2.on(R2.INTERNAL_KEY_MESSAGE, H2, t3), I2.on(R2.INTERNAL_KEY_STATUS_CHANGED, j2, t3), t3;
          }
          T.__dashjs_factory_name = "ProtectionController";
          var S = v.Z.getClassFactory(T), b = function e3(t3, n3) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.keyID = t3, this.key = n3;
          };
          function A(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var I = function() {
            function e3(t4, n4) {
              if (function(e4, t5) {
                if (!(e4 instanceof t5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), n4 && "persistent" !== n4 && "temporary" !== n4)
                throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");
              this.keyPairs = t4, this.type = n4;
            }
            var t3, n3;
            return t3 = e3, (n3 = [{ key: "toJWK", value: function() {
              var e4, t4 = this.keyPairs.length, n4 = { keys: [] };
              for (e4 = 0; e4 < t4; e4++) {
                var r3 = { kty: "oct", alg: "A128KW", kid: this.keyPairs[e4].keyID, k: this.keyPairs[e4].key };
                n4.keys.push(r3);
              }
              this.type && (n4.type = this.type);
              var i2 = JSON.stringify(n4), a3 = i2.length, o2 = new ArrayBuffer(a3), s3 = new Uint8Array(o2);
              for (e4 = 0; e4 < a3; e4++)
                s3[e4] = i2.charCodeAt(e4);
              return o2;
            } }]) && A(t3.prototype, n3), e3;
          }();
          function R(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var w = new (function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.init();
            }
            var t3, n3;
            return t3 = e3, (n3 = [{ key: "init", value: function() {
              this.CLEARKEY_KEYSTEM_STRING = "org.w3.clearkey", this.WIDEVINE_KEYSTEM_STRING = "com.widevine.alpha", this.PLAYREADY_KEYSTEM_STRING = "com.microsoft.playready", this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING = "com.microsoft.playready.recommendation", this.INITIALIZATION_DATA_TYPE_CENC = "cenc", this.INITIALIZATION_DATA_TYPE_KEYIDS = "keyids", this.INITIALIZATION_DATA_TYPE_WEBM = "webm";
            } }]) && R(t3.prototype, n3), e3;
          }())(), N = "e2719d58-a985-b3c9-781a-b030af78d30e", C = w.CLEARKEY_KEYSTEM_STRING, D = "urn:uuid:" + N;
          function O(e3) {
            var t3 = (e3 = e3 || {}).BASE64;
            return { uuid: N, schemeIdURI: D, systemString: C, getInitData: function(e4, n3) {
              try {
                var r3 = a2.parseInitDataFromContentProtection(e4, t3);
                if (!r3 && n3) {
                  var i2 = { kids: [function(e5) {
                    try {
                      var t4 = e5.replace(/-/g, "");
                      return (t4 = btoa(t4.match(/\w{2}/g).map(function(e6) {
                        return String.fromCharCode(parseInt(e6, 16));
                      }).join(""))).replace(/=/g, "").replace(/\//g, "_").replace(/\+/g, "-");
                    } catch (e6) {
                      return null;
                    }
                  }(n3["cenc:default_KID"])] };
                  r3 = new TextEncoder().encode(JSON.stringify(i2));
                }
                return r3;
              } catch (e5) {
                return null;
              }
            }, getRequestHeadersFromMessage: function() {
              return { "Content-Type": "application/json" };
            }, getLicenseRequestFromMessage: function(e4) {
              return JSON.stringify(JSON.parse(String.fromCharCode.apply(null, new Uint8Array(e4))));
            }, getLicenseServerURLFromInitData: function() {
              return null;
            }, getCDMData: function() {
              return null;
            }, getClearKeysFromProtectionData: function(e4, t4) {
              var n3 = null;
              if (e4) {
                for (var r3 = JSON.parse(String.fromCharCode.apply(null, new Uint8Array(t4))), i2 = [], a3 = 0; a3 < r3.kids.length; a3++) {
                  var o2 = r3.kids[a3], s3 = e4.clearkeys && e4.clearkeys.hasOwnProperty(o2) ? e4.clearkeys[o2] : null;
                  if (!s3)
                    throw new Error("DRM: ClearKey keyID (" + o2 + ") is not known!");
                  i2.push(new b(o2, s3));
                }
                n3 = new I(i2);
              }
              return n3;
            } };
          }
          O.__dashjs_factory_name = "KeySystemClearKey";
          var M = dashjs.FactoryMaker.getSingletonFactory(O), P = "1077efec-c0b2-4d02-ace3-3c1e52e2fb4b", L = w.CLEARKEY_KEYSTEM_STRING, F = "urn:uuid:" + P;
          function x(e3) {
            var t3, n3 = e3.BASE64, r3 = e3.debug.getLogger(t3);
            return { uuid: P, schemeIdURI: F, systemString: L, getInitData: function(e4) {
              return a2.parseInitDataFromContentProtection(e4, n3);
            }, getRequestHeadersFromMessage: function() {
              return null;
            }, getLicenseRequestFromMessage: function(e4) {
              return new Uint8Array(e4);
            }, getLicenseServerURLFromInitData: function() {
              return null;
            }, getCDMData: function() {
              return null;
            }, getClearKeysFromProtectionData: function(e4, t4) {
              var n4 = null;
              if (e4) {
                for (var i2 = JSON.parse(String.fromCharCode.apply(null, new Uint8Array(t4))), a3 = [], o2 = 0; o2 < i2.kids.length; o2++) {
                  var s3 = i2.kids[o2], u2 = e4.clearkeys && e4.clearkeys.hasOwnProperty(s3) ? e4.clearkeys[s3] : null;
                  if (!u2)
                    throw new Error("DRM: ClearKey keyID (" + s3 + ") is not known!");
                  a3.push(new b(s3, u2));
                }
                n4 = new I(a3), r3.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4");
              }
              return n4;
            } };
          }
          x.__dashjs_factory_name = "KeySystemW3CClearKey";
          var k = dashjs.FactoryMaker.getSingletonFactory(x), U = "edef8ba9-79d6-4ace-a3c8-27dcd51d21ed", Z = w.WIDEVINE_KEYSTEM_STRING, B = "urn:uuid:" + U;
          function G(e3) {
            var t3 = (e3 = e3 || {}).BASE64;
            return { uuid: U, schemeIdURI: B, systemString: Z, getInitData: function(e4) {
              return a2.parseInitDataFromContentProtection(e4, t3);
            }, getRequestHeadersFromMessage: function() {
              return null;
            }, getLicenseRequestFromMessage: function(e4) {
              return new Uint8Array(e4);
            }, getLicenseServerURLFromInitData: function() {
              return null;
            }, getCDMData: function() {
              return null;
            } };
          }
          G.__dashjs_factory_name = "KeySystemWidevine";
          var q = dashjs.FactoryMaker.getSingletonFactory(G), Y = "9a04f079-9840-4286-ab92-e65be0885f95", j = w.PLAYREADY_KEYSTEM_STRING, H = "urn:uuid:" + Y;
          function V(e3) {
            var t3 = "utf-16", n3 = (e3 = e3 || {}).BASE64, r3 = e3.settings;
            function i2() {
              if (!n3 || !n3.hasOwnProperty("decodeArray") || !n3.hasOwnProperty("decodeArray"))
                throw new Error("Missing config parameter(s)");
            }
            return { uuid: Y, schemeIdURI: H, systemString: j, getInitData: function(e4) {
              var t4, r4, o2, s3, u2, l2 = new Uint8Array([112, 115, 115, 104, 0, 0, 0, 0]), c2 = new Uint8Array([154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224, 136, 95, 149]), f2 = 0, d2 = null;
              if (i2(), !e4)
                return null;
              if ("pssh" in e4)
                return a2.parseInitDataFromContentProtection(e4, n3);
              if ("pro" in e4)
                d2 = n3.decodeArray(e4.pro.__text);
              else {
                if (!("prheader" in e4))
                  return null;
                d2 = n3.decodeArray(e4.prheader.__text);
              }
              return t4 = d2.length, r4 = 4 + l2.length + c2.length + 4 + t4, o2 = new ArrayBuffer(r4), s3 = new Uint8Array(o2), (u2 = new DataView(o2)).setUint32(f2, r4), f2 += 4, s3.set(l2, f2), f2 += l2.length, s3.set(c2, f2), f2 += c2.length, u2.setUint32(f2, t4), f2 += 4, s3.set(d2, f2), f2 += t4, s3.buffer;
            }, getRequestHeadersFromMessage: function(e4) {
              var n4, i3, a3 = {}, o2 = new DOMParser();
              if (r3 && r3.get().streaming.protection.detectPlayreadyMessageFormat && "utf-16" === t3 && e4 && e4.byteLength % 2 == 1)
                return a3["Content-Type"] = "text/xml; charset=utf-8", a3;
              var s3 = "utf-16" === t3 ? new Uint16Array(e4) : new Uint8Array(e4);
              n4 = String.fromCharCode.apply(null, s3);
              for (var u2 = (i3 = o2.parseFromString(n4, "application/xml")).getElementsByTagName("name"), l2 = i3.getElementsByTagName("value"), c2 = 0; c2 < u2.length; c2++)
                a3[u2[c2].childNodes[0].nodeValue] = l2[c2].childNodes[0].nodeValue;
              return a3.hasOwnProperty("Content") && (a3["Content-Type"] = a3.Content, delete a3.Content), a3.hasOwnProperty("Content-Type") || (a3["Content-Type"] = "text/xml; charset=utf-8"), a3;
            }, getLicenseRequestFromMessage: function(e4) {
              var a3 = null, o2 = new DOMParser();
              if (r3 && r3.get().streaming.protection.detectPlayreadyMessageFormat && "utf-16" === t3 && e4 && e4.byteLength % 2 == 1)
                return e4;
              var s3 = "utf-16" === t3 ? new Uint16Array(e4) : new Uint8Array(e4);
              i2();
              var u2 = String.fromCharCode.apply(null, s3), l2 = o2.parseFromString(u2, "application/xml");
              if (!l2.getElementsByTagName("PlayReadyKeyMessage")[0])
                return e4;
              var c2 = l2.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;
              return c2 && (a3 = n3.decode(c2)), a3;
            }, getLicenseServerURLFromInitData: function(e4) {
              if (e4)
                for (var t4 = new DataView(e4), n4 = t4.getUint16(4, true), r4 = 6, i3 = new DOMParser(), a3 = 0; a3 < n4; a3++) {
                  var o2 = t4.getUint16(r4, true);
                  r4 += 2;
                  var s3 = t4.getUint16(r4, true);
                  if (r4 += 2, 1 === o2) {
                    var u2 = e4.slice(r4, r4 + s3), l2 = String.fromCharCode.apply(null, new Uint16Array(u2)), c2 = i3.parseFromString(l2, "application/xml");
                    if (c2.getElementsByTagName("LA_URL")[0]) {
                      var f2 = c2.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;
                      if (f2)
                        return f2;
                    }
                    if (c2.getElementsByTagName("LUI_URL")[0]) {
                      var d2 = c2.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;
                      if (d2)
                        return d2;
                    }
                  } else
                    r4 += s3;
                }
              return null;
            }, getCDMData: function(e4) {
              var t4, r4, a3, o2;
              if (i2(), !e4)
                return null;
              for (t4 = [], o2 = 0; o2 < e4.length; ++o2)
                t4.push(e4.charCodeAt(o2)), t4.push(0);
              for (t4 = String.fromCharCode.apply(null, t4), t4 = n3.encode(t4), r4 = '<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%", t4), a3 = [], o2 = 0; o2 < r4.length; ++o2)
                a3.push(r4.charCodeAt(o2)), a3.push(0);
              return new Uint8Array(a3).buffer;
            }, setPlayReadyMessageFormat: function(e4) {
              if ("utf-8" !== e4 && "utf-16" !== e4)
                throw new Error('Specified message format is not one of "utf-8" or "utf-16"');
              t3 = e4;
            } };
          }
          V.__dashjs_factory_name = "KeySystemPlayReady";
          var K = dashjs.FactoryMaker.getSingletonFactory(V);
          function z(e3) {
            var t3 = (e3 = e3 || {}).BASE64, n3 = {};
            return n3[w.WIDEVINE_KEYSTEM_STRING] = { responseType: "json", getLicenseMessage: function(e4) {
              return t3.decodeArray(e4.license);
            }, getErrorResponse: function(e4) {
              return e4;
            } }, n3[w.PLAYREADY_KEYSTEM_STRING] = { responseType: "arraybuffer", getLicenseMessage: function(e4) {
              return e4;
            }, getErrorResponse: function(e4) {
              return String.fromCharCode.apply(null, new Uint8Array(e4));
            } }, { getServerURLFromMessage: function(e4) {
              return e4;
            }, getHTTPMethod: function() {
              return "POST";
            }, getResponseType: function(e4) {
              return n3[e4].responseType;
            }, getLicenseMessage: function(e4, r3) {
              return function() {
                if (!t3 || !t3.hasOwnProperty("decodeArray"))
                  throw new Error("Missing config parameter(s)");
              }(), n3[r3].getLicenseMessage(e4);
            }, getErrorResponse: function(e4, t4) {
              return n3[t4].getErrorResponse(e4);
            } };
          }
          z.__dashjs_factory_name = "DRMToday";
          var W = dashjs.FactoryMaker.getSingletonFactory(z);
          function X() {
            var e3 = "http://schemas.xmlsoap.org/soap/envelope/";
            function t3(e4) {
              var t4 = String.fromCharCode.apply(null, new Uint8Array(e4));
              return decodeURIComponent(escape(t4));
            }
            function n3(n4) {
              if (window.DOMParser) {
                var r4 = t3(n4), i2 = new window.DOMParser().parseFromString(r4, "text/xml"), a3 = i2 ? i2.getElementsByTagNameNS(e3, "Envelope")[0] : null, o2 = a3 ? a3.getElementsByTagNameNS(e3, "Body")[0] : null;
                if (o2 && o2.getElementsByTagNameNS(e3, "Fault")[0])
                  return null;
              }
              return n4;
            }
            function r3(n4) {
              var r4 = "", i2 = "", a3 = "", o2 = -1, s3 = -1;
              if (window.DOMParser) {
                var u2 = t3(n4), l2 = new window.DOMParser().parseFromString(u2, "text/xml"), c2 = l2 ? l2.getElementsByTagNameNS(e3, "Envelope")[0] : null, f2 = c2 ? c2.getElementsByTagNameNS(e3, "Body")[0] : null, d2 = f2 ? f2.getElementsByTagNameNS(e3, "Fault")[0] : null, g2 = d2 ? d2.getElementsByTagName("detail")[0] : null, h2 = g2 ? g2.getElementsByTagName("Exception")[0] : null, p2 = null;
                if (null === d2)
                  return u2;
                r4 = (p2 = d2.getElementsByTagName("faultstring")[0].firstChild) ? p2.nodeValue : null, null !== h2 && (i2 = (p2 = h2.getElementsByTagName("StatusCode")[0]) ? p2.firstChild.nodeValue : null, o2 = (a3 = (p2 = h2.getElementsByTagName("Message")[0]) ? p2.firstChild.nodeValue : null) ? a3.lastIndexOf("[") + 1 : -1, s3 = a3 ? a3.indexOf("]") : -1, a3 = a3 ? a3.substring(o2, s3) : "");
              }
              var m2 = "code: ".concat(i2, ", name: ").concat(r4);
              return a3 && (m2 += ", message: ".concat(a3)), m2;
            }
            return { getServerURLFromMessage: function(e4) {
              return e4;
            }, getHTTPMethod: function() {
              return "POST";
            }, getResponseType: function() {
              return "arraybuffer";
            }, getLicenseMessage: function(e4) {
              return n3.call(this, e4);
            }, getErrorResponse: function(e4) {
              return r3.call(this, e4);
            } };
          }
          X.__dashjs_factory_name = "PlayReady";
          var Q = v.Z.getSingletonFactory(X);
          function J() {
            return { getServerURLFromMessage: function(e3) {
              return e3;
            }, getHTTPMethod: function() {
              return "POST";
            }, getResponseType: function() {
              return "arraybuffer";
            }, getLicenseMessage: function(e3) {
              return e3;
            }, getErrorResponse: function(e3) {
              return String.fromCharCode.apply(null, new Uint8Array(e3));
            } };
          }
          J.__dashjs_factory_name = "Widevine";
          var $ = dashjs.FactoryMaker.getSingletonFactory(J);
          function ee() {
            return { getServerURLFromMessage: function(e3) {
              return e3;
            }, getHTTPMethod: function() {
              return "POST";
            }, getResponseType: function() {
              return "json";
            }, getLicenseMessage: function(e3) {
              if (!e3.hasOwnProperty("keys"))
                return null;
              for (var t3 = [], n3 = 0; n3 < e3.keys.length; n3++) {
                var r3 = e3.keys[n3], i2 = r3.kid.replace(/=/g, ""), a3 = r3.k.replace(/=/g, "");
                t3.push(new b(i2, a3));
              }
              return new I(t3);
            }, getErrorResponse: function(e3) {
              return String.fromCharCode.apply(null, new Uint8Array(e3));
            } };
          }
          ee.__dashjs_factory_name = "ClearKey";
          var te = dashjs.FactoryMaker.getSingletonFactory(ee);
          function ne() {
            var e3, t3, n3, r3, i2, o2, s3, u2, l2 = this.context;
            function c2(e4, t4) {
              return t4 && e4 in t4 ? t4[e4] : null;
            }
            function f2(e4, t4) {
              return e4 && e4.sessionId ? e4.sessionId : t4 && t4.sessionId ? t4.sessionId : null;
            }
            function d2(e4, t4) {
              return e4 && e4.sessionType ? e4.sessionType : t4;
            }
            return e3 = { initialize: function() {
              var e4;
              r3 = [], e4 = K(l2).getInstance({ BASE64: i2, settings: o2 }), r3.push(e4), e4 = q(l2).getInstance({ BASE64: i2 }), r3.push(e4), e4 = M(l2).getInstance({ BASE64: i2 }), r3.push(e4), s3 = e4, e4 = k(l2).getInstance({ BASE64: i2, debug: t3 }), r3.push(e4), u2 = e4;
            }, setProtectionData: function(e4) {
              for (var t4, n4, i3 = 0; i3 < r3.length; i3++) {
                var a3 = r3[i3];
                a3.hasOwnProperty("init") && a3.init((t4 = a3.systemString, n4 = void 0, n4 = null, e4 && (n4 = t4 in e4 ? e4[t4] : null), n4));
              }
            }, isClearKey: function(e4) {
              return e4 === s3 || e4 === u2;
            }, initDataEquals: function(e4, t4) {
              if (e4.byteLength === t4.byteLength) {
                for (var n4 = new Uint8Array(e4), r4 = new Uint8Array(t4), i3 = 0; i3 < n4.length; i3++)
                  if (n4[i3] !== r4[i3])
                    return false;
                return true;
              }
              return false;
            }, getKeySystems: function() {
              return r3;
            }, setKeySystems: function(e4) {
              r3 = e4;
            }, getKeySystemBySystemString: function(e4) {
              for (var t4 = 0; t4 < r3.length; t4++)
                if (r3[t4].systemString === e4)
                  return r3[t4];
              return null;
            }, getSupportedKeySystemsFromContentProtection: function(e4, t4, n4) {
              var i3, o3, s4, u3, l3 = [];
              if (e4) {
                var g2 = a2.findCencContentProtection(e4);
                for (s4 = 0; s4 < r3.length; ++s4) {
                  var h2 = c2((o3 = r3[s4]).systemString, t4);
                  for (u3 = 0; u3 < e4.length; ++u3)
                    if ((i3 = e4[u3]).schemeIdUri.toLowerCase() === o3.schemeIdURI) {
                      var p2 = o3.getInitData(i3, g2);
                      l3.push({ ks: r3[s4], keyId: i3.keyId, initData: p2, protData: h2, cdmData: o3.getCDMData(h2 ? h2.cdmData : null), sessionId: f2(h2, i3), sessionType: d2(h2, n4) });
                    }
                }
              }
              return l3;
            }, getSupportedKeySystemsFromSegmentPssh: function(e4, t4, n4) {
              for (var i3, o3 = [], s4 = a2.parsePSSHList(e4), u3 = 0; u3 < r3.length; ++u3) {
                var l3 = c2((i3 = r3[u3]).systemString, t4);
                i3.uuid in s4 && o3.push({ ks: i3, initData: s4[i3.uuid], protData: l3, cdmData: i3.getCDMData(l3 ? l3.cdmData : null), sessionId: f2(l3), sessionType: d2(l3, n4) });
              }
              return o3;
            }, getLicenseServerModelInstance: function(e4, t4, n4) {
              if ("license-release" === n4 || "individualization-request" === n4)
                return null;
              var r4 = null;
              return t4 && t4.hasOwnProperty("drmtoday") ? r4 = W(l2).getInstance({ BASE64: i2 }) : e4.systemString === w.WIDEVINE_KEYSTEM_STRING ? r4 = $(l2).getInstance() : e4.systemString === w.PLAYREADY_KEYSTEM_STRING ? r4 = Q(l2).getInstance() : e4.systemString === w.CLEARKEY_KEYSTEM_STRING && (r4 = te(l2).getInstance()), r4;
            }, processClearKeyLicenseRequest: function(e4, t4, r4) {
              try {
                return e4.getClearKeysFromProtectionData(t4, r4);
              } catch (e5) {
                return n3.error("Failed to retrieve clearkeys from ProtectionData"), null;
              }
            }, setConfig: function(r4) {
              r4 && (r4.debug && (t3 = r4.debug, n3 = t3.getLogger(e3)), r4.BASE64 && (i2 = r4.BASE64), r4.settings && (o2 = r4.settings));
            } }, e3;
          }
          ne.__dashjs_factory_name = "ProtectionKeyController";
          var re = dashjs.FactoryMaker.getSingletonFactory(ne);
          function ie(e3) {
            return ie = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, ie(e3);
          }
          function ae(e3, t3) {
            return ae = Object.setPrototypeOf || function(e4, t4) {
              return e4.__proto__ = t4, e4;
            }, ae(e3, t3);
          }
          function oe(e3, t3) {
            return !t3 || "object" !== ie(t3) && "function" != typeof t3 ? function(e4) {
              if (void 0 === e4)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return e4;
            }(e3) : t3;
          }
          function se(e3) {
            return se = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
              return e4.__proto__ || Object.getPrototypeOf(e4);
            }, se(e3);
          }
          var ue = new (function(e3) {
            !function(e4, t4) {
              if ("function" != typeof t4 && null !== t4)
                throw new TypeError("Super expression must either be null or a function");
              e4.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e4, writable: true, configurable: true } }), t4 && ae(e4, t4);
            }(i2, e3);
            var t3, n3, r3 = (t3 = i2, n3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e4) {
                return false;
              }
            }(), function() {
              var e4, r4 = se(t3);
              if (n3) {
                var i3 = se(this).constructor;
                e4 = Reflect.construct(r4, arguments, i3);
              } else
                e4 = r4.apply(this, arguments);
              return oe(this, e4);
            });
            function i2() {
              var e4;
              return function(e5, t4) {
                if (!(e5 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, i2), (e4 = r3.call(this)).INTERNAL_KEY_MESSAGE = "internalKeyMessage", e4.INTERNAL_KEY_STATUS_CHANGED = "internalkeyStatusChanged", e4.KEY_ADDED = "public_keyAdded", e4.KEY_ERROR = "public_keyError", e4.KEY_MESSAGE = "public_keyMessage", e4.KEY_SESSION_CLOSED = "public_keySessionClosed", e4.KEY_SESSION_CREATED = "public_keySessionCreated", e4.KEY_SESSION_REMOVED = "public_keySessionRemoved", e4.KEY_STATUSES_CHANGED = "public_keyStatusesChanged", e4.KEY_SYSTEM_ACCESS_COMPLETE = "public_keySystemAccessComplete", e4.KEY_SYSTEM_SELECTED = "public_keySystemSelected", e4.LICENSE_REQUEST_COMPLETE = "public_licenseRequestComplete", e4.LICENSE_REQUEST_SENDING = "public_licenseRequestSending", e4.NEED_KEY = "needkey", e4.PROTECTION_CREATED = "public_protectioncreated", e4.PROTECTION_DESTROYED = "public_protectiondestroyed", e4.SERVER_CERTIFICATE_UPDATED = "serverCertificateUpdated", e4.TEARDOWN_COMPLETE = "protectionTeardownComplete", e4.VIDEO_ELEMENT_SELECTED = "videoElementSelected", e4.KEY_SESSION_UPDATED = "public_keySessionUpdated", e4;
            }
            return i2;
          }(n2(8342).Z))(), le = function e3(t3, n3) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.initData = t3, this.initDataType = n3;
          }, ce = function e3(t3, n3, r3, i2) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.sessionToken = t3, this.message = n3, this.defaultURL = r3, this.messageType = i2 || "license-request";
          }, fe = function e3(t3, n3) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.keySystem = t3, this.ksConfiguration = n3;
          }, de = {};
          function ge(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, a3, o2, s3, u2, l2 = this.context, c2 = e3.eventBus, f2 = e3.events, h2 = e3.debug;
            function p2(e4, t4, n4, r4) {
              if (void 0 === navigator.requestMediaKeySystemAccess || "function" != typeof navigator.requestMediaKeySystemAccess) {
                var i3 = "Insecure origins are not allowed";
                return c2.trigger(f2.KEY_SYSTEM_ACCESS_COMPLETE, { error: i3 }), void r4({ error: i3 });
              }
              var a4 = e4[t4].protData && e4[t4].protData.systemStringPriority ? e4[t4].protData.systemStringPriority : null, o3 = e4[t4].configs, s4 = e4[t4].ks, u3 = s4.systemString;
              (function(e5, t5) {
                return new Promise(function(n5, r5) {
                  m2(e5, t5, 0, n5, r5);
                });
              })(a4 || (de[u3] ? de[u3] : [u3]), o3).then(function(e5) {
                var t5 = "function" == typeof e5.getConfiguration ? e5.getConfiguration() : null, r5 = new fe(s4, t5);
                r5.mksa = e5, c2.trigger(f2.KEY_SYSTEM_ACCESS_COMPLETE, { data: r5 }), n4({ data: r5 });
              }).catch(function(i4) {
                if (t4 + 1 < e4.length)
                  p2(e4, t4 + 1, n4, r4);
                else {
                  var a5 = "Key system access denied! ";
                  c2.trigger(f2.KEY_SYSTEM_ACCESS_COMPLETE, { error: a5 + i4.message }), r4({ error: a5 + i4.message });
                }
              });
            }
            function m2(e4, t4, r4, i3, a4) {
              var o3 = e4[r4];
              n3.debug("Requesting key system access for system string ".concat(o3)), navigator.requestMediaKeySystemAccess(o3, t4).then(function(e5) {
                e5.selectedSystemString = o3, i3(e5);
              }).catch(function(n4) {
                r4 + 1 < e4.length ? m2(e4, t4, r4 + 1, i3, a4) : a4(n4);
              });
            }
            function y2(e4) {
              if (!e4 || !e4.session)
                return Promise.resolve;
              var t4 = e4.session;
              return t4.removeEventListener("keystatuseschange", e4), t4.removeEventListener("message", e4), t4.close();
            }
            function E2(e4) {
              for (var t4 = 0; t4 < o2.length; t4++)
                if (o2[t4] === e4) {
                  o2.splice(t4, 1);
                  break;
                }
            }
            function v2(e4) {
              var t4, n4;
              return e4 && e4.length > 0 && (e4[0] && ("string" == typeof e4[0] ? t4 = e4[0] : n4 = e4[0]), e4[1] && ("string" == typeof e4[1] ? t4 = e4[1] : n4 = e4[1])), { status: t4, keyId: n4 };
            }
            function _2(e4, t4) {
              var r4 = { session: e4, keyId: t4.keyId, initData: t4.initData, sessionId: t4.sessionId, sessionType: t4.sessionType, handleEvent: function(e5) {
                switch (e5.type) {
                  case "keystatuseschange":
                    c2.trigger(f2.KEY_STATUSES_CHANGED, { data: this }), e5.target.keyStatuses.forEach(function() {
                      var e6 = v2(arguments);
                      "expired" === e6.status ? c2.trigger(f2.INTERNAL_KEY_STATUS_CHANGED, { error: new g.Z(d.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE, d.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE) }) : c2.trigger(f2.INTERNAL_KEY_STATUS_CHANGED, e6);
                    });
                    break;
                  case "message":
                    var t5 = ArrayBuffer.isView(e5.message) ? e5.message.buffer : e5.message;
                    c2.trigger(f2.INTERNAL_KEY_MESSAGE, { data: new ce(this, t5, void 0, e5.messageType) });
                }
              }, getKeyId: function() {
                return this.keyId;
              }, getSessionId: function() {
                return e4.sessionId;
              }, getSessionType: function() {
                return this.sessionType;
              }, getExpirationTime: function() {
                return e4.expiration;
              }, getKeyStatuses: function() {
                return e4.keyStatuses;
              }, getUsable: function() {
                var t5 = false;
                return e4.keyStatuses.forEach(function() {
                  var e5 = v2(arguments);
                  "usable" === e5.status && (t5 = true);
                }), t5;
              } };
              return e4.addEventListener("keystatuseschange", r4), e4.addEventListener("message", r4), e4.closed.then(function() {
                E2(r4), n3.debug("DRM: Session closed.  SessionID = " + r4.getSessionId()), c2.trigger(f2.KEY_SESSION_CLOSED, { data: r4.getSessionId() });
              }), o2.push(r4), r4;
            }
            return t3 = { getAllInitData: function() {
              for (var e4 = [], t4 = 0; t4 < o2.length; t4++)
                o2[t4].initData && e4.push(o2[t4].initData);
              return e4;
            }, getSessions: function() {
              return o2;
            }, requestKeySystemAccess: function(e4) {
              return new Promise(function(t4, n4) {
                p2(e4, 0, t4, n4);
              });
            }, selectKeySystem: function(e4) {
              return new Promise(function(t4, n4) {
                e4.mksa.createMediaKeys().then(function(t5) {
                  return r3 = e4.keySystem, a3 = t5, i2 ? i2.setMediaKeys(a3) : Promise.resolve();
                }).then(function() {
                  t4(r3);
                }).catch(function() {
                  n4({ error: "Error selecting keys system (" + e4.keySystem.systemString + ")! Could not create MediaKeys -- TODO" });
                });
              });
            }, setMediaElement: function(e4) {
              i2 !== e4 && (i2 && (i2.removeEventListener("encrypted", s3), i2.setMediaKeys && i2.setMediaKeys(null)), (i2 = e4) && (i2.addEventListener("encrypted", s3), i2.setMediaKeys && a3 && i2.setMediaKeys(a3)));
            }, setServerCertificate: function(e4) {
              if (!r3 || !a3)
                throw new Error("Can not set server certificate until you have selected a key system");
              a3.setServerCertificate(e4).then(function() {
                n3.info("DRM: License server certificate successfully updated."), c2.trigger(f2.SERVER_CERTIFICATE_UPDATED);
              }).catch(function(e5) {
                c2.trigger(f2.SERVER_CERTIFICATE_UPDATED, { error: new g.Z(d.SERVER_CERTIFICATE_UPDATED_ERROR_CODE, d.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE + e5.name) });
              });
            }, createKeySession: function(e4) {
              if (!r3 || !a3)
                throw new Error("Can not create sessions until you have selected a key system");
              var t4 = a3.createSession(e4.sessionType), i3 = _2(t4, e4), o3 = r3.systemString === w.CLEARKEY_KEYSTEM_STRING && (e4.initData || e4.protData && e4.protData.clearkeys) ? w.INITIALIZATION_DATA_TYPE_KEYIDS : w.INITIALIZATION_DATA_TYPE_CENC;
              t4.generateRequest(o3, e4.initData).then(function() {
                n3.debug("DRM: Session created.  SessionID = " + i3.getSessionId()), c2.trigger(f2.KEY_SESSION_CREATED, { data: i3 });
              }).catch(function(e5) {
                E2(i3), c2.trigger(f2.KEY_SESSION_CREATED, { data: null, error: new g.Z(d.KEY_SESSION_CREATED_ERROR_CODE, d.KEY_SESSION_CREATED_ERROR_MESSAGE + "Error generating key request -- " + e5.name) });
              });
            }, updateKeySession: function(e4, t4) {
              var n4 = e4.session;
              u2.isClearKey(r3) && (t4 = t4.toJWK()), n4.update(t4).then(function() {
                c2.trigger(f2.KEY_SESSION_UPDATED);
              }).catch(function(t5) {
                c2.trigger(f2.KEY_ERROR, { error: new g.Z(d.MEDIA_KEYERR_CODE, "Error sending update() message! " + t5.name, e4) });
              });
            }, loadKeySession: function(e4) {
              if (!r3 || !a3)
                throw new Error("Can not load sessions until you have selected a key system");
              for (var t4 = e4.sessionId, i3 = 0; i3 < o2.length; i3++)
                if (t4 === o2[i3].sessionId)
                  return void n3.warn("DRM: Ignoring session ID because we have already seen it!");
              var s4 = a3.createSession(e4.sessionType), u3 = _2(s4, e4);
              s4.load(t4).then(function(e5) {
                e5 ? (n3.debug("DRM: Session loaded.  SessionID = " + u3.getSessionId()), c2.trigger(f2.KEY_SESSION_CREATED, { data: u3 })) : (E2(u3), c2.trigger(f2.KEY_SESSION_CREATED, { data: null, error: new g.Z(d.KEY_SESSION_CREATED_ERROR_CODE, d.KEY_SESSION_CREATED_ERROR_MESSAGE + "Could not load session! Invalid Session ID (" + t4 + ")") }));
              }).catch(function(e5) {
                E2(u3), c2.trigger(f2.KEY_SESSION_CREATED, { data: null, error: new g.Z(d.KEY_SESSION_CREATED_ERROR_CODE, d.KEY_SESSION_CREATED_ERROR_MESSAGE + "Could not load session (" + t4 + ")! " + e5.name) });
              });
            }, removeKeySession: function(e4) {
              e4.session.remove().then(function() {
                n3.debug("DRM: Session removed.  SessionID = " + e4.getSessionId()), c2.trigger(f2.KEY_SESSION_REMOVED, { data: e4.getSessionId() });
              }, function(t4) {
                c2.trigger(f2.KEY_SESSION_REMOVED, { data: null, error: "Error removing session (" + e4.getSessionId() + "). " + t4.name });
              });
            }, closeKeySession: function(e4) {
              y2(e4).catch(function(t4) {
                E2(e4), c2.trigger(f2.KEY_SESSION_CLOSED, { data: null, error: "Error closing session (" + e4.getSessionId() + ") " + t4.name });
              });
            }, stop: function() {
              for (var e4, t4 = 0; t4 < o2.length; t4++)
                (e4 = o2[t4]).getUsable() || (y2(e4), E2(e4));
            }, reset: function() {
              var e4, t4 = o2.length;
              0 !== t4 ? function() {
                for (var n4 = function(e5) {
                  E2(e5), 0 === o2.length && (i2 ? (i2.removeEventListener("encrypted", s3), i2.setMediaKeys(null).then(function() {
                    c2.trigger(f2.TEARDOWN_COMPLETE);
                  })) : c2.trigger(f2.TEARDOWN_COMPLETE));
                }, r4 = 0; r4 < t4; r4++)
                  !function(t5) {
                    y2(e4), n4(t5);
                  }(e4 = o2[r4]);
              }() : c2.trigger(f2.TEARDOWN_COMPLETE);
            } }, n3 = h2.getLogger(t3), r3 = null, i2 = null, a3 = null, o2 = [], u2 = re(l2).getInstance(), s3 = { handleEvent: function(e4) {
              if ("encrypted" === e4.type && e4.initData) {
                var t4 = ArrayBuffer.isView(e4.initData) ? e4.initData.buffer : e4.initData;
                c2.trigger(f2.NEED_KEY, { key: new le(t4, e4.initDataType) });
              }
            } }, t3;
          }
          de[w.PLAYREADY_KEYSTEM_STRING] = [w.PLAYREADY_KEYSTEM_STRING, w.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING], de[w.WIDEVINE_KEYSTEM_STRING] = [w.WIDEVINE_KEYSTEM_STRING], de[w.CLEARKEY_KEYSTEM_STRING] = [w.CLEARKEY_KEYSTEM_STRING], ge.__dashjs_factory_name = "ProtectionModel_21Jan2015";
          var he = dashjs.FactoryMaker.getClassFactory(ge);
          function pe(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, a3, o2, u2, l2, c2, f2 = this.context, h2 = e3.eventBus, p2 = e3.events, m2 = e3.debug, y2 = e3.api;
            function E2() {
              try {
                for (var e4 = 0; e4 < u2.length; e4++)
                  v2(u2[e4]);
                r3 && r3.removeEventListener(y2.needkey, l2), h2.trigger(p2.TEARDOWN_COMPLETE);
              } catch (e5) {
                h2.trigger(p2.TEARDOWN_COMPLETE, { error: "Error tearing down key sessions and MediaKeys! -- " + e5.message });
              }
            }
            function v2(e4) {
              var t4 = e4.session;
              t4.removeEventListener(y2.error, e4), t4.removeEventListener(y2.message, e4), t4.removeEventListener(y2.ready, e4), t4.removeEventListener(y2.close, e4);
              for (var n4 = 0; n4 < u2.length; n4++)
                if (u2[n4] === e4) {
                  u2.splice(n4, 1);
                  break;
                }
              t4[y2.release]();
            }
            function _2() {
              var e4 = null, t4 = function() {
                r3.removeEventListener("loadedmetadata", e4), r3[y2.setMediaKeys](a3), h2.trigger(p2.VIDEO_ELEMENT_SELECTED);
              };
              r3.readyState >= 1 ? t4() : (e4 = t4.bind(this), r3.addEventListener("loadedmetadata", e4));
            }
            return t3 = { getAllInitData: function() {
              for (var e4 = [], t4 = 0; t4 < u2.length; t4++)
                e4.push(u2[t4].initData);
              return e4;
            }, getSessions: function() {
              return u2;
            }, requestKeySystemAccess: function(e4) {
              return new Promise(function(t4, n4) {
                for (var r4 = false, i3 = 0; i3 < e4.length; i3++)
                  for (var a4 = e4[i3].ks.systemString, o3 = e4[i3].configs, u3 = null, l3 = null, f3 = 0; f3 < o3.length; f3++) {
                    var d2 = o3[f3].audioCapabilities, g2 = o3[f3].videoCapabilities;
                    if (d2 && 0 !== d2.length) {
                      u3 = [];
                      for (var m3 = 0; m3 < d2.length; m3++)
                        window[y2.MediaKeys].isTypeSupported(a4, d2[m3].contentType) && u3.push(d2[m3]);
                    }
                    if (g2 && 0 !== g2.length) {
                      l3 = [];
                      for (var E3 = 0; E3 < g2.length; E3++)
                        window[y2.MediaKeys].isTypeSupported(a4, g2[E3].contentType) && l3.push(g2[E3]);
                    }
                    if (!(!u3 && !l3 || u3 && 0 === u3.length || l3 && 0 === l3.length)) {
                      r4 = true;
                      var v3 = new s2(u3, l3), _3 = c2.getKeySystemBySystemString(a4), T2 = new fe(_3, v3);
                      h2.trigger(p2.KEY_SYSTEM_ACCESS_COMPLETE, { data: T2 }), t4({ data: T2 });
                      break;
                    }
                  }
                if (!r4) {
                  var S2 = "Key system access denied! -- No valid audio/video content configurations detected!";
                  h2.trigger(p2.KEY_SYSTEM_ACCESS_COMPLETE, { error: S2 }), n4({ error: S2 });
                }
              });
            }, selectKeySystem: function(e4) {
              return new Promise(function(t4, n4) {
                try {
                  a3 = e4.mediaKeys = new window[y2.MediaKeys](e4.keySystem.systemString), i2 = e4.keySystem, o2 = e4, r3 && _2(), t4(i2);
                } catch (e5) {
                  n4({ error: "Error selecting keys system (" + i2.systemString + ")! Could not create MediaKeys -- TODO" });
                }
              });
            }, setMediaElement: function(e4) {
              r3 !== e4 && (r3 && r3.removeEventListener(y2.needkey, l2), (r3 = e4) && (r3.addEventListener(y2.needkey, l2), a3 && _2()));
            }, createKeySession: function(e4) {
              if (!i2 || !a3 || !o2)
                throw new Error("Can not create sessions until you have selected a key system");
              var t4 = null;
              if (o2.ksConfiguration.videoCapabilities && o2.ksConfiguration.videoCapabilities.length > 0 && (t4 = o2.ksConfiguration.videoCapabilities[0]), null === t4 && o2.ksConfiguration.audioCapabilities && o2.ksConfiguration.audioCapabilities.length > 0 && (t4 = o2.ksConfiguration.audioCapabilities[0]), null === t4)
                throw new Error("Can not create sessions for unknown content types.");
              var r4 = t4.contentType, s3 = a3.createSession(r4, new Uint8Array(e4.initData), e4.cdmData ? new Uint8Array(e4.cdmData) : null), l3 = function(e5, t5) {
                return { session: e5, keyId: t5.keyId, initData: t5.initData, getKeyId: function() {
                  return this.keyId;
                }, getSessionId: function() {
                  return this.session.sessionId;
                }, getExpirationTime: function() {
                  return NaN;
                }, getSessionType: function() {
                  return "temporary";
                }, handleEvent: function(e6) {
                  switch (e6.type) {
                    case y2.error:
                      h2.trigger(p2.KEY_ERROR, { error: new g.Z(d.MEDIA_KEYERR_CODE, "KeyError", this) });
                      break;
                    case y2.message:
                      var t6 = ArrayBuffer.isView(e6.message) ? e6.message.buffer : e6.message;
                      h2.trigger(p2.INTERNAL_KEY_MESSAGE, { data: new ce(this, t6, e6.destinationURL) });
                      break;
                    case y2.ready:
                      n3.debug("DRM: Key added."), h2.trigger(p2.KEY_ADDED);
                      break;
                    case y2.close:
                      n3.debug("DRM: Session closed.  SessionID = " + this.getSessionId()), h2.trigger(p2.KEY_SESSION_CLOSED, { data: this.getSessionId() });
                  }
                } };
              }(s3, e4);
              s3.addEventListener(y2.error, l3), s3.addEventListener(y2.message, l3), s3.addEventListener(y2.ready, l3), s3.addEventListener(y2.close, l3), u2.push(l3), n3.debug("DRM: Session created.  SessionID = " + l3.getSessionId()), h2.trigger(p2.KEY_SESSION_CREATED, { data: l3 });
            }, updateKeySession: function(e4, t4) {
              var n4 = e4.session;
              c2.isClearKey(i2) ? n4.update(new Uint8Array(t4.toJWK())) : n4.update(new Uint8Array(t4)), h2.trigger(p2.KEY_SESSION_UPDATED);
            }, closeKeySession: v2, setServerCertificate: function() {
            }, loadKeySession: function() {
            }, removeKeySession: function() {
            }, stop: E2, reset: E2 }, n3 = m2.getLogger(t3), r3 = null, i2 = null, a3 = null, o2 = null, u2 = [], c2 = re(f2).getInstance(), l2 = { handleEvent: function(e4) {
              if (e4.type === y2.needkey && e4.initData) {
                var t4 = ArrayBuffer.isView(e4.initData) ? e4.initData.buffer : e4.initData;
                h2.trigger(p2.NEED_KEY, { key: new le(t4, "cenc") });
              }
            } }, t3;
          }
          pe.__dashjs_factory_name = "ProtectionModel_3Feb2014";
          var me = dashjs.FactoryMaker.getClassFactory(pe);
          function ye(e3) {
            e3 = e3 || {};
            var t3, n3, r3, i2, a3, o2, u2, l2, c2, f2 = this.context, h2 = e3.eventBus, p2 = e3.events, m2 = e3.debug, y2 = e3.api, E2 = e3.errHandler;
            function v2() {
              r3 && S2();
              for (var e4 = 0; e4 < u2.length; e4++)
                _2(u2[e4]);
              h2.trigger(p2.TEARDOWN_COMPLETE);
            }
            function _2(e4) {
              try {
                r3[y2.cancelKeyRequest](i2.systemString, e4.sessionId);
              } catch (t4) {
                h2.trigger(p2.KEY_SESSION_CLOSED, { data: null, error: "Error closing session (" + e4.sessionId + ") " + t4.message });
              }
            }
            function T2(e4, t4) {
              if (t4 && e4) {
                for (var n4 = e4.length, r4 = 0; r4 < n4; r4++)
                  if (e4[r4].sessionId == t4)
                    return e4[r4];
                return null;
              }
              return null;
            }
            function S2() {
              r3.removeEventListener(y2.keyerror, c2), r3.removeEventListener(y2.needkey, c2), r3.removeEventListener(y2.keymessage, c2), r3.removeEventListener(y2.keyadded, c2);
            }
            return t3 = { getAllInitData: function() {
              for (var e4 = [], t4 = 0; t4 < o2.length; t4++)
                e4.push(o2[t4].initData);
              for (var n4 = 0; n4 < u2.length; n4++)
                e4.push(u2[n4].initData);
              return e4;
            }, getSessions: function() {
              return u2.concat(o2);
            }, requestKeySystemAccess: function(e4) {
              return new Promise(function(t4, n4) {
                var i3 = r3;
                i3 || (i3 = document.createElement("video"));
                for (var o3 = false, u3 = 0; u3 < e4.length; u3++)
                  for (var l3 = e4[u3].ks.systemString, c3 = e4[u3].configs, f3 = null, d2 = 0; d2 < c3.length; d2++) {
                    var g2 = c3[d2].videoCapabilities;
                    if (g2 && 0 !== g2.length) {
                      f3 = [];
                      for (var m3 = 0; m3 < g2.length; m3++)
                        "" !== i3.canPlayType(g2[m3].contentType, l3) && f3.push(g2[m3]);
                    }
                    if (f3 && (!f3 || 0 !== f3.length)) {
                      o3 = true;
                      var y3 = new s2(null, f3), E3 = a3.getKeySystemBySystemString(l3), v3 = new fe(E3, y3);
                      h2.trigger(p2.KEY_SYSTEM_ACCESS_COMPLETE, { data: v3 }), t4({ data: v3 });
                      break;
                    }
                  }
                if (!o3) {
                  var _3 = "Key system access denied! -- No valid audio/video content configurations detected!";
                  h2.trigger(p2.KEY_SYSTEM_ACCESS_COMPLETE, { error: _3 }), n4({ error: _3 });
                }
              });
            }, selectKeySystem: function(e4) {
              return i2 = e4.keySystem, Promise.resolve(i2);
            }, setMediaElement: function(e4) {
              if (r3 !== e4) {
                if (r3) {
                  S2();
                  for (var t4 = 0; t4 < u2.length; t4++)
                    _2(u2[t4]);
                  u2 = [];
                }
                (r3 = e4) && (r3.addEventListener(y2.keyerror, c2), r3.addEventListener(y2.needkey, c2), r3.addEventListener(y2.keymessage, c2), r3.addEventListener(y2.keyadded, c2), h2.trigger(p2.VIDEO_ELEMENT_SELECTED));
              }
            }, createKeySession: function(e4) {
              if (!i2)
                throw new Error("Can not create sessions until you have selected a key system");
              if (l2 || 0 === u2.length) {
                var t4 = { sessionId: null, keyId: e4.keyId, initData: e4.initData, getKeyId: function() {
                  return this.keyId;
                }, getSessionId: function() {
                  return this.sessionId;
                }, getExpirationTime: function() {
                  return NaN;
                }, getSessionType: function() {
                  return "temporary";
                } };
                return o2.push(t4), r3[y2.generateKeyRequest](i2.systemString, new Uint8Array(e4.initData)), t4;
              }
              throw new Error("Multiple sessions not allowed!");
            }, updateKeySession: function(e4, t4) {
              var n4 = e4.sessionId;
              if (a3.isClearKey(i2))
                for (var o3 = 0; o3 < t4.keyPairs.length; o3++)
                  r3[y2.addKey](i2.systemString, t4.keyPairs[o3].key, t4.keyPairs[o3].keyID, n4);
              else
                r3[y2.addKey](i2.systemString, new Uint8Array(t4), new Uint8Array(e4.initData), n4);
              h2.trigger(p2.KEY_SESSION_UPDATED);
            }, closeKeySession: _2, setServerCertificate: function() {
            }, loadKeySession: function() {
            }, removeKeySession: function() {
            }, stop: v2, reset: v2 }, n3 = m2.getLogger(t3), r3 = null, i2 = null, o2 = [], u2 = [], a3 = re(f2).getInstance(), c2 = { handleEvent: function(e4) {
              var t4 = null;
              switch (e4.type) {
                case y2.needkey:
                  var r4 = ArrayBuffer.isView(e4.initData) ? e4.initData.buffer : e4.initData;
                  h2.trigger(p2.NEED_KEY, { key: new le(r4, "cenc") });
                  break;
                case y2.keyerror:
                  if ((t4 = T2(u2, e4.sessionId)) || (t4 = T2(o2, e4.sessionId)), t4) {
                    var i3 = d.MEDIA_KEYERR_CODE, a4 = "";
                    switch (e4.errorCode.code) {
                      case 1:
                        i3 = d.MEDIA_KEYERR_UNKNOWN_CODE, a4 += "MEDIA_KEYERR_UNKNOWN - " + d.MEDIA_KEYERR_UNKNOWN_MESSAGE;
                        break;
                      case 2:
                        i3 = d.MEDIA_KEYERR_CLIENT_CODE, a4 += "MEDIA_KEYERR_CLIENT - " + d.MEDIA_KEYERR_CLIENT_MESSAGE;
                        break;
                      case 3:
                        i3 = d.MEDIA_KEYERR_SERVICE_CODE, a4 += "MEDIA_KEYERR_SERVICE - " + d.MEDIA_KEYERR_SERVICE_MESSAGE;
                        break;
                      case 4:
                        i3 = d.MEDIA_KEYERR_OUTPUT_CODE, a4 += "MEDIA_KEYERR_OUTPUT - " + d.MEDIA_KEYERR_OUTPUT_MESSAGE;
                        break;
                      case 5:
                        i3 = d.MEDIA_KEYERR_HARDWARECHANGE_CODE, a4 += "MEDIA_KEYERR_HARDWARECHANGE - " + d.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;
                        break;
                      case 6:
                        i3 = d.MEDIA_KEYERR_DOMAIN_CODE, a4 += "MEDIA_KEYERR_DOMAIN - " + d.MEDIA_KEYERR_DOMAIN_MESSAGE;
                    }
                    a4 += "  System Code = " + e4.systemCode, h2.trigger(p2.KEY_ERROR, { error: new g.Z(i3, a4, t4) });
                  } else
                    n3.error("No session token found for key error");
                  break;
                case y2.keyadded:
                  (t4 = T2(u2, e4.sessionId)) || (t4 = T2(o2, e4.sessionId)), t4 ? (n3.debug("DRM: Key added."), h2.trigger(p2.KEY_ADDED, { data: t4 })) : n3.debug("No session token found for key added");
                  break;
                case y2.keymessage:
                  if ((l2 = null !== e4.sessionId && void 0 !== e4.sessionId) ? !(t4 = T2(u2, e4.sessionId)) && o2.length > 0 && (t4 = o2.shift(), u2.push(t4), t4.sessionId = e4.sessionId, h2.trigger(p2.KEY_SESSION_CREATED, { data: t4 })) : o2.length > 0 && (t4 = o2.shift(), u2.push(t4), 0 !== o2.length && E2.error(new g.Z(d.MEDIA_KEY_MESSAGE_ERROR_CODE, d.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))), t4) {
                    var s3 = ArrayBuffer.isView(e4.message) ? e4.message.buffer : e4.message;
                    t4.keyMessage = s3, h2.trigger(p2.INTERNAL_KEY_MESSAGE, { data: new ce(t4, s3, e4.defaultURL) });
                  } else
                    n3.warn("No session token found for key message");
              }
            } }, t3;
          }
          ye.__dashjs_factory_name = "ProtectionModel_01b";
          var Ee = dashjs.FactoryMaker.getClassFactory(ye), ve = [{ generateKeyRequest: "generateKeyRequest", addKey: "addKey", cancelKeyRequest: "cancelKeyRequest", needkey: "needkey", keyerror: "keyerror", keyadded: "keyadded", keymessage: "keymessage" }, { generateKeyRequest: "webkitGenerateKeyRequest", addKey: "webkitAddKey", cancelKeyRequest: "webkitCancelKeyRequest", needkey: "webkitneedkey", keyerror: "webkitkeyerror", keyadded: "webkitkeyadded", keymessage: "webkitkeymessage" }], _e = [{ setMediaKeys: "setMediaKeys", MediaKeys: "MediaKeys", release: "close", needkey: "needkey", error: "keyerror", message: "keymessage", ready: "keyadded", close: "keyclose" }, { setMediaKeys: "msSetMediaKeys", MediaKeys: "MSMediaKeys", release: "close", needkey: "msneedkey", error: "mskeyerror", message: "mskeymessage", ready: "mskeyadded", close: "mskeyclose" }];
          function Te() {
            var e3, t3 = this.context;
            function n3(e4, t4) {
              for (var n4 = 0; n4 < t4.length; n4++) {
                var r3 = t4[n4];
                if ("function" == typeof e4[r3[Object.keys(r3)[0]]])
                  return r3;
              }
              return null;
            }
            return e3 = { createProtectionSystem: function(r3) {
              var i2 = null, a3 = re(t3).getInstance();
              a3.setConfig({ debug: r3.debug, BASE64: r3.BASE64, settings: r3.settings }), a3.initialize();
              var o2 = function(r4) {
                var i3 = r4.debug, a4 = i3.getLogger(e3), o3 = r4.eventBus, s3 = r4.errHandler, u2 = r4.videoModel ? r4.videoModel.getElement() : null;
                return u2 && void 0 === u2.onencrypted || u2 && void 0 === u2.mediaKeys ? n3(u2, _e) ? (a4.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"), me(t3).create({ debug: i3, eventBus: o3, events: r4.events, api: n3(u2, _e) })) : n3(u2, ve) ? (a4.info("EME detected on this user agent! (ProtectionModel_01b)"), Ee(t3).create({ debug: i3, eventBus: o3, errHandler: s3, events: r4.events, api: n3(u2, ve) })) : (a4.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"), null) : (a4.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"), he(t3).create({ debug: i3, eventBus: o3, events: r4.events }));
              }(r3);
              return !i2 && o2 && (i2 = S(t3).create({ protectionModel: o2, protectionKeyController: a3, eventBus: r3.eventBus, debug: r3.debug, events: r3.events, BASE64: r3.BASE64, constants: r3.constants, cmcdModel: r3.cmcdModel, customParametersModel: r3.customParametersModel, settings: r3.settings }), r3.capabilities.setEncryptedMediaSupported(true)), i2;
            } };
          }
          Te.__dashjs_factory_name = "Protection";
          var Se = dashjs.FactoryMaker.getClassFactory(Te);
          Se.events = ue, Se.errors = d, dashjs.FactoryMaker.updateClassFactory(Te.__dashjs_factory_name, Se);
          var be = Se;
        }, 2068: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = { DEFAULT: 0.5, STRONG: 1, WEAK: 0 };
          function a2(e3, t3, n3) {
            var r3, a3;
            return r3 = void 0 === e3 ? -1 : e3, a3 = function(e4) {
              var t4 = i.DEFAULT;
              return e4 !== i.DEFAULT && e4 !== i.STRONG && e4 !== i.WEAK || (t4 = e4), t4;
            }(n3), { quality: r3, reason: void 0 === t3 ? null : t3, priority: a3 };
          }
          a2.__dashjs_factory_name = "SwitchRequest";
          var o = r2.Z.getClassFactory(a2);
          o.NO_CHANGE = -1, o.PRIORITY = i, r2.Z.updateClassFactory(a2.__dashjs_factory_name, o), t2.Z = o;
        }, 1767: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5628), i = n2(6535), a2 = n2(7423), o = n2(895), s2 = n2(6070), u = n2(3112), l = n2(1914), c = n2(5435), f = n2(5448), d = n2(2068), g = n2(3393), h = "qualitySwitchRules", p = "abandonFragmentRules";
          function m(e3) {
            e3 = e3 || {};
            var t3, n3, f2 = this.context, m2 = e3.mediaPlayerModel, y2 = e3.customParametersModel, E = e3.dashMetrics, v = e3.settings;
            function _(e4) {
              return e4.filter(function(e5) {
                return e5.quality > d.Z.NO_CHANGE;
              });
            }
            function T(e4) {
              var t4, n4, r3, i2, a3, o2 = {}, s3 = null;
              if (0 !== e4.length) {
                for (o2[d.Z.PRIORITY.STRONG] = { quality: d.Z.NO_CHANGE, reason: null }, o2[d.Z.PRIORITY.WEAK] = { quality: d.Z.NO_CHANGE, reason: null }, o2[d.Z.PRIORITY.DEFAULT] = { quality: d.Z.NO_CHANGE, reason: null }, t4 = 0, n4 = e4.length; t4 < n4; t4 += 1)
                  (r3 = e4[t4]).quality !== d.Z.NO_CHANGE && (o2[r3.priority].quality === d.Z.NO_CHANGE || o2[r3.priority].quality > r3.quality) && (o2[r3.priority].quality = r3.quality, o2[r3.priority].reason = r3.reason || null);
                return o2[d.Z.PRIORITY.WEAK].quality !== d.Z.NO_CHANGE && (s3 = o2[d.Z.PRIORITY.WEAK]), o2[d.Z.PRIORITY.DEFAULT].quality !== d.Z.NO_CHANGE && (s3 = o2[d.Z.PRIORITY.DEFAULT]), o2[d.Z.PRIORITY.STRONG].quality !== d.Z.NO_CHANGE && (s3 = o2[d.Z.PRIORITY.STRONG]), s3 && (i2 = s3.quality, a3 = s3.reason), (0, d.Z)(f2).create(i2, a3);
              }
            }
            return { initialize: function() {
              t3 = [], n3 = [], v.get().streaming.abr.useDefaultABRRules && (v.get().streaming.abr.ABRStrategy === g.Z.ABR_STRATEGY_L2A ? t3.push((0, l.Z)(f2).create({ dashMetrics: E, settings: v })) : v.get().streaming.abr.ABRStrategy === g.Z.ABR_STRATEGY_LoLP ? t3.push((0, c.Z)(f2).create({ dashMetrics: E })) : (t3.push((0, u.Z)(f2).create({ dashMetrics: E, mediaPlayerModel: m2, settings: v })), t3.push((0, r2.Z)(f2).create({ dashMetrics: E })), v.get().streaming.abr.additionalAbrRules.insufficientBufferRule && t3.push((0, i.Z)(f2).create({ dashMetrics: E, settings: v })), v.get().streaming.abr.additionalAbrRules.switchHistoryRule && t3.push((0, s2.Z)(f2).create()), v.get().streaming.abr.additionalAbrRules.droppedFramesRule && t3.push((0, o.Z)(f2).create()), v.get().streaming.abr.additionalAbrRules.abandonRequestsRule && n3.push((0, a2.Z)(f2).create({ dashMetrics: E, mediaPlayerModel: m2, settings: v })))), y2.getAbrCustomRules().forEach(function(e4) {
                e4.type === h && t3.push(e4.rule(f2).create()), e4.type === p && n3.push(e4.rule(f2).create());
              });
            }, reset: function() {
              [t3, n3].forEach(function(e4) {
                e4 && e4.length && e4.forEach(function(e5) {
                  return e5.reset && e5.reset();
                });
              }), t3 = [], n3 = [];
            }, getMaxQuality: function(e4) {
              return T(_(t3.map(function(t4) {
                return t4.getMaxIndex(e4);
              }))) || (0, d.Z)(f2).create();
            }, getMinSwitchRequest: T, shouldAbandonFragment: function(e4, t4) {
              var r3 = T(_(n3.map(function(n4) {
                return n4.shouldAbandon(e4, t4);
              })));
              return r3 && (r3.reason.forceAbandon = true), r3 || (0, d.Z)(f2).create();
            }, getQualitySwitchRules: function() {
              return t3;
            } };
          }
          m.__dashjs_factory_name = "ABRRulesCollection";
          var y = f.Z.getClassFactory(m);
          y.QUALITY_SWITCH_RULES = h, y.ABANDON_FRAGMENT_RULES = p, f.Z.updateSingletonFactory(m.__dashjs_factory_name, y), t2.Z = y;
        }, 7423: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(2068), i = n2(5448), a2 = n2(6398);
          function o(e3) {
            e3 = e3 || {};
            var t3, n3, i2, s2, u, l = this.context, c = e3.mediaPlayerModel, f = e3.dashMetrics, d = e3.settings;
            function g() {
              i2 = {}, s2 = {}, u = [];
            }
            return t3 = { shouldAbandon: function(e4) {
              var t4 = (0, r2.Z)(l).create(r2.Z.NO_CHANGE, { name: o.__dashjs_factory_name });
              if (!(e4 && e4.hasOwnProperty("getMediaInfo") && e4.hasOwnProperty("getMediaType") && e4.hasOwnProperty("getCurrentRequest") && e4.hasOwnProperty("getRepresentationInfo") && e4.hasOwnProperty("getAbrController")))
                return t4;
              var a3, g2, h = e4.getMediaInfo(), p = e4.getMediaType(), m = e4.getStreamInfo(), y = m ? m.id : null, E = e4.getCurrentRequest();
              if (!isNaN(E.index)) {
                a3 = p, g2 = E.index, i2[a3] = i2[a3] || {}, i2[a3][g2] = i2[a3][g2] || {};
                var v = c.getStableBufferTime();
                if (f.getCurrentBufferLevel(p) > v)
                  return t4;
                var _ = i2[p][E.index];
                if (null === _ || null === E.firstByteDate || s2.hasOwnProperty(_.id))
                  return t4;
                if (void 0 === _.firstByteTime && (u[p] = [], _.firstByteTime = E.firstByteDate.getTime(), _.segmentDuration = E.duration, _.bytesTotal = E.bytesTotal, _.id = E.index), _.bytesLoaded = E.bytesLoaded, _.elapsedTime = (/* @__PURE__ */ new Date()).getTime() - _.firstByteTime, _.bytesLoaded > 0 && _.elapsedTime > 0 && function(e5, t5) {
                  u[e5] = u[e5] || [], u[e5].push(t5);
                }(p, Math.round(8 * _.bytesLoaded / _.elapsedTime)), u[p].length >= d.get().streaming.abr.abrRulesParameters.abandonRequestsRule.minLengthToAverage && _.elapsedTime > d.get().streaming.abr.abrRulesParameters.abandonRequestsRule.graceTimeThreshold && _.bytesLoaded < _.bytesTotal) {
                  var T = u[p].reduce(function(e5, t5) {
                    return e5 + t5;
                  }, 0);
                  if (_.measuredBandwidthInKbps = Math.round(T / u[p].length), _.estimatedTimeOfDownload = +(8 * _.bytesTotal / _.measuredBandwidthInKbps / 1e3).toFixed(2), _.estimatedTimeOfDownload < _.segmentDuration * d.get().streaming.abr.abrRulesParameters.abandonRequestsRule.abandonMultiplier || 0 === e4.getRepresentationInfo().quality)
                    return t4;
                  if (!s2.hasOwnProperty(_.id)) {
                    var S = e4.getAbrController(), b = _.bytesTotal - _.bytesLoaded, A = S.getBitrateList(h), I = S.getQualityForBitrate(h, _.measuredBandwidthInKbps * d.get().streaming.abr.bandwidthSafetyFactor, y), R = S.getMinAllowedIndexFor(p, y), w = void 0 !== R ? Math.max(R, I) : I;
                    b > _.bytesTotal * A[w].bitrate / A[S.getQualityFor(p, y)].bitrate && (t4.quality = w, t4.reason.throughput = _.measuredBandwidthInKbps, t4.reason.fragmentID = _.id, t4.reason.rule = this.getClassName(), s2[_.id] = _, n3.debug("[" + p + "] frag id", _.id, " is asking to abandon and switch to quality to ", w, " measured bandwidth was", _.measuredBandwidthInKbps), delete i2[p][_.id]);
                  }
                } else
                  _.bytesLoaded === _.bytesTotal && delete i2[p][_.id];
              }
              return t4;
            }, reset: g }, n3 = (0, a2.Z)(l).getInstance().getLogger(t3), g(), t3;
          }
          o.__dashjs_factory_name = "AbandonRequestsRule", t2.Z = i.Z.getClassFactory(o);
        }, 3112: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(3860), i = n2(2068), a2 = n2(5448), o = n2(7855), s2 = n2(5595), u = n2(8512), l = n2(6398), c = n2(8825), f = n2(3393), d = 10;
          function g(e3) {
            e3 = e3 || {};
            var t3, n3, a3, g2 = this.context, h = e3.dashMetrics, p = e3.mediaPlayerModel, m = (0, s2.Z)(g2).getInstance();
            function y(e4, t4, n4) {
              var r3 = n4.reduce(function(e5, t5, r4) {
                return t5 > n4[e5] ? r4 : e5;
              }, 0);
              if (0 === r3)
                return null;
              var i2 = Math.max(e4, d + 2 * t4.length), a4 = (n4[r3] - 1) / (i2 / d - 1);
              return { gp: a4, Vp: d / a4 };
            }
            function E(e4) {
              e4.placeholderBuffer = 0, e4.mostAdvancedSegmentStart = NaN, e4.lastSegmentWasReplacement = false, e4.lastSegmentStart = NaN, e4.lastSegmentDurationS = NaN, e4.lastSegmentRequestTimeMs = NaN, e4.lastSegmentFinishTimeMs = NaN;
            }
            function v(e4, t4) {
              var n4 = p.getStableBufferTime();
              if (e4.stableBufferTime !== n4) {
                var r3 = y(n4, e4.bitrates, e4.utilities);
                if (r3.Vp !== e4.Vp || r3.gp !== e4.gp) {
                  var i2 = h.getCurrentBufferLevel(t4), a4 = i2 + e4.placeholderBuffer;
                  a4 -= d, a4 *= r3.Vp / e4.Vp, a4 += d, e4.stableBufferTime = n4, e4.Vp = r3.Vp, e4.gp = r3.gp, e4.placeholderBuffer = Math.max(0, a4 - i2);
                }
              }
            }
            function _(e4, t4) {
              return e4.Vp * (e4.utilities[t4] + e4.gp);
            }
            function T(e4, t4) {
              for (var n4 = e4.bitrates[t4], r3 = e4.utilities[t4], i2 = 0, a4 = t4 - 1; a4 >= 0; --a4)
                if (e4.utilities[a4] < e4.utilities[t4]) {
                  var o2 = e4.bitrates[a4], s3 = e4.utilities[a4], u2 = e4.Vp * (e4.gp + (n4 * s3 - o2 * r3) / (n4 - o2));
                  i2 = Math.max(i2, u2);
                }
              return i2;
            }
            function S(e4) {
              var t4 = e4.mediaType === f.Z.AUDIO ? [f.Z.AUDIO] : a3;
              for (var n4 in t4)
                a3.hasOwnProperty(n4) && 2 === a3[n4].state && (a3[n4].placeholderBuffer = 0);
            }
            function b() {
              for (var e4 in a3)
                if (a3.hasOwnProperty(e4)) {
                  var t4 = a3[e4];
                  0 !== t4.state && (t4.state = 1, E(t4));
                }
            }
            function A(e4) {
              if (e4 && e4.chunk && e4.chunk.mediaInfo) {
                var t4 = a3[e4.chunk.mediaInfo.type];
                if (t4 && 0 !== t4.state) {
                  var n4 = e4.chunk.start;
                  isNaN(t4.mostAdvancedSegmentStart) || n4 > t4.mostAdvancedSegmentStart ? (t4.mostAdvancedSegmentStart = n4, t4.lastSegmentWasReplacement = false) : t4.lastSegmentWasReplacement = true, t4.lastSegmentStart = n4, t4.lastSegmentDurationS = e4.chunk.duration, t4.lastQuality = e4.chunk.quality, R(t4, e4.chunk.mediaInfo.type);
                }
              }
            }
            function I(e4) {
              if (e4 && e4.metric === r2.Z.HTTP_REQUEST && e4.value && e4.value.type === o.w.MEDIA_SEGMENT_TYPE && e4.value.trace && e4.value.trace.length) {
                var t4 = a3[e4.mediaType];
                t4 && 0 !== t4.state && (t4.lastSegmentRequestTimeMs = e4.value.trequest.getTime(), t4.lastSegmentFinishTimeMs = e4.value._tfinish.getTime(), R(t4, e4.mediaType));
              }
            }
            function R(e4, t4) {
              if (!isNaN(e4.lastSegmentStart) && !isNaN(e4.lastSegmentRequestTimeMs) && !isNaN(e4.placeholderBuffer)) {
                if (e4.placeholderBuffer *= 0.99, !isNaN(e4.lastSegmentFinishTimeMs)) {
                  var n4 = h.getCurrentBufferLevel(t4) + 1e-3 * (e4.lastSegmentFinishTimeMs - e4.lastSegmentRequestTimeMs), r3 = _(e4, e4.lastQuality), i2 = Math.max(0, r3 - n4);
                  e4.placeholderBuffer = Math.min(i2, e4.placeholderBuffer);
                }
                e4.lastSegmentWasReplacement && !isNaN(e4.lastSegmentDurationS) && (e4.placeholderBuffer += e4.lastSegmentDurationS), e4.lastSegmentStart = NaN, e4.lastSegmentRequestTimeMs = NaN;
              }
            }
            function w(e4) {
              if (e4) {
                var t4 = a3[e4.mediaType];
                t4 && 0 !== t4.state && (t4.abrQuality = e4.newQuality);
              }
            }
            function N(e4) {
              if (e4) {
                var t4 = a3[e4.mediaType];
                if (t4 && 0 !== t4.state) {
                  var n4, r3 = h.getCurrentBufferLevel(e4.mediaType);
                  n4 = t4.abrQuality > 0 ? T(t4, t4.abrQuality) : d;
                  var i2 = Math.max(0, n4 - r3);
                  t4.placeholderBuffer = Math.min(t4.placeholderBuffer, i2);
                }
              }
            }
            function C() {
              a3 = {};
            }
            return t3 = { getMaxIndex: function(e4) {
              var t4 = (0, i.Z)(g2).create();
              if (!(e4 && e4.hasOwnProperty("getMediaInfo") && e4.hasOwnProperty("getMediaType") && e4.hasOwnProperty("getScheduleController") && e4.hasOwnProperty("getStreamInfo") && e4.hasOwnProperty("getAbrController") && e4.hasOwnProperty("useBufferOccupancyABR")))
                return t4;
              var r3 = e4.getMediaInfo(), o2 = e4.getMediaType(), s3 = e4.getScheduleController(), u2 = e4.getStreamInfo(), l2 = e4.getAbrController(), c2 = l2.getThroughputHistory(), f2 = u2 ? u2.id : null, d2 = u2 && u2.manifestInfo && u2.manifestInfo.isDynamic, m2 = e4.useBufferOccupancyABR();
              if (t4.reason = t4.reason || {}, !m2)
                return t4;
              s3.setTimeToLoadDelay(0);
              var S2 = function(e5) {
                var t5 = e5.getMediaType(), n4 = a3[t5];
                return n4 ? 0 !== n4.state && v(n4, t5) : (n4 = function(e6) {
                  var t6 = {}, n5 = e6.getMediaInfo().bitrateList.map(function(e7) {
                    return e7.bandwidth;
                  }), r4 = function(e7) {
                    return e7.map(function(e8) {
                      return Math.log(e8);
                    });
                  }(n5);
                  r4 = r4.map(function(e7) {
                    return e7 - r4[0] + 1;
                  });
                  var i2 = p.getStableBufferTime(), a4 = y(i2, n5, r4);
                  return a4 ? (t6.state = 1, t6.bitrates = n5, t6.utilities = r4, t6.stableBufferTime = i2, t6.Vp = a4.Vp, t6.gp = a4.gp, t6.lastQuality = 0, E(t6)) : t6.state = 0, t6;
                }(e5), a3[t5] = n4), n4;
              }(e4);
              if (0 === S2.state)
                return t4;
              var b2, A2 = h.getCurrentBufferLevel(o2), I2 = c2.getAverageThroughput(o2, d2), R2 = c2.getSafeAverageThroughput(o2, d2), w2 = c2.getAverageLatency(o2);
              if (t4.reason.state = S2.state, t4.reason.throughput = I2, t4.reason.latency = w2, isNaN(I2))
                return t4;
              switch (S2.state) {
                case 1:
                  b2 = l2.getQualityForBitrate(r3, R2, f2, w2), t4.quality = b2, t4.reason.throughput = R2, S2.placeholderBuffer = Math.max(0, T(S2, b2) - A2), S2.lastQuality = b2, !isNaN(S2.lastSegmentDurationS) && A2 >= S2.lastSegmentDurationS && (S2.state = 2);
                  break;
                case 2:
                  !function(e5, t5) {
                    var n4 = Date.now();
                    if (isNaN(e5.lastSegmentFinishTimeMs)) {
                      if (!isNaN(e5.lastCallTimeMs)) {
                        var r4 = 1e-3 * (n4 - e5.lastCallTimeMs);
                        e5.placeholderBuffer += Math.max(0, r4);
                      }
                    } else {
                      var i2 = 1e-3 * (n4 - e5.lastSegmentFinishTimeMs);
                      e5.placeholderBuffer += Math.max(0, i2);
                    }
                    e5.lastCallTimeMs = n4, e5.lastSegmentStart = NaN, e5.lastSegmentRequestTimeMs = NaN, e5.lastSegmentFinishTimeMs = NaN, v(e5, t5);
                  }(S2, o2), b2 = function(e5, t5) {
                    for (var n4 = e5.bitrates.length, r4 = NaN, i2 = NaN, a4 = 0; a4 < n4; ++a4) {
                      var o3 = (e5.Vp * (e5.utilities[a4] + e5.gp) - t5) / e5.bitrates[a4];
                      (isNaN(i2) || o3 >= i2) && (i2 = o3, r4 = a4);
                    }
                    return r4;
                  }(S2, A2 + S2.placeholderBuffer);
                  var N2 = l2.getQualityForBitrate(r3, R2, f2, w2);
                  b2 > S2.lastQuality && b2 > N2 && (b2 = Math.max(N2, S2.lastQuality));
                  var C2 = Math.max(0, A2 + S2.placeholderBuffer - _(S2, b2));
                  C2 <= S2.placeholderBuffer ? (S2.placeholderBuffer -= C2, C2 = 0) : (C2 -= S2.placeholderBuffer, S2.placeholderBuffer = 0, b2 < l2.getMaxAllowedIndexFor(o2, f2) ? s3.setTimeToLoadDelay(1e3 * C2) : C2 = 0), t4.quality = b2, t4.reason.throughput = I2, t4.reason.latency = w2, t4.reason.bufferLevel = A2, t4.reason.placeholderBuffer = S2.placeholderBuffer, t4.reason.delay = C2, S2.lastQuality = b2;
                  break;
                default:
                  n3.debug("BOLA ABR rule invoked in bad state."), t4.quality = l2.getQualityForBitrate(r3, R2, f2, w2), t4.reason.state = S2.state, t4.reason.throughput = R2, t4.reason.latency = w2, S2.state = 1, E(S2);
              }
              return t4;
            }, reset: function() {
              C(), m.off(c.Z.BUFFER_EMPTY, S, t3), m.off(c.Z.PLAYBACK_SEEKING, b, t3), m.off(c.Z.METRIC_ADDED, I, t3), m.off(c.Z.QUALITY_CHANGE_REQUESTED, w, t3), m.off(c.Z.FRAGMENT_LOADING_ABANDONED, N, t3), m.off(u.Z.MEDIA_FRAGMENT_LOADED, A, t3);
            } }, n3 = (0, l.Z)(g2).getInstance().getLogger(t3), C(), m.on(c.Z.BUFFER_EMPTY, S, t3), m.on(c.Z.PLAYBACK_SEEKING, b, t3), m.on(c.Z.METRIC_ADDED, I, t3), m.on(c.Z.QUALITY_CHANGE_REQUESTED, w, t3), m.on(c.Z.FRAGMENT_LOADING_ABANDONED, N, t3), m.on(u.Z.MEDIA_FRAGMENT_LOADED, A, t3), t3;
          }
          g.__dashjs_factory_name = "BolaRule", t2.Z = a2.Z.getClassFactory(g);
        }, 895: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(2068), a2 = n2(6398);
          function o() {
            var e3, t3, n3 = this.context;
            return e3 = { getMaxIndex: function(e4) {
              var r3 = (0, i.Z)(n3).create();
              if (!e4 || !e4.hasOwnProperty("getDroppedFramesHistory"))
                return r3;
              var a3 = e4.getDroppedFramesHistory(), o2 = e4.getStreamInfo().id;
              if (a3) {
                var s2 = a3.getFrameHistory(o2);
                if (!s2 || 0 === s2.length)
                  return r3;
                for (var u = 0, l = 0, c = i.Z.NO_CHANGE, f = 1; f < s2.length; f++)
                  if (s2[f] && (u = s2[f].droppedVideoFrames, (l = s2[f].totalVideoFrames) > 375 && u / l > 0.15)) {
                    c = f - 1, t3.debug("index: " + c + " Dropped Frames: " + u + " Total Frames: " + l);
                    break;
                  }
                return (0, i.Z)(n3).create(c, { droppedFrames: u });
              }
              return r3;
            } }, t3 = (0, a2.Z)(n3).getInstance().getLogger(e3), e3;
          }
          o.__dashjs_factory_name = "DroppedFramesRule", t2.Z = r2.Z.getClassFactory(o);
        }, 6535: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5595), i = n2(8512), a2 = n2(5448), o = n2(6398), s2 = n2(2068), u = n2(3393), l = n2(3860), c = n2(8825);
          function f(e3) {
            e3 = e3 || {};
            var t3, n3, a3, f2 = this.context, d = (0, r2.Z)(f2).getInstance(), g = e3.dashMetrics;
            function h() {
              (a3 = {})[u.Z.VIDEO] = { ignoreCount: 2 }, a3[u.Z.AUDIO] = { ignoreCount: 2 };
            }
            function p() {
              h();
            }
            function m(e4) {
              isNaN(e4.startTime) || e4.mediaType !== u.Z.AUDIO && e4.mediaType !== u.Z.VIDEO || a3[e4.mediaType].ignoreCount > 0 && a3[e4.mediaType].ignoreCount--;
            }
            return t3 = { getMaxIndex: function(e4) {
              var t4 = (0, s2.Z)(f2).create();
              if (!e4 || !e4.hasOwnProperty("getMediaType"))
                return t4;
              !function() {
                if (!g || !g.hasOwnProperty("getCurrentBufferLevel") || !g.hasOwnProperty("getCurrentBufferState"))
                  throw new Error(u.Z.MISSING_CONFIG_ERROR);
              }();
              var r3 = e4.getMediaType(), i2 = g.getCurrentBufferState(r3), o2 = e4.getRepresentationInfo().fragmentDuration, c2 = e4.getStreamInfo(), d2 = c2 ? c2.id : null, h2 = e4.getScheduleController(), p2 = c2 && c2.manifestInfo && c2.manifestInfo.isDynamic;
              if (function(e5, t5) {
                return !e5 && a3[t5].ignoreCount > 0;
              }(h2.getPlaybackController().getLowLatencyModeEnabled(), r3) || !o2)
                return t4;
              if (i2 && i2.state === l.Z.BUFFER_EMPTY)
                n3.debug("[" + r3 + "] Switch to index 0; buffer is empty."), t4.quality = 0, t4.reason = "InsufficientBufferRule: Buffer is empty";
              else {
                var m2 = e4.getMediaInfo(), y = e4.getAbrController(), E = y.getThroughputHistory(), v = g.getCurrentBufferLevel(r3), _ = E.getAverageThroughput(r3, p2), T = E.getAverageLatency(r3), S = _ * (v / o2) * 0.5;
                t4.quality = y.getQualityForBitrate(m2, S, d2, T), t4.reason = "InsufficientBufferRule: being conservative to avoid immediate rebuffering";
              }
              return t4;
            }, reset: function() {
              h(), d.off(c.Z.PLAYBACK_SEEKING, p, t3), d.off(i.Z.BYTES_APPENDED_END_FRAGMENT, m, t3);
            } }, n3 = (0, o.Z)(f2).getInstance().getLogger(t3), h(), d.on(c.Z.PLAYBACK_SEEKING, p, t3), d.on(i.Z.BYTES_APPENDED_END_FRAGMENT, m, t3), t3;
          }
          f.__dashjs_factory_name = "InsufficientBufferRule", t2.Z = a2.Z.getClassFactory(f);
        }, 1914: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(3860), i = n2(2068), a2 = n2(5448), o = n2(7855), s2 = n2(5595), u = n2(8512), l = n2(6398), c = n2(3393);
          function f(e3) {
            e3 = e3 || {};
            var t3, n3, a3, f2, d = this.context, g = e3.dashMetrics, h = (0, s2.Z)(d).getInstance();
            function p(e4) {
              e4.placeholderBuffer = 0, e4.mostAdvancedSegmentStart = NaN, e4.lastSegmentWasReplacement = false, e4.lastSegmentStart = NaN, e4.lastSegmentDurationS = NaN, e4.lastSegmentRequestTimeMs = NaN, e4.lastSegmentFinishTimeMs = NaN, e4.lastSegmentUrl = "";
            }
            function m() {
              for (var e4 in n3)
                if (n3.hasOwnProperty(e4)) {
                  var t4 = n3[e4];
                  0 !== t4.state && (t4.state = 1, p(t4));
                }
            }
            function y(e4) {
              if (e4 && e4.chunk && e4.chunk.mediaInfo) {
                var t4 = n3[e4.chunk.mediaInfo.type], r3 = a3[e4.chunk.mediaInfo.type];
                if (t4 && 0 !== t4.state) {
                  var i2 = e4.chunk.start;
                  isNaN(t4.mostAdvancedSegmentStart) || i2 > t4.mostAdvancedSegmentStart ? (t4.mostAdvancedSegmentStart = i2, t4.lastSegmentWasReplacement = false) : t4.lastSegmentWasReplacement = true, t4.lastSegmentStart = i2, t4.lastSegmentDurationS = e4.chunk.duration, t4.lastQuality = e4.chunk.quality, v(t4, r3);
                }
              }
            }
            function E(e4) {
              if (e4 && e4.metric === r2.Z.HTTP_REQUEST && e4.value && e4.value.type === o.w.MEDIA_SEGMENT_TYPE && e4.value.trace && e4.value.trace.length) {
                var t4 = n3[e4.mediaType], i2 = a3[e4.mediaType];
                t4 && 0 !== t4.state && (t4.lastSegmentRequestTimeMs = e4.value.trequest.getTime(), t4.lastSegmentFinishTimeMs = e4.value._tfinish.getTime(), v(t4, i2));
              }
            }
            function v(e4, t4) {
              isNaN(e4.lastSegmentStart) || isNaN(e4.lastSegmentRequestTimeMs) || (t4.segment_request_start_s = 1e-3 * e4.lastSegmentRequestTimeMs, t4.segment_download_finish_s = 1e-3 * e4.lastSegmentFinishTimeMs, e4.lastSegmentStart = NaN, e4.lastSegmentRequestTimeMs = NaN);
            }
            function _(e4) {
              if (e4 && e4.mediaType) {
                var t4 = n3[e4.mediaType];
                t4 && 0 !== t4.state && (t4.abrQuality = e4.newQuality);
              }
            }
            function T(e4, t4) {
              if (e4.length !== t4.length)
                return -1;
              for (var n4 = 0, r3 = 0; r3 < e4.length; r3++)
                n4 += e4[r3] * t4[r3];
              return n4;
            }
            function S() {
              n3 = {}, a3 = {};
            }
            return t3 = { getMaxIndex: function(e4) {
              var t4, r3 = (0, i.Z)(d).create(), s3 = Math.pow(4, 0.99), u2 = Math.max(Math.pow(4, 1), s3 * Math.sqrt(4)), l2 = e4.getMediaInfo(), h2 = e4.getMediaType(), m2 = l2.bitrateList.map(function(e5) {
                return e5.bandwidth;
              }), y2 = m2.length, E2 = e4.getScheduleController(), v2 = e4.getStreamInfo(), _2 = e4.getAbrController(), S2 = _2.getThroughputHistory(), b = v2 && v2.manifestInfo && v2.manifestInfo.isDynamic, A = e4.useL2AABR(), I = g.getCurrentBufferLevel(h2, true), R = S2.getSafeAverageThroughput(h2, b), w = S2.getAverageThroughput(h2, b), N = S2.getAverageLatency(h2), C = e4.getVideoModel().getPlaybackRate();
              if (!(e4 && e4.hasOwnProperty("getMediaInfo") && e4.hasOwnProperty("getMediaType") && e4.hasOwnProperty("getScheduleController") && e4.hasOwnProperty("getStreamInfo") && e4.hasOwnProperty("getAbrController") && e4.hasOwnProperty("useL2AABR")))
                return r3;
              if (r3.reason = r3.reason || {}, !A || h2 === c.Z.AUDIO)
                return r3;
              E2.setTimeToLoadDelay(0);
              var D = function(e5) {
                var t5 = e5.getMediaType(), r4 = n3[t5];
                return r4 || (r4 = function(e6) {
                  var t6 = {}, n4 = e6.getMediaInfo(), r5 = n4.bitrateList.map(function(e7) {
                    return e7.bandwidth / 1e3;
                  });
                  return t6.state = 1, t6.bitrates = r5, t6.lastQuality = 0, function(e7) {
                    e7 && e7.type && (a3[e7.type] = {}, a3[e7.type].w = [], a3[e7.type].prev_w = [], a3[e7.type].Q = 0, a3[e7.type].segment_request_start_s = 0, a3[e7.type].segment_download_finish_s = 0, a3[e7.type].B_target = 1.5);
                  }(n4), p(t6), t6;
                }(e5), n3[t5] = r4), r4;
              }(e4);
              if (0 === D.state)
                return r3;
              var O = a3[h2];
              if (!O)
                return r3;
              if (r3.reason.state = D.state, r3.reason.throughput = w, r3.reason.latency = N, isNaN(w))
                return r3;
              switch (D.state) {
                case 1:
                  if (t4 = _2.getQualityForBitrate(l2, R, v2.id, N), r3.quality = t4, r3.reason.throughput = R, D.lastQuality = t4, !isNaN(D.lastSegmentDurationS) && I >= O.B_target) {
                    D.state = 2, O.Q = s3;
                    for (var M = 0; M < y2; ++M)
                      M === D.lastQuality ? O.prev_w[M] = 1 : O.prev_w[M] = 0;
                  }
                  break;
                case 2:
                  var P = [], L = g.getCurrentHttpRequest(h2).trace.reduce(function(e5, t5) {
                    return e5 + t5.d;
                  }, 0), F = g.getCurrentHttpRequest(h2).trace.reduce(function(e5, t5) {
                    return e5 + t5.b[0];
                  }, 0), x = Math.round(8 * F / L), k = g.getCurrentHttpRequest(h2);
                  if (x < 1 && (x = 1), k.url === D.lastSegmentUrl || k.type === o.w.INIT_SEGMENT_TYPE)
                    t4 = D.lastQuality;
                  else {
                    for (var U = D.lastSegmentDurationS, Z = 1, B = 0; B < y2; ++B)
                      m2[B] = m2[B] / 1e3, C * m2[B] > x && (Z = -1), O.w[B] = O.prev_w[B] + Z * (U / (2 * u2)) * ((O.Q + s3) * (C * m2[B] / x));
                    O.w = function(e5) {
                      for (var t5 = e5.length, n4 = false, r4 = [], i2 = 0; i2 < t5; ++i2)
                        r4[i2] = e5[i2];
                      for (var a4 = e5.sort(function(e6, t6) {
                        return t6 - e6;
                      }), o2 = 0, s4 = 0, u3 = [], l3 = 0; l3 < t5 - 1; ++l3)
                        if ((s4 = ((o2 += a4[l3]) - 1) / (l3 + 1)) >= a4[l3 + 1]) {
                          n4 = true;
                          break;
                        }
                      n4 || (s4 = (o2 + a4[t5 - 1] - 1) / t5);
                      for (var c2 = 0; c2 < t5; ++c2)
                        u3[c2] = Math.max(r4[c2] - s4, 0);
                      return u3;
                    }(O.w);
                    for (var G = 0; G < y2; ++G)
                      P[G] = O.w[G] - O.prev_w[G], O.prev_w[G] = O.w[G];
                    O.Q = Math.max(0, O.Q - U + U * C * ((T(m2, O.prev_w) + T(m2, P)) / x));
                    for (var q = [], Y = 0; Y < y2; ++Y)
                      q[Y] = Math.abs(m2[Y] - T(O.w, m2));
                    (t4 = q.indexOf(Math.min.apply(Math, q))) > D.lastQuality && m2[D.lastQuality + 1] <= x && (t4 = D.lastQuality + 1), m2[t4] >= x && (O.Q = 2 * Math.max(s3, O.Q)), D.lastSegmentUrl = k.url;
                  }
                  r3.quality = t4, r3.reason.throughput = w, r3.reason.latency = N, r3.reason.bufferLevel = I, D.lastQuality = r3.quality;
                  break;
                default:
                  f2.debug("L2A ABR rule invoked in bad state."), r3.quality = _2.getQualityForBitrate(l2, R, v2.id, N), r3.reason.state = D.state, r3.reason.throughput = R, r3.reason.latency = N, D.state = 1, p(D);
              }
              return r3;
            }, reset: function() {
              S(), h.off(u.Z.PLAYBACK_SEEKING, m, t3), h.off(u.Z.MEDIA_FRAGMENT_LOADED, y, t3), h.off(u.Z.METRIC_ADDED, E, t3), h.off(u.Z.QUALITY_CHANGE_REQUESTED, _, t3);
            } }, f2 = (0, l.Z)(d).getInstance().getLogger(t3), S(), h.on(u.Z.PLAYBACK_SEEKING, m, t3), h.on(u.Z.MEDIA_FRAGMENT_LOADED, y, t3), h.on(u.Z.METRIC_ADDED, E, t3), h.on(u.Z.QUALITY_CHANGE_REQUESTED, _, t3), t3;
          }
          f.__dashjs_factory_name = "L2ARule", t2.Z = a2.Z.getClassFactory(f);
        }, 6070: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(6398), a2 = n2(2068);
          function o() {
            var e3, t3, n3 = this.context;
            return e3 = { getMaxIndex: function(e4) {
              for (var r3 = e4 ? e4.getSwitchHistory() : null, i2 = r3 ? r3.getSwitchRequests() : [], o2 = 0, s2 = 0, u = 0, l = (0, a2.Z)(n3).create(), c = 0; c < i2.length; c++)
                if (void 0 !== i2[c] && (o2 += i2[c].drops, s2 += i2[c].noDrops, u += i2[c].dropSize, o2 + s2 >= 6 && o2 / s2 > 0.075)) {
                  l.quality = c > 0 && i2[c].drops > 0 ? c - 1 : c, l.reason = { index: l.quality, drops: o2, noDrops: s2, dropSize: u }, t3.debug("Switch history rule index: " + l.quality + " samples: " + (o2 + s2) + " drops: " + o2);
                  break;
                }
              return l;
            } }, t3 = (0, i.Z)(n3).getInstance().getLogger(e3), e3;
          }
          o.__dashjs_factory_name = "SwitchHistoryRule", t2.Z = r2.Z.getClassFactory(o);
        }, 5628: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(2068), a2 = n2(3393), o = n2(3860);
          function s2(e3) {
            e3 = e3 || {};
            var t3 = this.context, n3 = e3.dashMetrics;
            return { getMaxIndex: function(e4) {
              var r3 = (0, i.Z)(t3).create();
              if (!(e4 && e4.hasOwnProperty("getMediaInfo") && e4.hasOwnProperty("getMediaType") && e4.hasOwnProperty("useBufferOccupancyABR") && e4.hasOwnProperty("getAbrController") && e4.hasOwnProperty("getScheduleController")))
                return r3;
              !function() {
                if (!n3 || !n3.hasOwnProperty("getCurrentBufferState"))
                  throw new Error(a2.Z.MISSING_CONFIG_ERROR);
              }();
              var s3 = e4.getMediaInfo(), u = e4.getMediaType(), l = n3.getCurrentBufferState(u), c = e4.getScheduleController(), f = e4.getAbrController(), d = e4.getStreamInfo(), g = d ? d.id : null, h = d && d.manifestInfo ? d.manifestInfo.isDynamic : null, p = f.getThroughputHistory(), m = p.getSafeAverageThroughput(u, h), y = p.getAverageLatency(u), E = e4.useBufferOccupancyABR();
              return isNaN(m) || !l || E || f.getAbandonmentStateFor(g, u) !== o.Z.ABANDON_LOAD && (l.state === o.Z.BUFFER_LOADED || h) && (r3.quality = f.getQualityForBitrate(s3, m, g, y), c.setTimeToLoadDelay(0), r3.reason = { throughput: m, latency: y }), r3;
            }, reset: function() {
            } };
          }
          s2.__dashjs_factory_name = "ThroughputRule", t2.Z = r2.Z.getClassFactory(s2);
        }, 4722: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(6398);
          function a2() {
            var e3, t3, n3, r3, a3, o, s2, u, l, c = this.context;
            function f() {
              n3 = null, r3 = 1, a3 = 100, o = 0, s2 = null, u = null, l = "dynamic_weight_selection";
            }
            function d() {
              var e4 = 0;
              if (n3)
                for (var t4 = 0; t4 < n3.length; t4++) {
                  var r4 = n3[t4];
                  r4.state.throughput > e4 && (e4 = r4.state.throughput);
                }
              return e4;
            }
            function g(e4, t4, n4) {
              var r4 = e4.map(function(e5, r5) {
                return n4[r5] * Math.pow(e5 - t4[r5], 2);
              }).reduce(function(e5, t5) {
                return e5 + t5;
              });
              return (r4 < 0 ? -1 : 1) * Math.sqrt(Math.abs(r4));
            }
            function h(e4, t4) {
              return g([e4.state.throughput, e4.state.latency, e4.state.rebuffer, e4.state.switch], [t4.state.throughput, t4.state.latency, t4.state.rebuffer, t4.state.switch], [1, 1, 1, 1]);
            }
            function p(e4, t4, n4) {
              for (var r4 = 0; r4 < t4.length; r4++) {
                var i2 = t4[r4], a4 = h(i2, e4);
                m(i2, n4, Math.exp(-1 * Math.pow(a4, 2) / (2 * Math.pow(0.1, 2))));
              }
            }
            function m(e4, t4, n4) {
              var r4 = e4.state, i2 = [0.01, 0.01, 0.01, 0.01];
              r4.throughput = r4.throughput + (t4[0] - r4.throughput) * i2[0] * n4, r4.latency = r4.latency + (t4[1] - r4.latency) * i2[1] * n4, r4.rebuffer = r4.rebuffer + (t4[2] - r4.rebuffer) * i2[2] * n4, r4.switch = r4.switch + (t4[3] - r4.switch) * i2[3] * n4;
            }
            return e3 = { getNextQuality: function(e4, i2, c2, f2, h2, m2, y) {
              var E = c2, v = f2, _ = i2, T = function(e5) {
                if (!n3) {
                  n3 = [];
                  var t4 = e5.bitrateList, i3 = [];
                  o = t4[0].bandwidth, t4.forEach(function(e6) {
                    i3.push(e6.bandwidth), e6.bandwidth < o && (o = e6.bandwidth);
                  }), l2 = i3.map(function(e6) {
                    return Math.pow(e6, 2);
                  }).reduce(function(e6, t5) {
                    return e6 + t5;
                  }), r3 = Math.sqrt(l2);
                  for (var a4 = 0; a4 < t4.length; a4++) {
                    var s3 = { qualityIndex: a4, bitrate: t4[a4].bandwidth, state: { throughput: t4[a4].bandwidth / r3, latency: 0, rebuffer: 0, switch: 0 } };
                    n3.push(s3);
                  }
                  u = function(e6) {
                    var t5 = [], n4 = function(e7) {
                      for (var t6 = [], n5 = 0; n5 < e7; n5++) {
                        var r5 = [Math.random() * d(), Math.random(), Math.random(), Math.random()];
                        t6.push(r5);
                      }
                      return t6;
                    }(Math.pow(e6.length, 2));
                    t5.push(n4[0]);
                    for (var r4 = [1, 1, 1, 1], i4 = 1; i4 < e6.length; i4++) {
                      for (var a5 = null, o2 = null, s4 = 0; s4 < n4.length; s4++) {
                        for (var u2 = n4[s4], l3 = null, c3 = 0; c3 < t5.length; c3++) {
                          var f3 = g(u2, t5[c3], r4);
                          (null === l3 || f3 < l3) && (l3 = f3);
                        }
                        (null === o2 || l3 > o2) && (a5 = u2, o2 = l3);
                      }
                      t5.push(a5);
                    }
                    for (var h3 = null, p2 = null, m3 = 0; m3 < t5.length; m3++) {
                      for (var y2 = 0, E2 = 0; E2 < t5.length; E2++)
                        m3 !== E2 && (y2 += g(t5[m3], t5[E2], r4));
                      (null === h3 || y2 > h3) && (h3 = y2, p2 = m3);
                    }
                    var v2 = [];
                    for (v2.push(t5[p2]), t5.splice(p2, 1); t5.length > 0; ) {
                      for (var _2 = null, T2 = null, S2 = 0; S2 < t5.length; S2++) {
                        var b2 = g(v2[0], t5[S2], r4);
                        (null === _2 || b2 < _2) && (_2 = b2, T2 = S2);
                      }
                      v2.push(t5[T2]), t5.splice(T2, 1);
                    }
                    return v2;
                  }(n3);
                }
                var l2;
                return n3;
              }(e4), S = i2 / r3;
              S > 1 && (S = d()), c2 /= a3, t3.debug("getNextQuality called throughput:".concat(S, " latency:").concat(c2, " bufferSize:").concat(f2, " currentQualityIndex:").concat(m2, " playbackRate:").concat(h2));
              var b = T[m2], A = b.bitrate * y.getSegmentDuration() / _, I = Math.max(0, A - v);
              if (v - A < y.getMinBuffer())
                return t3.debug("Buffer is low for bitrate= ".concat(b.bitrate, " downloadTime=").concat(A, " currentBuffer=").concat(v, " rebuffer=").concat(I)), function(e5, t4) {
                  var r4 = 0, i3 = e5;
                  if (n3)
                    for (var a4 = 0; a4 < n3.length; a4++) {
                      var o2 = n3[a4];
                      o2.bitrate < e5.bitrate && o2.bitrate > r4 && t4 > o2.bitrate && (r4 = o2.bitrate, i3 = o2);
                    }
                  return i3;
                }(b, _).qualityIndex;
              switch (l) {
                case "manual_weight_selection":
                  s2 = [0.4, 0.4, 0.4, 0.4];
                  break;
                case "random_weight_selection":
                  !function(e5) {
                    s2 = function(e6, t4) {
                      for (var n4 = [], r4 = Math.sqrt(2 / e6), i3 = 0; i3 < 4; i3++)
                        n4.push(Math.random() * r4);
                      return s2 = n4;
                    }(e5.length);
                  }(T);
                  break;
                default:
                  !function(e5, t4, n4, r4, i3, a4, o2) {
                    s2 || (s2 = u[u.length - 1]);
                    var l2 = e5.findWeightVector(t4, n4, r4, i3, a4, o2);
                    null !== l2 && -1 !== l2 && (s2 = l2);
                  }(y, T, E, v, I, _, h2);
              }
              for (var R = null, w = null, N = null, C = 0; C < T.length; C++) {
                var D = T[C], O = D.state, M = [O.throughput, O.latency, O.rebuffer, O.switch], P = s2.slice(), L = y.getNextBufferWithBitrate(D.bitrate, v, _), F = L < y.getMinBuffer();
                F && t3.debug("Buffer is low for bitrate=".concat(D.bitrate, " downloadTime=").concat(A, " currentBuffer=").concat(v, " nextBuffer=").concat(L)), (D.bitrate > i2 - 1e4 || F) && D.bitrate !== o && (P[0] = 100);
                var x = g(M, [S, 0, 0, 0], P);
                (null === R || x < R) && (R = x, w = D.qualityIndex, N = D);
              }
              var k = Math.abs(b.bitrate - N.bitrate) / r3;
              return p(b, T, [S, c2, I, k]), p(N, T, [S, 0, 0, k]), w;
            }, reset: function() {
              f();
            } }, t3 = (0, i.Z)(c).getInstance().getLogger(e3), f(), e3;
          }
          a2.__dashjs_factory_name = "LearningAbrController", t2.Z = r2.Z.getClassFactory(a2);
        }, 5317: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(2298);
          function a2() {
            var e3, t3, n3, r3, a3;
            function o() {
              t3 = null, n3 = null, r3 = null, a3 = null;
            }
            function s2(e4, t4, n4, r4) {
              var a4 = new i.Z();
              return a4.type = e4, a4.weights.bitrateReward = t4 || 1, a4.weights.bitrateSwitchPenalty = 1, a4.weights.rebufferPenalty = n4 || 1e3, a4.weights.latencyPenalty = [], a4.weights.latencyPenalty.push({ threshold: 1.1, penalty: 0.05 * r4 }), a4.weights.latencyPenalty.push({ threshold: 1e8, penalty: 0.1 * n4 }), a4.weights.playbackSpeedPenalty = r4 || 200, a4;
            }
            function u(e4, t4, n4, r4, i2) {
              i2.bitrateWSum += i2.weights.bitrateReward * e4, i2.lastBitrate && (i2.bitrateSwitchWSum += i2.weights.bitrateSwitchPenalty * Math.abs(e4 - i2.lastBitrate)), i2.lastBitrate = e4, i2.rebufferWSum += i2.weights.rebufferPenalty * t4;
              for (var a4 = 0; a4 < i2.weights.latencyPenalty.length; a4++) {
                var o2 = i2.weights.latencyPenalty[a4];
                if (n4 <= o2.threshold) {
                  i2.latencyWSum += o2.penalty * n4;
                  break;
                }
              }
              i2.playbackSpeedWSum += i2.weights.playbackSpeedPenalty * Math.abs(1 - r4), i2.totalQoe = i2.bitrateWSum - i2.bitrateSwitchWSum - i2.rebufferWSum - i2.latencyWSum - i2.playbackSpeedWSum;
            }
            return e3 = { setupPerSegmentQoe: function(e4, i2, o2) {
              t3 = s2("segment", e4, i2, o2), n3 = e4, r3 = i2, a3 = o2;
            }, logSegmentMetrics: function(e4, n4, r4, i2) {
              t3 && u(e4, n4, r4, i2, t3);
            }, getPerSegmentQoe: function() {
              return t3;
            }, calculateSingleUseQoe: function(e4, t4, i2, o2) {
              var l = null;
              return n3 && r3 && a3 && (l = s2("segment", n3, r3, a3)), l ? (u(e4, t4, i2, o2, l), l.totalQoe) : 0;
            }, reset: function() {
              o();
            } }, o(), e3;
          }
          a2.__dashjs_factory_name = "LoLpQoeEvaluator", t2.Z = r2.Z.getClassFactory(a2);
        }, 5435: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(6398), i = n2(5448), a2 = n2(4722), o = n2(5317), s2 = n2(2068), u = n2(3860), l = n2(6523), c = n2(3393);
          function f(e3) {
            var t3, n3, i2, f2, d = (e3 = e3 || {}).dashMetrics, g = this.context;
            return n3 = { getMaxIndex: function(e4) {
              try {
                var n4 = (0, s2.Z)(g).create(), r3 = e4.getMediaInfo().type, a3 = e4.getAbrController(), o2 = e4.getStreamInfo(), h = a3.getQualityFor(r3, o2.id), p = e4.getMediaInfo(), m = d.getCurrentBufferState(r3), y = e4.getScheduleController(), E = d.getCurrentBufferLevel(r3, true), v = o2 && o2.manifestInfo ? o2.manifestInfo.isDynamic : null, _ = y.getPlaybackController(), T = _.getCurrentLiveLatency();
                if (!e4.useLoLPABR() || r3 === c.Z.AUDIO)
                  return n4;
                T || (T = 0);
                var S = _.getPlaybackRate(), b = a3.getThroughputHistory().getSafeAverageThroughput(r3, v);
                if (t3.debug("Throughput ".concat(Math.round(b), " kbps")), isNaN(b) || !m)
                  return n4;
                if (a3.getAbandonmentStateFor(o2.id, r3) === u.Z.ABANDON_LOAD)
                  return n4;
                for (var A = p.bitrateList, I = e4.getRepresentationInfo().fragmentDuration, R = A[0].bandwidth / 1e3, w = A[A.length - 1].bandwidth / 1e3, N = 0; N < A.length; N++) {
                  var C = A[N].bandwidth / 1e3;
                  C > w ? w = C : C < R && (R = C);
                }
                var D = A[h].bandwidth / 1e3, O = d.getCurrentHttpRequest(r3, true), M = (O.tresponse.getTime() - O.trequest.getTime()) / 1e3, P = M > I ? M - I : 0;
                f2.setupPerSegmentQoe(I, w, R), f2.logSegmentMetrics(D, P, T, S);
                var L = (0, l.Z)(g).create({ targetLatency: 1.5, bufferMin: 0.3, segmentDuration: I, qoeEvaluator: f2 });
                return n4.quality = i2.getNextQuality(p, 1e3 * b, T, E, S, h, L), n4.reason = { throughput: b, latency: T }, n4.priority = s2.Z.PRIORITY.STRONG, y.setTimeToLoadDelay(0), n4.quality !== h && t3.debug("[TgcLearningRule][" + r3 + "] requesting switch to index: ", n4.quality, "Average throughput", Math.round(b), "kbps"), n4;
              } catch (e5) {
                throw e5;
              }
            }, reset: function() {
              i2.reset(), f2.reset();
            } }, t3 = (0, r2.Z)(g).getInstance().getLogger(n3), i2 = (0, a2.Z)(g).create(), f2 = (0, o.Z)(g).create(), n3;
          }
          f.__dashjs_factory_name = "LoLPRule", t2.Z = i.Z.getClassFactory(f);
        }, 6523: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448);
          function i(e3) {
            var t3, n3, r3, i2, a2 = e3.targetLatency, o = e3.bufferMin, s2 = e3.segmentDuration, u = e3.qoeEvaluator;
            function l() {
              return s2;
            }
            function c(e4, t4) {
              var n4 = l();
              return t4 > n4 ? e4 - n4 : e4 + n4 - t4;
            }
            return t3 = { getMinBuffer: function() {
              return o;
            }, getSegmentDuration: l, getNextBufferWithBitrate: function(e4, t4, n4) {
              return c(t4, e4 * s2 / n4);
            }, getNextBuffer: c, findWeightVector: function(e4, t4, i3, l2, f, d) {
              var g = null, h = null, p = null, m = Math.abs(t4 - r3);
              return e4.forEach(function(e5) {
                n3.forEach(function(n4) {
                  n4[0];
                  var r4 = n4[1], l3 = n4[2], y = (n4[3], e5.bitrate * s2 / f), E = c(i3, y), v = (0 === l3 ? 10 : 1 / l3) * Math.max(1e-5, y - E), _ = (0 === r4 ? 10 : 1 / r4) * e5.state.latency, T = u.calculateSingleUseQoe(e5.bitrate, v, _, d);
                  (null === g || T > g) && function(e6, t5, n5) {
                    return !(e6 > a2 + n5) && t5 >= o;
                  }(t4, E, m) && (g = T, h = n4, p = e5.bitrate);
                });
              }), null === h && null === p && (h = -1), r3 = t4, h;
            } }, 4, n3 = function e4(t4, n4, r4) {
              if (r4 === n4)
                return t4;
              for (var a3 = t4.length, o2 = 0; o2 < a3; o2++)
                for (var s3 = t4.shift(), u2 = 0; u2 < i2.length; u2++)
                  t4.push(s3.concat(i2[u2]));
              return e4(t4, n4, r4 + 1);
            }((i2 = [0.2, 0.4, 0.6, 0.8, 1]).map(function(e4) {
              return [e4];
            }), 4, 1), r3 = 0, t3;
          }
          i.__dashjs_factory_name = "LoLpWeightSelector", t2.Z = r2.Z.getClassFactory(i);
        }, 2298: function(e2, t2) {
          "use strict";
          t2.Z = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.type = null, this.lastBitrate = null, this.weights = {}, this.weights.bitrateReward = null, this.weights.bitrateSwitchPenalty = null, this.weights.rebufferPenalty = null, this.weights.latencyPenalty = null, this.weights.playbackSpeedPenalty = null, this.bitrateWSum = 0, this.bitrateSwitchWSum = 0, this.rebufferWSum = 0, this.latencyWSum = 0, this.playbackSpeedWSum = 0, this.totalQoe = 0;
          };
        }, 7803: function(e2, t2, n2) {
          "use strict";
          n2.d(t2, { Y: function() {
            return g;
          } });
          var r2 = n2(3393), i = n2(1553), a2 = n2(5448), o = n2(2128), s2 = n2(2594), u = n2(7387), l = n2(7417), c = n2(9032), f = n2(9326), d = n2(7802), g = ["http://dashif.org/thumbnail_tile", "http://dashif.org/guidelines/thumbnail_tile"];
          function h(e3) {
            var t3, n3, a3, h2, p, m, y, E, v = this.context, _ = e3.adapter, T = e3.baseURLController, S = e3.streamInfo, b = e3.timelineConverter, A = e3.debug, I = e3.eventBus, R = e3.events, w = e3.dashConstants, N = (0, s2.Z)(v).getInstance();
            function C(e4, t4) {
              var r3 = new o.Z();
              r3.id = e4.id, r3.bitrate = e4.bandwidth, r3.width = e4.width, r3.height = e4.height, r3.tilesHor = 1, r3.tilesVert = 1, e4.essentialProperties && e4.essentialProperties.forEach(function(e5) {
                if (g.indexOf(e5.schemeIdUri) >= 0 && e5.value) {
                  var t5 = e5.value.split("x");
                  2 !== t5.length || isNaN(t5[0]) || isNaN(t5[1]) || (r3.tilesHor = parseInt(t5[0], 10), r3.tilesVert = parseInt(t5[1], 10));
                }
              }), t4 ? m.updateSegmentData(e4).then(function(t5) {
                !function(e5, t6, n4) {
                  var r4 = [], i2 = function(e6, t7) {
                    var n5, r5, i3, a4, o2 = [], s3 = 0;
                    for (n5 = 0, r5 = e6.segments.length; n5 < r5; n5++)
                      i3 = e6.segments[n5], (a4 = (0, u.TJ)(b, _.getIsDynamic(), t7, i3.startTime, i3.duration, i3.timescale, i3.media, i3.mediaRange, s3)) && (o2.push(a4), a4 = null, s3++);
                    return o2;
                  }(n4, t6);
                  t6.segments = i2, e5.segmentDuration = t6.segments[0].duration, e5.readThumbnail = function(e6, n5) {
                    var i3 = null;
                    r4.some(function(t7) {
                      if (t7.start <= e6 && t7.end > e6)
                        return i3 = t7.url, true;
                    }), i3 ? n5(i3) : t6.segments.some(function(i4) {
                      if (i4.mediaStartTime <= e6 && i4.mediaStartTime + i4.duration > e6) {
                        var a4 = T.resolve(t6.path);
                        return y.load({ method: "get", url: a4.url, request: { range: i4.mediaRange, responseType: "arraybuffer" }, onload: function(e7) {
                          var t7 = E.getSamplesInfo(e7.target.response), a5 = new Blob([e7.target.response.slice(t7.sampleList[0].offset, t7.sampleList[0].offset + t7.sampleList[0].size)], { type: "image/jpeg" }), o2 = window.URL.createObjectURL(a5);
                          r4.push({ start: i4.mediaStartTime, end: i4.mediaStartTime + i4.duration, url: o2 }), n5 && n5(o2);
                        } }), true;
                      }
                    });
                  };
                }(r3, e4, t5);
              }) : (r3.startNumber = e4.startNumber, r3.segmentDuration = e4.segmentDuration, r3.timescale = e4.timescale, r3.templateUrl = function(e5) {
                var t5 = N.isRelative(e5.media) ? N.resolve(e5.media, T.resolve(e5.path).url) : e5.media;
                return t5 ? (0, u.Aj)(t5, e5.id) : "";
              }(e4)), r3.tilesHor > 0 && r3.tilesVert > 0 && (r3.widthPerTile = r3.width / r3.tilesHor, r3.heightPerTile = r3.height / r3.tilesVert, n3.push(r3));
            }
            function D() {
              n3 = [], h2 = -1, p = null;
            }
            return t3 = { getTracks: function() {
              return n3;
            }, addTracks: function() {
              if (S && _ && (p = _.getMediaInfoForType(S, r2.Z.IMAGE))) {
                var e4 = _.getVoRepresentations(p);
                e4 && e4.length > 0 && e4.forEach(function(e5) {
                  (e5.segmentInfoType === i.Z.SEGMENT_TEMPLATE && e5.segmentDuration > 0 && e5.media || e5.segmentInfoType === i.Z.SEGMENT_TIMELINE) && C(e5), e5.segmentInfoType === i.Z.SEGMENT_BASE && C(e5, true);
                }), n3.length > 0 && n3.sort(function(e5, t4) {
                  return e5.bitrate - t4.bitrate;
                });
              }
            }, reset: D, setTrackByIndex: function(e4) {
              n3 && 0 !== n3.length && (e4 >= n3.length && (e4 = n3.length - 1), h2 = e4);
            }, getCurrentTrack: function() {
              return h2 < 0 ? null : n3[h2];
            }, getCurrentTrackIndex: function() {
              return h2;
            }, getThumbnailRequestForTime: function(e4) {
              for (var t4, r3 = _.getVoRepresentations(p), i2 = 0; i2 < r3.length; i2++)
                if (n3[h2].id === r3[i2].id) {
                  t4 = r3[i2];
                  break;
                }
              return a3.getSegmentRequestForTime(p, t4, e4);
            } }, D(), y = (0, c.Z)(v).create({}), E = (0, l.Z)(v).getInstance(), m = (0, d.Z)(v).create({ events: R, eventBus: I, streamInfo: S, timelineConverter: b, dashConstants: w, dashMetrics: e3.dashMetrics, segmentBaseController: e3.segmentBaseController, type: r2.Z.IMAGE }), (a3 = (0, f.Z)(v).create({ streamInfo: S, type: r2.Z.IMAGE, timelineConverter: b, segmentsController: m, baseURLController: T, debug: A, eventBus: I, events: R, dashConstants: w, urlUtils: N })).initialize(!!_ && _.getIsDynamic()), t3;
          }
          h.__dashjs_factory_name = "ThumbnailTracks", t2.Z = a2.Z.getClassFactory(h);
        }, 7417: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(6398), i = n2(8260), a2 = n2(5448), o = n2(6934), s2 = n2(9597);
          function u() {
            var e3, t3, n3 = this.context;
            function a3(e4) {
              if (!e4)
                return null;
              void 0 === e4.fileStart && (e4.fileStart = 0);
              var t4 = o.parseBuffer(e4), r3 = (0, i.Z)(n3).create();
              return r3.setData(t4), r3;
            }
            function u2(e4, t4) {
              return e4[t4 + 3] >>> 0 | e4[t4 + 2] << 8 >>> 0 | e4[t4 + 1] << 16 >>> 0 | e4[t4] << 24 >>> 0;
            }
            function l(e4, t4) {
              return String.fromCharCode(e4[t4++]) + String.fromCharCode(e4[t4++]) + String.fromCharCode(e4[t4++]) + String.fromCharCode(e4[t4]);
            }
            return t3 = { parse: a3, findLastTopIsoBoxCompleted: function(e4, t4, n4) {
              if (void 0 === n4 && (n4 = 0), !t4 || n4 + 8 >= t4.byteLength)
                return new s2.Z(0, false);
              for (var r3, i2 = t4 instanceof ArrayBuffer ? new Uint8Array(t4) : t4, a4 = 0; n4 < i2.byteLength; ) {
                var o2 = u2(i2, n4), c = l(i2, n4 + 4);
                if (0 === o2)
                  break;
                n4 + o2 <= i2.byteLength && (e4.indexOf(c) >= 0 ? r3 = new s2.Z(n4, true, o2) : a4 = n4 + o2), n4 += o2;
              }
              return r3 || new s2.Z(a4, false);
            }, getMediaTimescaleFromMoov: function(e4) {
              var t4 = a3(e4), n4 = t4 ? t4.getBox("mdhd") : void 0;
              return n4 ? n4.timescale : NaN;
            }, getSamplesInfo: function(e4) {
              if (!e4 || 0 === e4.byteLength)
                return { sampleList: [], lastSequenceNumber: NaN, totalDuration: NaN, numSequences: NaN };
              var t4, n4, r3, i2, o2, s3, u3, l2, c, f, d, g, h, p, m, y, E = a3(e4), v = E.getBoxes("moof"), _ = E.getBoxes("mfhd");
              m = E.getBoxes("moof").length, p = _[_.length - 1].sequence_number, n4 = 0, o2 = [];
              var T = -1, S = -1;
              for (f = 0; f < v.length; f++) {
                var b = v[f], A = b.getChildBoxes("traf");
                for (l2 = 0; l2 < A.length; l2++) {
                  var I = A[l2], R = I.getChildBox("tfhd"), w = I.getChildBox("tfdt");
                  i2 = w.baseMediaDecodeTime;
                  var N = I.getChildBoxes("trun"), C = I.getChildBoxes("subs");
                  for (c = 0; c < N.length; c++) {
                    var D = N[c];
                    for (n4 = D.sample_count, h = (R.base_data_offset || 0) + (D.data_offset || 0), u3 = 0; u3 < n4; u3++) {
                      t4 = void 0 !== (s3 = D.samples[u3]).sample_duration ? s3.sample_duration : R.default_sample_duration, r3 = void 0 !== s3.sample_size ? s3.sample_size : R.default_sample_size;
                      var O = { dts: i2, cts: i2 + (void 0 !== s3.sample_composition_time_offset ? s3.sample_composition_time_offset : 0), duration: t4, offset: b.offset + h, size: r3, subSizes: [r3] };
                      if (C)
                        for (d = 0; d < C.length; d++) {
                          var M = C[d];
                          if (T < M.entry_count - 1 && u3 > S && (T++, S += M.entries[T].sample_delta), u3 == S) {
                            O.subSizes = [];
                            var P = M.entries[T];
                            for (g = 0; g < P.subsample_count; g++)
                              O.subSizes.push(P.subsamples[g].subsample_size);
                          }
                        }
                      o2.push(O), h += r3, i2 += t4;
                    }
                  }
                  y = i2 - w.baseMediaDecodeTime;
                }
              }
              return { sampleList: o2, lastSequenceNumber: p, totalDuration: y, numSequences: m };
            }, findInitRange: function(t4) {
              var n4 = null, r3 = a3(t4);
              if (!r3)
                return n4;
              var i2 = r3.getBox("ftyp"), o2 = r3.getBox("moov");
              return e3.debug("Searching for initialization."), o2 && o2.isComplete && (n4 = (i2 ? i2.offset : o2.offset) + "-" + (o2.offset + o2.size - 1), e3.debug("Found the initialization.  Range: " + n4)), n4;
            }, parsePayload: function(e4, t4, n4) {
              if (void 0 === n4 && (n4 = 0), !t4 || n4 + 8 >= t4.byteLength)
                return new s2.Z(0, false);
              for (var r3, i2 = t4 instanceof ArrayBuffer ? new Uint8Array(t4) : t4, a4 = 0; n4 < i2.byteLength; ) {
                var o2 = u2(i2, n4), c = l(i2, n4 + 4);
                if (0 === o2)
                  break;
                n4 + o2 <= i2.byteLength && (e4.indexOf(c) >= 0 ? r3 = new s2.Z(n4, true, o2, c) : a4 = n4 + o2), n4 += o2;
              }
              return r3 || new s2.Z(a4, false);
            } }, e3 = (0, r2.Z)(n3).getInstance().getLogger(t3), t3;
          }
          u.__dashjs_factory_name = "BoxParser", t2.Z = a2.Z.getSingletonFactory(u);
        }, 1715: function(e2, t2, n2) {
          "use strict";
          n2.d(t2, { B: function() {
            return s2;
          } });
          var r2 = n2(5448), i = n2(7803), a2 = n2(3393), o = [{ codec: "avc1", compatibleCodecs: ["avc3"] }, { codec: "avc3", compatibleCodecs: ["avc1"] }];
          function s2() {
            var e3 = "ManagedMediaSource" in window, t3 = "WebKitMediaSource" in window, n3 = "MediaSource" in window;
            return e3 || t3 || n3;
          }
          function u() {
            var e3, t3, n3;
            return e3 = { setConfig: function(e4) {
              e4 && e4.settings && (t3 = e4.settings);
            }, supportsMediaSource: s2, supportsEncryptedMedia: function() {
              return n3;
            }, supportsCodec: function(e4, n4) {
              return n4 !== a2.Z.AUDIO && n4 !== a2.Z.VIDEO ? Promise.resolve(true) : function(e5, n5) {
                return t3.get().streaming.capabilities.useMediaCapabilitiesApi && navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo && (e5.codec && n5 === a2.Z.AUDIO || n5 === a2.Z.VIDEO && e5.codec && e5.width && e5.height && e5.bitrate && e5.framerate);
              }(e4, n4) ? function(e5, t4) {
                return new Promise(function(n5) {
                  if (e5 && e5.codec) {
                    var r3 = { type: "media-source" };
                    r3[t4] = {}, r3[t4].contentType = e5.codec, r3[t4].width = e5.width, r3[t4].height = e5.height, r3[t4].bitrate = parseInt(e5.bitrate), r3[t4].framerate = parseFloat(e5.framerate), navigator.mediaCapabilities.decodingInfo(r3).then(function(e6) {
                      n5(e6.supported);
                    }).catch(function() {
                      n5(false);
                    });
                  } else
                    n5(false);
                });
              }(e4, n4) : function(e5) {
                return new Promise(function(t4) {
                  if (e5 && e5.codec) {
                    var n5 = e5.codec;
                    e5.width && e5.height && (n5 += ';width="' + e5.width + '";height="' + e5.height + '"'), "ManagedMediaSource" in window && ManagedMediaSource.isTypeSupported(n5) || "MediaSource" in window && MediaSource.isTypeSupported(n5) || "WebKitMediaSource" in window && WebKitMediaSource.isTypeSupported(n5) ? t4(true) : t4(false);
                  } else
                    t4(false);
                });
              }(e4);
            }, setEncryptedMediaSupported: function(e4) {
              n3 = e4;
            }, supportsEssentialProperty: function(e4) {
              try {
                return -1 !== i.Y.indexOf(e4.schemeIdUri) || a2.Z.FONT_DOWNLOAD_DVB_SCHEME === e4.schemeIdUri;
              } catch (e5) {
                return true;
              }
            }, codecRootCompatibleWithCodec: function(e4, t4) {
              for (var n4, r3 = e4.split(".")[0], i2 = 0 === t4.indexOf(r3), a3 = 0; a3 < o.length; a3++)
                if (o[a3].codec === r3) {
                  n4 = o[a3];
                  break;
                }
              return n4 ? i2 || n4.compatibleCodecs.some(function(e5) {
                return 0 === t4.indexOf(e5);
              }) : i2;
            } }, n3 = false, e3;
          }
          u.__dashjs_factory_name = "Capabilities", t2.Z = r2.Z.getSingletonFactory(u);
        }, 2295: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(3106);
          function a2() {
            return { customTimeRangeArray: [], length: 0, add: function(e3, t3) {
              var n3;
              for (n3 = 0; n3 < this.customTimeRangeArray.length && e3 > this.customTimeRangeArray[n3].start; n3++)
                ;
              for (this.customTimeRangeArray.splice(n3, 0, { start: e3, end: t3 }), n3 = 0; n3 < this.customTimeRangeArray.length - 1; n3++)
                this.mergeRanges(n3, n3 + 1) && n3--;
              this.length = this.customTimeRangeArray.length;
            }, clear: function() {
              this.customTimeRangeArray = [], this.length = 0;
            }, remove: function(e3, t3) {
              for (var n3 = 0; n3 < this.customTimeRangeArray.length; n3++)
                if (e3 <= this.customTimeRangeArray[n3].start && t3 >= this.customTimeRangeArray[n3].end)
                  this.customTimeRangeArray.splice(n3, 1), n3--;
                else {
                  if (e3 > this.customTimeRangeArray[n3].start && t3 < this.customTimeRangeArray[n3].end) {
                    this.customTimeRangeArray.splice(n3 + 1, 0, { start: t3, end: this.customTimeRangeArray[n3].end }), this.customTimeRangeArray[n3].end = e3;
                    break;
                  }
                  e3 > this.customTimeRangeArray[n3].start && e3 < this.customTimeRangeArray[n3].end ? this.customTimeRangeArray[n3].end = e3 : t3 > this.customTimeRangeArray[n3].start && t3 < this.customTimeRangeArray[n3].end && (this.customTimeRangeArray[n3].start = t3);
                }
              this.length = this.customTimeRangeArray.length;
            }, mergeRanges: function(e3, t3) {
              var n3 = this.customTimeRangeArray[e3], r3 = this.customTimeRangeArray[t3];
              return n3.start <= r3.start && r3.start <= n3.end && n3.end <= r3.end ? (n3.end = r3.end, this.customTimeRangeArray.splice(t3, 1), true) : r3.start <= n3.start && n3.start <= r3.end && r3.end <= n3.end ? (n3.start = r3.start, this.customTimeRangeArray.splice(t3, 1), true) : r3.start <= n3.start && n3.start <= r3.end && n3.end <= r3.end ? (this.customTimeRangeArray.splice(e3, 1), true) : n3.start <= r3.start && r3.start <= n3.end && r3.end <= n3.end && (this.customTimeRangeArray.splice(t3, 1), true);
            }, start: function(e3) {
              return (0, i.SE)(e3), e3 >= this.customTimeRangeArray.length || e3 < 0 ? NaN : this.customTimeRangeArray[e3].start;
            }, end: function(e3) {
              return (0, i.SE)(e3), e3 >= this.customTimeRangeArray.length || e3 < 0 ? NaN : this.customTimeRangeArray[e3].end;
            } };
          }
          a2.__dashjs_factory_name = "CustomTimeRanges", t2.Z = r2.Z.getClassFactory(a2);
        }, 5: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448);
          function i() {
            var e3, t3 = /^[a-z][a-z0-9+\-_.]*:/i, n3 = /^https?:\/\//i, r3 = /^https:\/\//i, i2 = /^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i, a2 = function(e4, t4) {
              try {
                return new window.URL(e4, t4).toString();
              } catch (t5) {
                return e4;
              }
            }, o = function(e4, t4) {
              var n4 = s2;
              if (!t4)
                return e4;
              if (!c(e4))
                return e4;
              f(e4) && (n4 = u), d(e4) && (n4 = l);
              var r4 = n4(t4), i3 = "/" !== r4.charAt(r4.length - 1) && "/" !== e4.charAt(0) ? "/" : "";
              return [r4, e4].join(i3);
            };
            function s2(e4) {
              var t4 = e4.indexOf("/"), n4 = e4.lastIndexOf("/");
              return -1 !== t4 ? n4 === t4 + 1 ? e4 : (-1 !== e4.indexOf("?") && (e4 = e4.substring(0, e4.indexOf("?"))), e4.substring(0, n4 + 1)) : "";
            }
            function u(e4) {
              var t4 = e4.match(i2);
              return t4 ? t4[1] : "";
            }
            function l(e4) {
              var n4 = e4.match(t3);
              return n4 ? n4[0] : "";
            }
            function c(e4) {
              return !t3.test(e4);
            }
            function f(e4) {
              return c(e4) && "/" === e4.charAt(0);
            }
            function d(e4) {
              return 0 === e4.indexOf("//");
            }
            return function() {
              try {
                new window.URL("x", "http://y"), e3 = a2;
              } catch (e4) {
              } finally {
                e3 = e3 || o;
              }
            }(), { parseBaseUrl: s2, parseOrigin: u, parseScheme: l, isRelative: c, isPathAbsolute: f, isSchemeRelative: d, isHTTPURL: function(e4) {
              return n3.test(e4);
            }, isHTTPS: function(e4) {
              return r3.test(e4);
            }, removeHostname: function(e4) {
              return /^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(e4)[2].substring(1);
            }, resolve: function(t4, n4) {
              return e3(t4, n4);
            } };
          }
          i.__dashjs_factory_name = "DefaultURLUtils", t2.Z = r2.Z.getSingletonFactory(i);
        }, 8260: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(2839), i = n2(5448);
          function a2() {
            var e3;
            function t3(t4) {
              var r3 = [];
              if (!t4 || !e3 || "function" != typeof e3.fetchAll)
                return r3;
              for (var i2, a3 = e3.fetchAll(t4), o = 0, s2 = a3.length; o < s2; o++)
                (i2 = n3(a3[o])) && r3.push(i2);
              return r3;
            }
            function n3(e4) {
              if (!e4)
                return null;
              var t4 = new r2.Z(e4);
              return e4.hasOwnProperty("_incomplete") && (t4.isComplete = !e4._incomplete), t4;
            }
            return { getBox: function(t4) {
              return t4 && e3 && e3.boxes && 0 !== e3.boxes.length && "function" == typeof e3.fetch ? n3(e3.fetch(t4)) : null;
            }, getBoxes: t3, setData: function(t4) {
              e3 = t4;
            }, getLastBox: function() {
              if (!e3 || !e3.boxes || !e3.boxes.length)
                return null;
              var n4 = t3(e3.boxes[e3.boxes.length - 1].type);
              return n4.length > 0 ? n4[n4.length - 1] : null;
            } };
          }
          a2.__dashjs_factory_name = "IsoFile", t2.Z = i.Z.getClassFactory(a2);
        }, 7473: function(e2, t2, n2) {
          "use strict";
          n2.d(t2, { k: function() {
            return i;
          } });
          var r2 = n2(5448);
          function i(e3, t3) {
            var n3 = { url: e3.url, method: e3.method, headers: Object.assign({}, e3.headers), credentials: e3.withCredentials ? "include" : void 0, range: e3.request.range };
            return Promise.resolve(t3.modifyRequest(n3)).then(function() {
              return Object.assign(e3, n3, { withCredentials: "include" === n3.credentials });
            });
          }
          function a2() {
            return { modifyRequest: null, modifyRequestURL: function(e3) {
              return e3;
            }, modifyRequestHeader: function(e3, t3) {
              return t3.url, e3;
            } };
          }
          a2.__dashjs_factory_name = "RequestModifier", t2.Z = r2.Z.getSingletonFactory(a2);
        }, 3106: function(e2, t2, n2) {
          "use strict";
          n2.d(t2, { PS: function() {
            return a2;
          }, SE: function() {
            return o;
          } });
          var r2 = n2(3393);
          function i(e3) {
            return i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
              return typeof e4;
            } : function(e4) {
              return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
            }, i(e3);
          }
          function a2(e3, t3) {
            if (i(e3) !== t3)
              throw r2.Z.BAD_ARGUMENT_ERROR;
          }
          function o(e3) {
            if (null === e3 || isNaN(e3) || e3 % 1 != 0)
              throw r2.Z.BAD_ARGUMENT_ERROR + " : argument is not an integer";
          }
        }, 2594: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(5448), i = n2(5);
          function a2() {
            var e3, t3 = [], n3 = this.context;
            function r3(n4, r4, i2) {
              var a3 = function(n5) {
                var r5;
                for (r5 = 0; r5 < t3.length; r5++)
                  if (t3[r5].regex.test(n5))
                    return t3[r5].utils;
                return e3;
              }(i2 || r4);
              return a3 && "function" == typeof a3[n4] ? a3[n4](r4, i2) : e3[n4](r4, i2);
            }
            return e3 = (0, i.Z)(n3).getInstance(), { registerUrlRegex: function(e4, n4) {
              t3.push({ regex: e4, utils: n4 });
            }, parseBaseUrl: function(e4) {
              return r3("parseBaseUrl", e4);
            }, parseOrigin: function(e4) {
              return r3("parseOrigin", e4);
            }, parseScheme: function(e4) {
              return r3("parseScheme", e4);
            }, isRelative: function(e4) {
              return r3("isRelative", e4);
            }, isPathAbsolute: function(e4) {
              return r3("isPathAbsolute", e4);
            }, isSchemeRelative: function(e4) {
              return r3("isSchemeRelative", e4);
            }, isHTTPURL: function(e4) {
              return r3("isHTTPURL", e4);
            }, isHTTPS: function(e4) {
              return r3("isHTTPS", e4);
            }, removeHostname: function(e4) {
              return r3("removeHostname", e4);
            }, resolve: function(e4, t4) {
              return r3("resolve", e4, t4);
            } };
          }
          a2.__dashjs_factory_name = "URLUtils";
          var o = r2.Z.getSingletonFactory(a2);
          t2.Z = o;
        }, 5459: function(e2, t2) {
          "use strict";
          t2.Z = function e3(t3, n2, r2) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.code = t3 || null, this.message = n2 || null, this.data = r2 || null;
          };
        }, 3186: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(7855);
          function i(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var a2 = function() {
            function e3(t4) {
              !function(e4, t5) {
                if (!(e4 instanceof t5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.action = e3.ACTION_DOWNLOAD, this.startTime = NaN, this.mediaStartTime = NaN, this.mediaType = null, this.mediaInfo = null, this.type = null, this.duration = NaN, this.timescale = NaN, this.range = null, this.url = t4 || null, this.serviceLocation = null, this.requestStartDate = null, this.firstByteDate = null, this.requestEndDate = null, this.quality = NaN, this.index = NaN, this.availabilityStartTime = null, this.availabilityEndTime = null, this.wallStartTime = null, this.bytesLoaded = NaN, this.bytesTotal = NaN, this.delayLoadingTime = NaN, this.responseType = "arraybuffer", this.representationId = null;
            }
            var t3, n3;
            return t3 = e3, (n3 = [{ key: "isInitializationRequest", value: function() {
              return this.type && this.type === r2.w.INIT_SEGMENT_TYPE;
            } }, { key: "setInfo", value: function(e4) {
              this.type = e4 && e4.init ? r2.w.INIT_SEGMENT_TYPE : r2.w.MEDIA_SEGMENT_TYPE, this.url = e4 && e4.url ? e4.url : null, this.range = e4 && e4.range ? e4.range.start + "-" + e4.range.end : null, this.mediaType = e4 && e4.mediaType ? e4.mediaType : null;
            } }]) && i(t3.prototype, n3), e3;
          }();
          a2.ACTION_DOWNLOAD = "download", a2.ACTION_COMPLETE = "complete", t2.Z = a2;
        }, 2839: function(e2, t2) {
          "use strict";
          function n2(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var r2 = function() {
            function e3(t4) {
              if (function(e4, t5) {
                if (!(e4 instanceof t5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.offset = t4._offset, this.type = t4.type, this.size = t4.size, this.boxes = [], t4.boxes)
                for (var n3 = 0; n3 < t4.boxes.length; n3++)
                  this.boxes.push(new e3(t4.boxes[n3]));
              switch (this.isComplete = true, t4.type) {
                case "sidx":
                  if (this.timescale = t4.timescale, this.earliest_presentation_time = t4.earliest_presentation_time, this.first_offset = t4.first_offset, this.references = t4.references, t4.references) {
                    this.references = [];
                    for (var r4 = 0; r4 < t4.references.length; r4++) {
                      var i = { reference_type: t4.references[r4].reference_type, referenced_size: t4.references[r4].referenced_size, subsegment_duration: t4.references[r4].subsegment_duration };
                      this.references.push(i);
                    }
                  }
                  break;
                case "emsg":
                  this.id = t4.id, this.version = 1 === t4.version ? 1 : 0, this.value = t4.value, this.timescale = t4.timescale, this.scheme_id_uri = t4.scheme_id_uri, this.presentation_time_delta = 1 === t4.version ? t4.presentation_time : t4.presentation_time_delta, this.event_duration = t4.event_duration, this.message_data = t4.message_data;
                  break;
                case "mdhd":
                  this.timescale = t4.timescale;
                  break;
                case "mfhd":
                  this.sequence_number = t4.sequence_number;
                  break;
                case "subs":
                  this.entry_count = t4.entry_count, this.entries = t4.entries;
                  break;
                case "tfhd":
                  this.base_data_offset = t4.base_data_offset, this.sample_description_index = t4.sample_description_index, this.default_sample_duration = t4.default_sample_duration, this.default_sample_size = t4.default_sample_size, this.default_sample_flags = t4.default_sample_flags, this.flags = t4.flags;
                  break;
                case "tfdt":
                  this.version = t4.version, this.baseMediaDecodeTime = t4.baseMediaDecodeTime, this.flags = t4.flags;
                  break;
                case "trun":
                  if (this.sample_count = t4.sample_count, this.first_sample_flags = t4.first_sample_flags, this.data_offset = t4.data_offset, this.flags = t4.flags, this.samples = t4.samples, t4.samples) {
                    this.samples = [];
                    for (var a2 = 0, o = t4.samples.length; a2 < o; a2++) {
                      var s2 = { sample_size: t4.samples[a2].sample_size, sample_duration: t4.samples[a2].sample_duration, sample_composition_time_offset: t4.samples[a2].sample_composition_time_offset };
                      this.samples.push(s2);
                    }
                  }
                  break;
                case "prft":
                  this.version = t4.version, this.reference_track_ID = t4.reference_track_ID, this.ntp_timestamp_sec = t4.ntp_timestamp_sec, this.ntp_timestamp_frac = t4.ntp_timestamp_frac, this.media_time = t4.media_time, this.flags = t4.flags;
              }
            }
            var t3, r3;
            return t3 = e3, (r3 = [{ key: "getChildBox", value: function(e4) {
              for (var t4 = 0; t4 < this.boxes.length; t4++)
                if (this.boxes[t4].type === e4)
                  return this.boxes[t4];
            } }, { key: "getChildBoxes", value: function(e4) {
              for (var t4 = [], n3 = 0; n3 < this.boxes.length; n3++)
                this.boxes[n3].type === e4 && t4.push(this.boxes[n3]);
              return t4;
            } }]) && n2(t3.prototype, r3), e3;
          }();
          t2.Z = r2;
        }, 9597: function(e2, t2) {
          "use strict";
          t2.Z = function e3(t3, n2, r2) {
            !function(e4, t4) {
              if (!(e4 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.lastCompletedOffset = t3, this.found = n2, this.size = r2;
          };
        }, 2128: function(e2, t2) {
          "use strict";
          t2.Z = function e3() {
            !function(e4, t3) {
              if (!(e4 instanceof t3))
                throw new TypeError("Cannot call a class as a function");
            }(this, e3), this.bitrate = 0, this.width = 0, this.height = 0, this.tilesHor = 0, this.tilesVert = 0, this.widthPerTile = 0, this.heightPerTile = 0, this.startNumber = 0, this.segmentDuration = 0, this.timescale = 0, this.templateUrl = "", this.id = "";
          };
        }, 7855: function(e2, t2, n2) {
          "use strict";
          function r2(e3, t3) {
            if (!(e3 instanceof t3))
              throw new TypeError("Cannot call a class as a function");
          }
          n2.d(t2, { O: function() {
            return a2;
          }, w: function() {
            return i;
          } });
          var i = function e3() {
            r2(this, e3), this.tcpid = null, this.type = null, this.url = null, this.actualurl = null, this.range = null, this.trequest = null, this.tresponse = null, this.responsecode = null, this.interval = null, this.trace = [], this.cmsd = null, this._stream = null, this._tfinish = null, this._mediaduration = null, this._quality = null, this._responseHeaders = null, this._serviceLocation = null, this._fileLoaderType = null;
          }, a2 = function e3() {
            r2(this, e3), this.s = null, this.d = null, this.b = [];
          };
          i.GET = "GET", i.HEAD = "HEAD", i.MPD_TYPE = "MPD", i.XLINK_EXPANSION_TYPE = "XLinkExpansion", i.INIT_SEGMENT_TYPE = "InitializationSegment", i.INDEX_SEGMENT_TYPE = "IndexSegment", i.MEDIA_SEGMENT_TYPE = "MediaSegment", i.BITSTREAM_SWITCHING_SEGMENT_TYPE = "BitstreamSwitchingSegment", i.MSS_FRAGMENT_INFO_SEGMENT_TYPE = "FragmentInfoSegment", i.DVB_REPORTING_TYPE = "DVBReporting", i.LICENSE = "license", i.CONTENT_STEERING_TYPE = "ContentSteering", i.OTHER_TYPE = "other";
        }, 3039: function(e2, t2) {
          "use strict";
          function n2(e3, t3) {
            return function(n3, i) {
              for (var a2, o, s2, u = r2(n3, "tag"), l = r2(null == i ? "*" : i, "range"), c = [], f = -1; ++f < l.length; )
                if (a2 = l[f].toLowerCase(), t3 || "*" !== a2) {
                  for (o = -1, s2 = []; ++o < u.length; )
                    if (e3(u[o].toLowerCase(), a2)) {
                      if (!t3)
                        return u[o];
                      c.push(u[o]);
                    } else
                      s2.push(u[o]);
                  u = s2;
                }
              return t3 ? c : void 0;
            };
          }
          function r2(e3, t3) {
            var n3 = e3 && "string" == typeof e3 ? [e3] : e3;
            if (!n3 || "object" != typeof n3 || !("length" in n3))
              throw new Error("Invalid " + t3 + " `" + n3 + "`, expected non-empty string");
            return n3;
          }
          t2.basicFilter = n2(function(e3, t3) {
            return "*" === t3 || e3 === t3 || e3.indexOf(t3 + "-") > -1;
          }, true), t2.extendedFilter = n2(function(e3, t3) {
            var n3 = e3.split("-"), r3 = t3.split("-"), i = 0, a2 = 0;
            if ("*" !== r3[a2] && n3[i] !== r3[a2])
              return false;
            for (i++, a2++; a2 < r3.length; )
              if ("*" !== r3[a2]) {
                if (!n3[i])
                  return false;
                if (n3[i] !== r3[a2]) {
                  if (1 === n3[i].length)
                    return false;
                  i++;
                } else
                  i++, a2++;
              } else
                a2++;
            return true;
          }, true), t2.lookup = n2(function(e3, t3) {
            for (var n3, r3 = t3; ; ) {
              if ("*" === r3 || e3 === r3)
                return true;
              if ((n3 = r3.lastIndexOf("-")) < 0)
                return false;
              "-" === r3.charAt(n3 - 2) && (n3 -= 2), r3 = r3.slice(0, n3);
            }
          });
        }, 3973: function(e2, t2, n2) {
          "use strict";
          e2.exports = n2(3854);
        }, 3854: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(2415), i = n2(3039), a2 = n2(7778), o = n2(5813), s2 = n2(3165), u = n2(9460);
          e2.exports = function(e3, t3) {
            var n3, c2 = t3 || {}, m = r2.parse(String(e3 || "").toLowerCase(), c2), y = r2.stringify(m), E = -1;
            if (!y)
              return y;
            for (; ++E < a2.length; )
              i.extendedFilter(y, a2[E].from).length && (d(m, a2[E].from, a2[E].to), y = r2.stringify(m));
            for (E = -1; ++E < o.length; )
              g(m, o[E].from.field, o[E].from.value) && h(m, o[E].to.field, o[E].to.value);
            for (y = r2.stringify(Object.assign({}, m, f)), E = -1; ++E < s2.length; )
              y === s2[E] && (d(m, s2[E], s2[E].split("-").slice(0, -1).join("-")), y = r2.stringify(Object.assign({}, m, f)));
            if (m.extensions.sort(p), c2.warning)
              for (n3 in u)
                l.call(u[n3], m[n3]) && c2.warning("Deprecated " + n3 + " `" + m[n3] + "`, expected one of `" + u[n3][m[n3]].join("`, `") + "`", null, 7);
            return m.script && (m.script = m.script.charAt(0).toUpperCase() + m.script.slice(1)), m.region && (m.region = m.region.toUpperCase()), r2.stringify(m);
          };
          var l = {}.hasOwnProperty, c = new Intl.Collator(), f = { variants: [], extensions: [], privateuse: [], irregular: null, regular: null };
          function d(e3, t3, n3) {
            var i2, a3 = r2.parse(t3), o2 = r2.parse(n3), s3 = [];
            for (i2 in a3)
              a3[i2] && a3[i2].length && g(e3, i2, a3[i2]) && s3.push(i2);
            for (i2 in o2)
              o2[i2] && o2[i2].length && (s3.indexOf(i2) > -1 || !e3[i2] || !e3[i2].length) && h(e3, i2, o2[i2]);
          }
          function g(e3, t3, n3) {
            var r3, i2, a3, o2, s3 = false;
            if (n3) {
              if (i2 = r3 = e3[t3], r3 && "object" == typeof r3)
                for (i2 = [], a3 = -1; ++a3 < r3.length; )
                  o2 = r3[a3], n3.indexOf(o2) < 0 ? i2.push(o2) : s3 = true;
              else
                r3 === n3 && (i2 = null, s3 = true);
              e3[t3] = i2;
            }
            return s3;
          }
          function h(e3, t3, n3) {
            var r3, i2, a3, o2 = e3[t3];
            if (o2 && "object" == typeof o2)
              for (r3 = [].concat(n3), i2 = -1; ++i2 < r3.length; )
                a3 = r3[i2], o2.indexOf(a3) < 0 && o2.push(a3);
            else
              e3[t3] = n3;
          }
          function p(e3, t3) {
            return c.compare(e3.singleton, t3.singleton);
          }
        }, 2415: function(e2, t2, n2) {
          "use strict";
          t2.parse = n2(6903), t2.stringify = n2(6713);
        }, 6903: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(2219), i = n2(3516), a2 = n2(395), o = n2(858), s2 = n2(8589);
          e2.exports = function e3(t3, n3) {
            var l, c, f, d = n3 || {}, g = { language: null, extendedLanguageSubtags: [], script: null, region: null, variants: [], extensions: [], privateuse: [], irregular: null, regular: null }, h = String(t3), p = h.toLowerCase(), m = 0;
            if (null == t3)
              throw new Error("Expected string, got `" + t3 + "`");
            if (u.call(s2, p))
              return (null == d.normalize || d.normalize) && s2[p] ? e3(s2[p]) : (g[-1 === o.indexOf(p) ? "irregular" : "regular"] = h, g);
            for (; i(p.charCodeAt(m)) && m < 9; )
              m++;
            if (m > 1 && m < 9) {
              if (g.language = h.slice(0, m), m < 4)
                for (c = 0; 45 === p.charCodeAt(m) && i(p.charCodeAt(m + 1)) && i(p.charCodeAt(m + 2)) && i(p.charCodeAt(m + 3)) && !i(p.charCodeAt(m + 4)); ) {
                  if (c > 2)
                    return y(m, 3, "Too many extended language subtags, expected at most 3 subtags");
                  g.extendedLanguageSubtags.push(h.slice(m + 1, m + 4)), m += 4, c++;
                }
              for (45 === p.charCodeAt(m) && i(p.charCodeAt(m + 1)) && i(p.charCodeAt(m + 2)) && i(p.charCodeAt(m + 3)) && i(p.charCodeAt(m + 4)) && !i(p.charCodeAt(m + 5)) && (g.script = h.slice(m + 1, m + 5), m += 5), 45 === p.charCodeAt(m) && (i(p.charCodeAt(m + 1)) && i(p.charCodeAt(m + 2)) && !i(p.charCodeAt(m + 3)) ? (g.region = h.slice(m + 1, m + 3), m += 3) : a2(p.charCodeAt(m + 1)) && a2(p.charCodeAt(m + 2)) && a2(p.charCodeAt(m + 3)) && !a2(p.charCodeAt(m + 4)) && (g.region = h.slice(m + 1, m + 4), m += 4)); 45 === p.charCodeAt(m); ) {
                for (f = l = m + 1; r2(p.charCodeAt(f)); ) {
                  if (f - l > 7)
                    return y(f, 1, "Too long variant, expected at most 8 characters");
                  f++;
                }
                if (!(f - l > 4 || f - l > 3 && a2(p.charCodeAt(l))))
                  break;
                g.variants.push(h.slice(l, f)), m = f;
              }
              for (; 45 === p.charCodeAt(m) && 120 !== p.charCodeAt(m + 1) && r2(p.charCodeAt(m + 1)) && 45 === p.charCodeAt(m + 2) && r2(p.charCodeAt(m + 3)); ) {
                for (f = m + 2, c = 0; 45 === p.charCodeAt(f) && r2(p.charCodeAt(f + 1)) && r2(p.charCodeAt(f + 2)); )
                  for (f = (l = f + 1) + 2, c++; r2(p.charCodeAt(f)); ) {
                    if (f - l > 7)
                      return y(f, 2, "Too long extension, expected at most 8 characters");
                    f++;
                  }
                if (!c)
                  return y(f, 4, "Empty extension, extensions must have at least 2 characters of content");
                g.extensions.push({ singleton: h.charAt(m + 1), extensions: h.slice(m + 3, f).split("-") }), m = f;
              }
            } else
              m = 0;
            if (0 === m && 120 === p.charCodeAt(m) || 45 === p.charCodeAt(m) && 120 === p.charCodeAt(m + 1))
              for (f = m = m ? m + 2 : 1; 45 === p.charCodeAt(f) && r2(p.charCodeAt(f + 1)); ) {
                for (f = l = m + 1; r2(p.charCodeAt(f)); ) {
                  if (f - l > 7)
                    return y(f, 5, "Too long private-use area, expected at most 8 characters");
                  f++;
                }
                g.privateuse.push(h.slice(m + 1, f)), m = f;
              }
            return m !== h.length ? y(m, 6, "Found superfluous content after tag") : g;
            function y(e4, t4, n4) {
              return d.warning && d.warning(n4, t4, e4), d.forgiving ? g : { language: null, extendedLanguageSubtags: [], script: null, region: null, variants: [], extensions: [], privateuse: [], irregular: null, regular: null };
            }
          };
          var u = {}.hasOwnProperty;
        }, 6713: function(e2) {
          "use strict";
          e2.exports = function(e3) {
            var t2, n2, r2, i = e3 || {}, a2 = [];
            if (i.irregular || i.regular)
              return i.irregular || i.regular;
            if (i.language)
              for (a2 = a2.concat(i.language, i.extendedLanguageSubtags || [], i.script || [], i.region || [], i.variants || []), t2 = i.extensions || [], n2 = -1; ++n2 < t2.length; )
                (r2 = t2[n2]).singleton && r2.extensions && r2.extensions.length && (a2 = a2.concat(r2.singleton, r2.extensions));
            return i.privateuse && i.privateuse.length && (a2 = a2.concat("x", i.privateuse)), a2.join("-");
          };
        }, 1549: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(6693), i = n2(2165), a2 = "function" == typeof Symbol && "function" == typeof Symbol.for ? Symbol.for("nodejs.util.inspect.custom") : null;
          t2.Buffer = u, t2.SlowBuffer = function(e3) {
            return +e3 != e3 && (e3 = 0), u.alloc(+e3);
          }, t2.INSPECT_MAX_BYTES = 50;
          var o = 2147483647;
          function s2(e3) {
            if (e3 > o)
              throw new RangeError('The value "' + e3 + '" is invalid for option "size"');
            var t3 = new Uint8Array(e3);
            return Object.setPrototypeOf(t3, u.prototype), t3;
          }
          function u(e3, t3, n3) {
            if ("number" == typeof e3) {
              if ("string" == typeof t3)
                throw new TypeError('The "string" argument must be of type string. Received type number');
              return f(e3);
            }
            return l(e3, t3, n3);
          }
          function l(e3, t3, n3) {
            if ("string" == typeof e3)
              return function(e4, t4) {
                if ("string" == typeof t4 && "" !== t4 || (t4 = "utf8"), !u.isEncoding(t4))
                  throw new TypeError("Unknown encoding: " + t4);
                var n4 = 0 | p(e4, t4), r4 = s2(n4), i3 = r4.write(e4, t4);
                return i3 !== n4 && (r4 = r4.slice(0, i3)), r4;
              }(e3, t3);
            if (ArrayBuffer.isView(e3))
              return function(e4) {
                if (G(e4, Uint8Array)) {
                  var t4 = new Uint8Array(e4);
                  return g(t4.buffer, t4.byteOffset, t4.byteLength);
                }
                return d(e4);
              }(e3);
            if (null == e3)
              throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e3);
            if (G(e3, ArrayBuffer) || e3 && G(e3.buffer, ArrayBuffer))
              return g(e3, t3, n3);
            if ("undefined" != typeof SharedArrayBuffer && (G(e3, SharedArrayBuffer) || e3 && G(e3.buffer, SharedArrayBuffer)))
              return g(e3, t3, n3);
            if ("number" == typeof e3)
              throw new TypeError('The "value" argument must not be of type number. Received type number');
            var r3 = e3.valueOf && e3.valueOf();
            if (null != r3 && r3 !== e3)
              return u.from(r3, t3, n3);
            var i2 = function(e4) {
              if (u.isBuffer(e4)) {
                var t4 = 0 | h(e4.length), n4 = s2(t4);
                return 0 === n4.length || e4.copy(n4, 0, 0, t4), n4;
              }
              return void 0 !== e4.length ? "number" != typeof e4.length || q(e4.length) ? s2(0) : d(e4) : "Buffer" === e4.type && Array.isArray(e4.data) ? d(e4.data) : void 0;
            }(e3);
            if (i2)
              return i2;
            if ("undefined" != typeof Symbol && null != Symbol.toPrimitive && "function" == typeof e3[Symbol.toPrimitive])
              return u.from(e3[Symbol.toPrimitive]("string"), t3, n3);
            throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e3);
          }
          function c(e3) {
            if ("number" != typeof e3)
              throw new TypeError('"size" argument must be of type number');
            if (e3 < 0)
              throw new RangeError('The value "' + e3 + '" is invalid for option "size"');
          }
          function f(e3) {
            return c(e3), s2(e3 < 0 ? 0 : 0 | h(e3));
          }
          function d(e3) {
            for (var t3 = e3.length < 0 ? 0 : 0 | h(e3.length), n3 = s2(t3), r3 = 0; r3 < t3; r3 += 1)
              n3[r3] = 255 & e3[r3];
            return n3;
          }
          function g(e3, t3, n3) {
            if (t3 < 0 || e3.byteLength < t3)
              throw new RangeError('"offset" is outside of buffer bounds');
            if (e3.byteLength < t3 + (n3 || 0))
              throw new RangeError('"length" is outside of buffer bounds');
            var r3;
            return r3 = void 0 === t3 && void 0 === n3 ? new Uint8Array(e3) : void 0 === n3 ? new Uint8Array(e3, t3) : new Uint8Array(e3, t3, n3), Object.setPrototypeOf(r3, u.prototype), r3;
          }
          function h(e3) {
            if (e3 >= o)
              throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + o.toString(16) + " bytes");
            return 0 | e3;
          }
          function p(e3, t3) {
            if (u.isBuffer(e3))
              return e3.length;
            if (ArrayBuffer.isView(e3) || G(e3, ArrayBuffer))
              return e3.byteLength;
            if ("string" != typeof e3)
              throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof e3);
            var n3 = e3.length, r3 = arguments.length > 2 && true === arguments[2];
            if (!r3 && 0 === n3)
              return 0;
            for (var i2 = false; ; )
              switch (t3) {
                case "ascii":
                case "latin1":
                case "binary":
                  return n3;
                case "utf8":
                case "utf-8":
                  return U(e3).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return 2 * n3;
                case "hex":
                  return n3 >>> 1;
                case "base64":
                  return Z(e3).length;
                default:
                  if (i2)
                    return r3 ? -1 : U(e3).length;
                  t3 = ("" + t3).toLowerCase(), i2 = true;
              }
          }
          function m(e3, t3, n3) {
            var r3 = false;
            if ((void 0 === t3 || t3 < 0) && (t3 = 0), t3 > this.length)
              return "";
            if ((void 0 === n3 || n3 > this.length) && (n3 = this.length), n3 <= 0)
              return "";
            if ((n3 >>>= 0) <= (t3 >>>= 0))
              return "";
            for (e3 || (e3 = "utf8"); ; )
              switch (e3) {
                case "hex":
                  return D(this, t3, n3);
                case "utf8":
                case "utf-8":
                  return R(this, t3, n3);
                case "ascii":
                  return N(this, t3, n3);
                case "latin1":
                case "binary":
                  return C(this, t3, n3);
                case "base64":
                  return I(this, t3, n3);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return O(this, t3, n3);
                default:
                  if (r3)
                    throw new TypeError("Unknown encoding: " + e3);
                  e3 = (e3 + "").toLowerCase(), r3 = true;
              }
          }
          function y(e3, t3, n3) {
            var r3 = e3[t3];
            e3[t3] = e3[n3], e3[n3] = r3;
          }
          function E(e3, t3, n3, r3, i2) {
            if (0 === e3.length)
              return -1;
            if ("string" == typeof n3 ? (r3 = n3, n3 = 0) : n3 > 2147483647 ? n3 = 2147483647 : n3 < -2147483648 && (n3 = -2147483648), q(n3 = +n3) && (n3 = i2 ? 0 : e3.length - 1), n3 < 0 && (n3 = e3.length + n3), n3 >= e3.length) {
              if (i2)
                return -1;
              n3 = e3.length - 1;
            } else if (n3 < 0) {
              if (!i2)
                return -1;
              n3 = 0;
            }
            if ("string" == typeof t3 && (t3 = u.from(t3, r3)), u.isBuffer(t3))
              return 0 === t3.length ? -1 : v(e3, t3, n3, r3, i2);
            if ("number" == typeof t3)
              return t3 &= 255, "function" == typeof Uint8Array.prototype.indexOf ? i2 ? Uint8Array.prototype.indexOf.call(e3, t3, n3) : Uint8Array.prototype.lastIndexOf.call(e3, t3, n3) : v(e3, [t3], n3, r3, i2);
            throw new TypeError("val must be string, number or Buffer");
          }
          function v(e3, t3, n3, r3, i2) {
            var a3, o2 = 1, s3 = e3.length, u2 = t3.length;
            if (void 0 !== r3 && ("ucs2" === (r3 = String(r3).toLowerCase()) || "ucs-2" === r3 || "utf16le" === r3 || "utf-16le" === r3)) {
              if (e3.length < 2 || t3.length < 2)
                return -1;
              o2 = 2, s3 /= 2, u2 /= 2, n3 /= 2;
            }
            function l2(e4, t4) {
              return 1 === o2 ? e4[t4] : e4.readUInt16BE(t4 * o2);
            }
            if (i2) {
              var c2 = -1;
              for (a3 = n3; a3 < s3; a3++)
                if (l2(e3, a3) === l2(t3, -1 === c2 ? 0 : a3 - c2)) {
                  if (-1 === c2 && (c2 = a3), a3 - c2 + 1 === u2)
                    return c2 * o2;
                } else
                  -1 !== c2 && (a3 -= a3 - c2), c2 = -1;
            } else
              for (n3 + u2 > s3 && (n3 = s3 - u2), a3 = n3; a3 >= 0; a3--) {
                for (var f2 = true, d2 = 0; d2 < u2; d2++)
                  if (l2(e3, a3 + d2) !== l2(t3, d2)) {
                    f2 = false;
                    break;
                  }
                if (f2)
                  return a3;
              }
            return -1;
          }
          function _(e3, t3, n3, r3) {
            n3 = Number(n3) || 0;
            var i2 = e3.length - n3;
            r3 ? (r3 = Number(r3)) > i2 && (r3 = i2) : r3 = i2;
            var a3 = t3.length;
            r3 > a3 / 2 && (r3 = a3 / 2);
            for (var o2 = 0; o2 < r3; ++o2) {
              var s3 = parseInt(t3.substr(2 * o2, 2), 16);
              if (q(s3))
                return o2;
              e3[n3 + o2] = s3;
            }
            return o2;
          }
          function T(e3, t3, n3, r3) {
            return B(U(t3, e3.length - n3), e3, n3, r3);
          }
          function S(e3, t3, n3, r3) {
            return B(function(e4) {
              for (var t4 = [], n4 = 0; n4 < e4.length; ++n4)
                t4.push(255 & e4.charCodeAt(n4));
              return t4;
            }(t3), e3, n3, r3);
          }
          function b(e3, t3, n3, r3) {
            return B(Z(t3), e3, n3, r3);
          }
          function A(e3, t3, n3, r3) {
            return B(function(e4, t4) {
              for (var n4, r4, i2, a3 = [], o2 = 0; o2 < e4.length && !((t4 -= 2) < 0); ++o2)
                r4 = (n4 = e4.charCodeAt(o2)) >> 8, i2 = n4 % 256, a3.push(i2), a3.push(r4);
              return a3;
            }(t3, e3.length - n3), e3, n3, r3);
          }
          function I(e3, t3, n3) {
            return 0 === t3 && n3 === e3.length ? r2.fromByteArray(e3) : r2.fromByteArray(e3.slice(t3, n3));
          }
          function R(e3, t3, n3) {
            n3 = Math.min(e3.length, n3);
            for (var r3 = [], i2 = t3; i2 < n3; ) {
              var a3, o2, s3, u2, l2 = e3[i2], c2 = null, f2 = l2 > 239 ? 4 : l2 > 223 ? 3 : l2 > 191 ? 2 : 1;
              if (i2 + f2 <= n3)
                switch (f2) {
                  case 1:
                    l2 < 128 && (c2 = l2);
                    break;
                  case 2:
                    128 == (192 & (a3 = e3[i2 + 1])) && (u2 = (31 & l2) << 6 | 63 & a3) > 127 && (c2 = u2);
                    break;
                  case 3:
                    a3 = e3[i2 + 1], o2 = e3[i2 + 2], 128 == (192 & a3) && 128 == (192 & o2) && (u2 = (15 & l2) << 12 | (63 & a3) << 6 | 63 & o2) > 2047 && (u2 < 55296 || u2 > 57343) && (c2 = u2);
                    break;
                  case 4:
                    a3 = e3[i2 + 1], o2 = e3[i2 + 2], s3 = e3[i2 + 3], 128 == (192 & a3) && 128 == (192 & o2) && 128 == (192 & s3) && (u2 = (15 & l2) << 18 | (63 & a3) << 12 | (63 & o2) << 6 | 63 & s3) > 65535 && u2 < 1114112 && (c2 = u2);
                }
              null === c2 ? (c2 = 65533, f2 = 1) : c2 > 65535 && (c2 -= 65536, r3.push(c2 >>> 10 & 1023 | 55296), c2 = 56320 | 1023 & c2), r3.push(c2), i2 += f2;
            }
            return function(e4) {
              var t4 = e4.length;
              if (t4 <= w)
                return String.fromCharCode.apply(String, e4);
              for (var n4 = "", r4 = 0; r4 < t4; )
                n4 += String.fromCharCode.apply(String, e4.slice(r4, r4 += w));
              return n4;
            }(r3);
          }
          t2.kMaxLength = o, u.TYPED_ARRAY_SUPPORT = function() {
            try {
              var e3 = new Uint8Array(1), t3 = { foo: function() {
                return 42;
              } };
              return Object.setPrototypeOf(t3, Uint8Array.prototype), Object.setPrototypeOf(e3, t3), 42 === e3.foo();
            } catch (e4) {
              return false;
            }
          }(), u.TYPED_ARRAY_SUPPORT || "undefined" == typeof console || "function" != typeof console.error || console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."), Object.defineProperty(u.prototype, "parent", { enumerable: true, get: function() {
            if (u.isBuffer(this))
              return this.buffer;
          } }), Object.defineProperty(u.prototype, "offset", { enumerable: true, get: function() {
            if (u.isBuffer(this))
              return this.byteOffset;
          } }), u.poolSize = 8192, u.from = function(e3, t3, n3) {
            return l(e3, t3, n3);
          }, Object.setPrototypeOf(u.prototype, Uint8Array.prototype), Object.setPrototypeOf(u, Uint8Array), u.alloc = function(e3, t3, n3) {
            return function(e4, t4, n4) {
              return c(e4), e4 <= 0 ? s2(e4) : void 0 !== t4 ? "string" == typeof n4 ? s2(e4).fill(t4, n4) : s2(e4).fill(t4) : s2(e4);
            }(e3, t3, n3);
          }, u.allocUnsafe = function(e3) {
            return f(e3);
          }, u.allocUnsafeSlow = function(e3) {
            return f(e3);
          }, u.isBuffer = function(e3) {
            return null != e3 && true === e3._isBuffer && e3 !== u.prototype;
          }, u.compare = function(e3, t3) {
            if (G(e3, Uint8Array) && (e3 = u.from(e3, e3.offset, e3.byteLength)), G(t3, Uint8Array) && (t3 = u.from(t3, t3.offset, t3.byteLength)), !u.isBuffer(e3) || !u.isBuffer(t3))
              throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
            if (e3 === t3)
              return 0;
            for (var n3 = e3.length, r3 = t3.length, i2 = 0, a3 = Math.min(n3, r3); i2 < a3; ++i2)
              if (e3[i2] !== t3[i2]) {
                n3 = e3[i2], r3 = t3[i2];
                break;
              }
            return n3 < r3 ? -1 : r3 < n3 ? 1 : 0;
          }, u.isEncoding = function(e3) {
            switch (String(e3).toLowerCase()) {
              case "hex":
              case "utf8":
              case "utf-8":
              case "ascii":
              case "latin1":
              case "binary":
              case "base64":
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return true;
              default:
                return false;
            }
          }, u.concat = function(e3, t3) {
            if (!Array.isArray(e3))
              throw new TypeError('"list" argument must be an Array of Buffers');
            if (0 === e3.length)
              return u.alloc(0);
            var n3;
            if (void 0 === t3)
              for (t3 = 0, n3 = 0; n3 < e3.length; ++n3)
                t3 += e3[n3].length;
            var r3 = u.allocUnsafe(t3), i2 = 0;
            for (n3 = 0; n3 < e3.length; ++n3) {
              var a3 = e3[n3];
              if (G(a3, Uint8Array))
                i2 + a3.length > r3.length ? u.from(a3).copy(r3, i2) : Uint8Array.prototype.set.call(r3, a3, i2);
              else {
                if (!u.isBuffer(a3))
                  throw new TypeError('"list" argument must be an Array of Buffers');
                a3.copy(r3, i2);
              }
              i2 += a3.length;
            }
            return r3;
          }, u.byteLength = p, u.prototype._isBuffer = true, u.prototype.swap16 = function() {
            var e3 = this.length;
            if (e3 % 2 != 0)
              throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var t3 = 0; t3 < e3; t3 += 2)
              y(this, t3, t3 + 1);
            return this;
          }, u.prototype.swap32 = function() {
            var e3 = this.length;
            if (e3 % 4 != 0)
              throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var t3 = 0; t3 < e3; t3 += 4)
              y(this, t3, t3 + 3), y(this, t3 + 1, t3 + 2);
            return this;
          }, u.prototype.swap64 = function() {
            var e3 = this.length;
            if (e3 % 8 != 0)
              throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var t3 = 0; t3 < e3; t3 += 8)
              y(this, t3, t3 + 7), y(this, t3 + 1, t3 + 6), y(this, t3 + 2, t3 + 5), y(this, t3 + 3, t3 + 4);
            return this;
          }, u.prototype.toString = function() {
            var e3 = this.length;
            return 0 === e3 ? "" : 0 === arguments.length ? R(this, 0, e3) : m.apply(this, arguments);
          }, u.prototype.toLocaleString = u.prototype.toString, u.prototype.equals = function(e3) {
            if (!u.isBuffer(e3))
              throw new TypeError("Argument must be a Buffer");
            return this === e3 || 0 === u.compare(this, e3);
          }, u.prototype.inspect = function() {
            var e3 = "", n3 = t2.INSPECT_MAX_BYTES;
            return e3 = this.toString("hex", 0, n3).replace(/(.{2})/g, "$1 ").trim(), this.length > n3 && (e3 += " ... "), "<Buffer " + e3 + ">";
          }, a2 && (u.prototype[a2] = u.prototype.inspect), u.prototype.compare = function(e3, t3, n3, r3, i2) {
            if (G(e3, Uint8Array) && (e3 = u.from(e3, e3.offset, e3.byteLength)), !u.isBuffer(e3))
              throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof e3);
            if (void 0 === t3 && (t3 = 0), void 0 === n3 && (n3 = e3 ? e3.length : 0), void 0 === r3 && (r3 = 0), void 0 === i2 && (i2 = this.length), t3 < 0 || n3 > e3.length || r3 < 0 || i2 > this.length)
              throw new RangeError("out of range index");
            if (r3 >= i2 && t3 >= n3)
              return 0;
            if (r3 >= i2)
              return -1;
            if (t3 >= n3)
              return 1;
            if (this === e3)
              return 0;
            for (var a3 = (i2 >>>= 0) - (r3 >>>= 0), o2 = (n3 >>>= 0) - (t3 >>>= 0), s3 = Math.min(a3, o2), l2 = this.slice(r3, i2), c2 = e3.slice(t3, n3), f2 = 0; f2 < s3; ++f2)
              if (l2[f2] !== c2[f2]) {
                a3 = l2[f2], o2 = c2[f2];
                break;
              }
            return a3 < o2 ? -1 : o2 < a3 ? 1 : 0;
          }, u.prototype.includes = function(e3, t3, n3) {
            return -1 !== this.indexOf(e3, t3, n3);
          }, u.prototype.indexOf = function(e3, t3, n3) {
            return E(this, e3, t3, n3, true);
          }, u.prototype.lastIndexOf = function(e3, t3, n3) {
            return E(this, e3, t3, n3, false);
          }, u.prototype.write = function(e3, t3, n3, r3) {
            if (void 0 === t3)
              r3 = "utf8", n3 = this.length, t3 = 0;
            else if (void 0 === n3 && "string" == typeof t3)
              r3 = t3, n3 = this.length, t3 = 0;
            else {
              if (!isFinite(t3))
                throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
              t3 >>>= 0, isFinite(n3) ? (n3 >>>= 0, void 0 === r3 && (r3 = "utf8")) : (r3 = n3, n3 = void 0);
            }
            var i2 = this.length - t3;
            if ((void 0 === n3 || n3 > i2) && (n3 = i2), e3.length > 0 && (n3 < 0 || t3 < 0) || t3 > this.length)
              throw new RangeError("Attempt to write outside buffer bounds");
            r3 || (r3 = "utf8");
            for (var a3 = false; ; )
              switch (r3) {
                case "hex":
                  return _(this, e3, t3, n3);
                case "utf8":
                case "utf-8":
                  return T(this, e3, t3, n3);
                case "ascii":
                case "latin1":
                case "binary":
                  return S(this, e3, t3, n3);
                case "base64":
                  return b(this, e3, t3, n3);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return A(this, e3, t3, n3);
                default:
                  if (a3)
                    throw new TypeError("Unknown encoding: " + r3);
                  r3 = ("" + r3).toLowerCase(), a3 = true;
              }
          }, u.prototype.toJSON = function() {
            return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) };
          };
          var w = 4096;
          function N(e3, t3, n3) {
            var r3 = "";
            n3 = Math.min(e3.length, n3);
            for (var i2 = t3; i2 < n3; ++i2)
              r3 += String.fromCharCode(127 & e3[i2]);
            return r3;
          }
          function C(e3, t3, n3) {
            var r3 = "";
            n3 = Math.min(e3.length, n3);
            for (var i2 = t3; i2 < n3; ++i2)
              r3 += String.fromCharCode(e3[i2]);
            return r3;
          }
          function D(e3, t3, n3) {
            var r3 = e3.length;
            (!t3 || t3 < 0) && (t3 = 0), (!n3 || n3 < 0 || n3 > r3) && (n3 = r3);
            for (var i2 = "", a3 = t3; a3 < n3; ++a3)
              i2 += Y[e3[a3]];
            return i2;
          }
          function O(e3, t3, n3) {
            for (var r3 = e3.slice(t3, n3), i2 = "", a3 = 0; a3 < r3.length - 1; a3 += 2)
              i2 += String.fromCharCode(r3[a3] + 256 * r3[a3 + 1]);
            return i2;
          }
          function M(e3, t3, n3) {
            if (e3 % 1 != 0 || e3 < 0)
              throw new RangeError("offset is not uint");
            if (e3 + t3 > n3)
              throw new RangeError("Trying to access beyond buffer length");
          }
          function P(e3, t3, n3, r3, i2, a3) {
            if (!u.isBuffer(e3))
              throw new TypeError('"buffer" argument must be a Buffer instance');
            if (t3 > i2 || t3 < a3)
              throw new RangeError('"value" argument is out of bounds');
            if (n3 + r3 > e3.length)
              throw new RangeError("Index out of range");
          }
          function L(e3, t3, n3, r3, i2, a3) {
            if (n3 + r3 > e3.length)
              throw new RangeError("Index out of range");
            if (n3 < 0)
              throw new RangeError("Index out of range");
          }
          function F(e3, t3, n3, r3, a3) {
            return t3 = +t3, n3 >>>= 0, a3 || L(e3, 0, n3, 4), i.write(e3, t3, n3, r3, 23, 4), n3 + 4;
          }
          function x(e3, t3, n3, r3, a3) {
            return t3 = +t3, n3 >>>= 0, a3 || L(e3, 0, n3, 8), i.write(e3, t3, n3, r3, 52, 8), n3 + 8;
          }
          u.prototype.slice = function(e3, t3) {
            var n3 = this.length;
            (e3 = ~~e3) < 0 ? (e3 += n3) < 0 && (e3 = 0) : e3 > n3 && (e3 = n3), (t3 = void 0 === t3 ? n3 : ~~t3) < 0 ? (t3 += n3) < 0 && (t3 = 0) : t3 > n3 && (t3 = n3), t3 < e3 && (t3 = e3);
            var r3 = this.subarray(e3, t3);
            return Object.setPrototypeOf(r3, u.prototype), r3;
          }, u.prototype.readUintLE = u.prototype.readUIntLE = function(e3, t3, n3) {
            e3 >>>= 0, t3 >>>= 0, n3 || M(e3, t3, this.length);
            for (var r3 = this[e3], i2 = 1, a3 = 0; ++a3 < t3 && (i2 *= 256); )
              r3 += this[e3 + a3] * i2;
            return r3;
          }, u.prototype.readUintBE = u.prototype.readUIntBE = function(e3, t3, n3) {
            e3 >>>= 0, t3 >>>= 0, n3 || M(e3, t3, this.length);
            for (var r3 = this[e3 + --t3], i2 = 1; t3 > 0 && (i2 *= 256); )
              r3 += this[e3 + --t3] * i2;
            return r3;
          }, u.prototype.readUint8 = u.prototype.readUInt8 = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 1, this.length), this[e3];
          }, u.prototype.readUint16LE = u.prototype.readUInt16LE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 2, this.length), this[e3] | this[e3 + 1] << 8;
          }, u.prototype.readUint16BE = u.prototype.readUInt16BE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 2, this.length), this[e3] << 8 | this[e3 + 1];
          }, u.prototype.readUint32LE = u.prototype.readUInt32LE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), (this[e3] | this[e3 + 1] << 8 | this[e3 + 2] << 16) + 16777216 * this[e3 + 3];
          }, u.prototype.readUint32BE = u.prototype.readUInt32BE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), 16777216 * this[e3] + (this[e3 + 1] << 16 | this[e3 + 2] << 8 | this[e3 + 3]);
          }, u.prototype.readIntLE = function(e3, t3, n3) {
            e3 >>>= 0, t3 >>>= 0, n3 || M(e3, t3, this.length);
            for (var r3 = this[e3], i2 = 1, a3 = 0; ++a3 < t3 && (i2 *= 256); )
              r3 += this[e3 + a3] * i2;
            return r3 >= (i2 *= 128) && (r3 -= Math.pow(2, 8 * t3)), r3;
          }, u.prototype.readIntBE = function(e3, t3, n3) {
            e3 >>>= 0, t3 >>>= 0, n3 || M(e3, t3, this.length);
            for (var r3 = t3, i2 = 1, a3 = this[e3 + --r3]; r3 > 0 && (i2 *= 256); )
              a3 += this[e3 + --r3] * i2;
            return a3 >= (i2 *= 128) && (a3 -= Math.pow(2, 8 * t3)), a3;
          }, u.prototype.readInt8 = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 1, this.length), 128 & this[e3] ? -1 * (255 - this[e3] + 1) : this[e3];
          }, u.prototype.readInt16LE = function(e3, t3) {
            e3 >>>= 0, t3 || M(e3, 2, this.length);
            var n3 = this[e3] | this[e3 + 1] << 8;
            return 32768 & n3 ? 4294901760 | n3 : n3;
          }, u.prototype.readInt16BE = function(e3, t3) {
            e3 >>>= 0, t3 || M(e3, 2, this.length);
            var n3 = this[e3 + 1] | this[e3] << 8;
            return 32768 & n3 ? 4294901760 | n3 : n3;
          }, u.prototype.readInt32LE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), this[e3] | this[e3 + 1] << 8 | this[e3 + 2] << 16 | this[e3 + 3] << 24;
          }, u.prototype.readInt32BE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), this[e3] << 24 | this[e3 + 1] << 16 | this[e3 + 2] << 8 | this[e3 + 3];
          }, u.prototype.readFloatLE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), i.read(this, e3, true, 23, 4);
          }, u.prototype.readFloatBE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 4, this.length), i.read(this, e3, false, 23, 4);
          }, u.prototype.readDoubleLE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 8, this.length), i.read(this, e3, true, 52, 8);
          }, u.prototype.readDoubleBE = function(e3, t3) {
            return e3 >>>= 0, t3 || M(e3, 8, this.length), i.read(this, e3, false, 52, 8);
          }, u.prototype.writeUintLE = u.prototype.writeUIntLE = function(e3, t3, n3, r3) {
            e3 = +e3, t3 >>>= 0, n3 >>>= 0, r3 || P(this, e3, t3, n3, Math.pow(2, 8 * n3) - 1, 0);
            var i2 = 1, a3 = 0;
            for (this[t3] = 255 & e3; ++a3 < n3 && (i2 *= 256); )
              this[t3 + a3] = e3 / i2 & 255;
            return t3 + n3;
          }, u.prototype.writeUintBE = u.prototype.writeUIntBE = function(e3, t3, n3, r3) {
            e3 = +e3, t3 >>>= 0, n3 >>>= 0, r3 || P(this, e3, t3, n3, Math.pow(2, 8 * n3) - 1, 0);
            var i2 = n3 - 1, a3 = 1;
            for (this[t3 + i2] = 255 & e3; --i2 >= 0 && (a3 *= 256); )
              this[t3 + i2] = e3 / a3 & 255;
            return t3 + n3;
          }, u.prototype.writeUint8 = u.prototype.writeUInt8 = function(e3, t3, n3) {
            return e3 = +e3, t3 >>>= 0, n3 || P(this, e3, t3, 1, 255, 0), this[t3] = 255 & e3, t3 + 1;
          }, u.prototype.writeUint16LE = u.prototype.writeUInt16LE = function(e3, t3, n3) {
            return e3 = +e3, t3 >>>= 0, n3 || P(this, e3, t3, 2, 65535, 0), this[t3] = 255 & e3, this[t3 + 1] = e3 >>> 8, t3 + 2;
          }, u.prototype.writeUint16BE = u.prototype.writeUInt16BE = function(e3, t3, n3) {
            return e3 = +e3, t3 >>>= 0, n3 || P(this, e3, t3, 2, 65535, 0), this[t3] = e3 >>> 8, this[t3 + 1] = 255 & e3, t3 + 2;
          }, u.prototype.writeUint32LE = u.prototype.writeUInt32LE = function(e3, t3, n3) {
            return e3 = +e3, t3 >>>= 0, n3 || P(this, e3, t3, 4, 4294967295, 0), this[t3 + 3] = e3 >>> 24, this[t3 + 2] = e3 >>> 16, this[t3 + 1] = e3 >>> 8, this[t3] = 255 & e3, t3 + 4;
          }, u.prototype.writeUint32BE = u.prototype.writeUInt32BE = function(e3, t3, n3) {
            return e3 = +e3, t3 >>>= 0, n3 || P(this, e3, t3, 4, 4294967295, 0), this[t3] = e3 >>> 24, this[t3 + 1] = e3 >>> 16, this[t3 + 2] = e3 >>> 8, this[t3 + 3] = 255 & e3, t3 + 4;
          }, u.prototype.writeIntLE = function(e3, t3, n3, r3) {
            if (e3 = +e3, t3 >>>= 0, !r3) {
              var i2 = Math.pow(2, 8 * n3 - 1);
              P(this, e3, t3, n3, i2 - 1, -i2);
            }
            var a3 = 0, o2 = 1, s3 = 0;
            for (this[t3] = 255 & e3; ++a3 < n3 && (o2 *= 256); )
              e3 < 0 && 0 === s3 && 0 !== this[t3 + a3 - 1] && (s3 = 1), this[t3 + a3] = (e3 / o2 >> 0) - s3 & 255;
            return t3 + n3;
          }, u.prototype.writeIntBE = function(e3, t3, n3, r3) {
            if (e3 = +e3, t3 >>>= 0, !r3) {
              var i2 = Math.pow(2, 8 * n3 - 1);
              P(this, e3, t3, n3, i2 - 1, -i2);
            }
            var a3 = n3 - 1, o2 = 1, s3 = 0;
            for (this[t3 + a3] = 255 & e3; --a3 >= 0 && (o2 *= 256); )
              e3 < 0 && 0 === s3 && 0 !== this[t3 + a3 + 1] && (s3 = 1), this[t3 + a3] = (e3 / o2 >> 0) - s3 & 255;
            return t3 + n3;
          }, u.prototype.writeInt8 = function(e3, t3, n3) {
            return e3 = +e3, t3 >>>= 0, n3 || P(this, e3, t3, 1, 127, -128), e3 < 0 && (e3 = 255 + e3 + 1), this[t3] = 255 & e3, t3 + 1;
          }, u.prototype.writeInt16LE = function(e3, t3, n3) {
            return e3 = +e3, t3 >>>= 0, n3 || P(this, e3, t3, 2, 32767, -32768), this[t3] = 255 & e3, this[t3 + 1] = e3 >>> 8, t3 + 2;
          }, u.prototype.writeInt16BE = function(e3, t3, n3) {
            return e3 = +e3, t3 >>>= 0, n3 || P(this, e3, t3, 2, 32767, -32768), this[t3] = e3 >>> 8, this[t3 + 1] = 255 & e3, t3 + 2;
          }, u.prototype.writeInt32LE = function(e3, t3, n3) {
            return e3 = +e3, t3 >>>= 0, n3 || P(this, e3, t3, 4, 2147483647, -2147483648), this[t3] = 255 & e3, this[t3 + 1] = e3 >>> 8, this[t3 + 2] = e3 >>> 16, this[t3 + 3] = e3 >>> 24, t3 + 4;
          }, u.prototype.writeInt32BE = function(e3, t3, n3) {
            return e3 = +e3, t3 >>>= 0, n3 || P(this, e3, t3, 4, 2147483647, -2147483648), e3 < 0 && (e3 = 4294967295 + e3 + 1), this[t3] = e3 >>> 24, this[t3 + 1] = e3 >>> 16, this[t3 + 2] = e3 >>> 8, this[t3 + 3] = 255 & e3, t3 + 4;
          }, u.prototype.writeFloatLE = function(e3, t3, n3) {
            return F(this, e3, t3, true, n3);
          }, u.prototype.writeFloatBE = function(e3, t3, n3) {
            return F(this, e3, t3, false, n3);
          }, u.prototype.writeDoubleLE = function(e3, t3, n3) {
            return x(this, e3, t3, true, n3);
          }, u.prototype.writeDoubleBE = function(e3, t3, n3) {
            return x(this, e3, t3, false, n3);
          }, u.prototype.copy = function(e3, t3, n3, r3) {
            if (!u.isBuffer(e3))
              throw new TypeError("argument should be a Buffer");
            if (n3 || (n3 = 0), r3 || 0 === r3 || (r3 = this.length), t3 >= e3.length && (t3 = e3.length), t3 || (t3 = 0), r3 > 0 && r3 < n3 && (r3 = n3), r3 === n3)
              return 0;
            if (0 === e3.length || 0 === this.length)
              return 0;
            if (t3 < 0)
              throw new RangeError("targetStart out of bounds");
            if (n3 < 0 || n3 >= this.length)
              throw new RangeError("Index out of range");
            if (r3 < 0)
              throw new RangeError("sourceEnd out of bounds");
            r3 > this.length && (r3 = this.length), e3.length - t3 < r3 - n3 && (r3 = e3.length - t3 + n3);
            var i2 = r3 - n3;
            return this === e3 && "function" == typeof Uint8Array.prototype.copyWithin ? this.copyWithin(t3, n3, r3) : Uint8Array.prototype.set.call(e3, this.subarray(n3, r3), t3), i2;
          }, u.prototype.fill = function(e3, t3, n3, r3) {
            if ("string" == typeof e3) {
              if ("string" == typeof t3 ? (r3 = t3, t3 = 0, n3 = this.length) : "string" == typeof n3 && (r3 = n3, n3 = this.length), void 0 !== r3 && "string" != typeof r3)
                throw new TypeError("encoding must be a string");
              if ("string" == typeof r3 && !u.isEncoding(r3))
                throw new TypeError("Unknown encoding: " + r3);
              if (1 === e3.length) {
                var i2 = e3.charCodeAt(0);
                ("utf8" === r3 && i2 < 128 || "latin1" === r3) && (e3 = i2);
              }
            } else
              "number" == typeof e3 ? e3 &= 255 : "boolean" == typeof e3 && (e3 = Number(e3));
            if (t3 < 0 || this.length < t3 || this.length < n3)
              throw new RangeError("Out of range index");
            if (n3 <= t3)
              return this;
            var a3;
            if (t3 >>>= 0, n3 = void 0 === n3 ? this.length : n3 >>> 0, e3 || (e3 = 0), "number" == typeof e3)
              for (a3 = t3; a3 < n3; ++a3)
                this[a3] = e3;
            else {
              var o2 = u.isBuffer(e3) ? e3 : u.from(e3, r3), s3 = o2.length;
              if (0 === s3)
                throw new TypeError('The value "' + e3 + '" is invalid for argument "value"');
              for (a3 = 0; a3 < n3 - t3; ++a3)
                this[a3 + t3] = o2[a3 % s3];
            }
            return this;
          };
          var k = /[^+/0-9A-Za-z-_]/g;
          function U(e3, t3) {
            var n3;
            t3 = t3 || 1 / 0;
            for (var r3 = e3.length, i2 = null, a3 = [], o2 = 0; o2 < r3; ++o2) {
              if ((n3 = e3.charCodeAt(o2)) > 55295 && n3 < 57344) {
                if (!i2) {
                  if (n3 > 56319) {
                    (t3 -= 3) > -1 && a3.push(239, 191, 189);
                    continue;
                  }
                  if (o2 + 1 === r3) {
                    (t3 -= 3) > -1 && a3.push(239, 191, 189);
                    continue;
                  }
                  i2 = n3;
                  continue;
                }
                if (n3 < 56320) {
                  (t3 -= 3) > -1 && a3.push(239, 191, 189), i2 = n3;
                  continue;
                }
                n3 = 65536 + (i2 - 55296 << 10 | n3 - 56320);
              } else
                i2 && (t3 -= 3) > -1 && a3.push(239, 191, 189);
              if (i2 = null, n3 < 128) {
                if ((t3 -= 1) < 0)
                  break;
                a3.push(n3);
              } else if (n3 < 2048) {
                if ((t3 -= 2) < 0)
                  break;
                a3.push(n3 >> 6 | 192, 63 & n3 | 128);
              } else if (n3 < 65536) {
                if ((t3 -= 3) < 0)
                  break;
                a3.push(n3 >> 12 | 224, n3 >> 6 & 63 | 128, 63 & n3 | 128);
              } else {
                if (!(n3 < 1114112))
                  throw new Error("Invalid code point");
                if ((t3 -= 4) < 0)
                  break;
                a3.push(n3 >> 18 | 240, n3 >> 12 & 63 | 128, n3 >> 6 & 63 | 128, 63 & n3 | 128);
              }
            }
            return a3;
          }
          function Z(e3) {
            return r2.toByteArray(function(e4) {
              if ((e4 = (e4 = e4.split("=")[0]).trim().replace(k, "")).length < 2)
                return "";
              for (; e4.length % 4 != 0; )
                e4 += "=";
              return e4;
            }(e3));
          }
          function B(e3, t3, n3, r3) {
            for (var i2 = 0; i2 < r3 && !(i2 + n3 >= t3.length || i2 >= e3.length); ++i2)
              t3[i2 + n3] = e3[i2];
            return i2;
          }
          function G(e3, t3) {
            return e3 instanceof t3 || null != e3 && null != e3.constructor && null != e3.constructor.name && e3.constructor.name === t3.name;
          }
          function q(e3) {
            return e3 != e3;
          }
          var Y = function() {
            for (var e3 = "0123456789abcdef", t3 = new Array(256), n3 = 0; n3 < 16; ++n3)
              for (var r3 = 16 * n3, i2 = 0; i2 < 16; ++i2)
                t3[r3 + i2] = e3[n3] + e3[i2];
            return t3;
          }();
        }, 6693: function(e2, t2) {
          "use strict";
          t2.byteLength = function(e3) {
            var t3 = u(e3), n3 = t3[0], r3 = t3[1];
            return 3 * (n3 + r3) / 4 - r3;
          }, t2.toByteArray = function(e3) {
            var t3, n3, a3 = u(e3), o2 = a3[0], s3 = a3[1], l2 = new i(function(e4, t4, n4) {
              return 3 * (t4 + n4) / 4 - n4;
            }(0, o2, s3)), c = 0, f = s3 > 0 ? o2 - 4 : o2;
            for (n3 = 0; n3 < f; n3 += 4)
              t3 = r2[e3.charCodeAt(n3)] << 18 | r2[e3.charCodeAt(n3 + 1)] << 12 | r2[e3.charCodeAt(n3 + 2)] << 6 | r2[e3.charCodeAt(n3 + 3)], l2[c++] = t3 >> 16 & 255, l2[c++] = t3 >> 8 & 255, l2[c++] = 255 & t3;
            return 2 === s3 && (t3 = r2[e3.charCodeAt(n3)] << 2 | r2[e3.charCodeAt(n3 + 1)] >> 4, l2[c++] = 255 & t3), 1 === s3 && (t3 = r2[e3.charCodeAt(n3)] << 10 | r2[e3.charCodeAt(n3 + 1)] << 4 | r2[e3.charCodeAt(n3 + 2)] >> 2, l2[c++] = t3 >> 8 & 255, l2[c++] = 255 & t3), l2;
          }, t2.fromByteArray = function(e3) {
            for (var t3, r3 = e3.length, i2 = r3 % 3, a3 = [], o2 = 16383, s3 = 0, u2 = r3 - i2; s3 < u2; s3 += o2)
              a3.push(l(e3, s3, s3 + o2 > u2 ? u2 : s3 + o2));
            return 1 === i2 ? (t3 = e3[r3 - 1], a3.push(n2[t3 >> 2] + n2[t3 << 4 & 63] + "==")) : 2 === i2 && (t3 = (e3[r3 - 2] << 8) + e3[r3 - 1], a3.push(n2[t3 >> 10] + n2[t3 >> 4 & 63] + n2[t3 << 2 & 63] + "=")), a3.join("");
          };
          for (var n2 = [], r2 = [], i = "undefined" != typeof Uint8Array ? Uint8Array : Array, a2 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", o = 0, s2 = a2.length; o < s2; ++o)
            n2[o] = a2[o], r2[a2.charCodeAt(o)] = o;
          function u(e3) {
            var t3 = e3.length;
            if (t3 % 4 > 0)
              throw new Error("Invalid string. Length must be a multiple of 4");
            var n3 = e3.indexOf("=");
            return -1 === n3 && (n3 = t3), [n3, n3 === t3 ? 0 : 4 - n3 % 4];
          }
          function l(e3, t3, r3) {
            for (var i2, a3, o2 = [], s3 = t3; s3 < r3; s3 += 3)
              i2 = (e3[s3] << 16 & 16711680) + (e3[s3 + 1] << 8 & 65280) + (255 & e3[s3 + 2]), o2.push(n2[(a3 = i2) >> 18 & 63] + n2[a3 >> 12 & 63] + n2[a3 >> 6 & 63] + n2[63 & a3]);
            return o2.join("");
          }
          r2["-".charCodeAt(0)] = 62, r2["_".charCodeAt(0)] = 63;
        }, 2165: function(e2, t2) {
          t2.read = function(e3, t3, n2, r2, i) {
            var a2, o, s2 = 8 * i - r2 - 1, u = (1 << s2) - 1, l = u >> 1, c = -7, f = n2 ? i - 1 : 0, d = n2 ? -1 : 1, g = e3[t3 + f];
            for (f += d, a2 = g & (1 << -c) - 1, g >>= -c, c += s2; c > 0; a2 = 256 * a2 + e3[t3 + f], f += d, c -= 8)
              ;
            for (o = a2 & (1 << -c) - 1, a2 >>= -c, c += r2; c > 0; o = 256 * o + e3[t3 + f], f += d, c -= 8)
              ;
            if (0 === a2)
              a2 = 1 - l;
            else {
              if (a2 === u)
                return o ? NaN : 1 / 0 * (g ? -1 : 1);
              o += Math.pow(2, r2), a2 -= l;
            }
            return (g ? -1 : 1) * o * Math.pow(2, a2 - r2);
          }, t2.write = function(e3, t3, n2, r2, i, a2) {
            var o, s2, u, l = 8 * a2 - i - 1, c = (1 << l) - 1, f = c >> 1, d = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0, g = r2 ? 0 : a2 - 1, h = r2 ? 1 : -1, p = t3 < 0 || 0 === t3 && 1 / t3 < 0 ? 1 : 0;
            for (t3 = Math.abs(t3), isNaN(t3) || t3 === 1 / 0 ? (s2 = isNaN(t3) ? 1 : 0, o = c) : (o = Math.floor(Math.log(t3) / Math.LN2), t3 * (u = Math.pow(2, -o)) < 1 && (o--, u *= 2), (t3 += o + f >= 1 ? d / u : d * Math.pow(2, 1 - f)) * u >= 2 && (o++, u /= 2), o + f >= c ? (s2 = 0, o = c) : o + f >= 1 ? (s2 = (t3 * u - 1) * Math.pow(2, i), o += f) : (s2 = t3 * Math.pow(2, f - 1) * Math.pow(2, i), o = 0)); i >= 8; e3[n2 + g] = 255 & s2, g += h, s2 /= 256, i -= 8)
              ;
            for (o = o << i | s2, l += i; l > 0; e3[n2 + g] = 255 & o, g += h, o /= 256, l -= 8)
              ;
            e3[n2 + g - h] |= 128 * p;
          };
        }, 6934: function(e2, t2) {
          var n2 = { parseBuffer: function(e3) {
            return new r2(e3).parse();
          }, addBoxProcessor: function(e3, t3) {
            "string" == typeof e3 && "function" == typeof t3 && (i.prototype._boxProcessors[e3] = t3);
          }, createFile: function() {
            return new r2();
          }, createBox: function(e3, t3, n3) {
            var r3 = i.create(e3);
            return t3 && t3.append(r3, n3), r3;
          }, createFullBox: function(e3, t3, r3) {
            var i2 = n2.createBox(e3, t3, r3);
            return i2.version = 0, i2.flags = 0, i2;
          }, Utils: {} };
          n2.Utils.dataViewToString = function(e3, t3) {
            var n3 = t3 || "utf-8";
            if ("undefined" != typeof TextDecoder)
              return new TextDecoder(n3).decode(e3);
            var r3 = [], i2 = 0;
            if ("utf-8" === n3)
              for (; i2 < e3.byteLength; ) {
                var a2 = e3.getUint8(i2++);
                a2 < 128 || (a2 < 224 ? (a2 = (31 & a2) << 6, a2 |= 63 & e3.getUint8(i2++)) : a2 < 240 ? (a2 = (15 & a2) << 12, a2 |= (63 & e3.getUint8(i2++)) << 6, a2 |= 63 & e3.getUint8(i2++)) : (a2 = (7 & a2) << 18, a2 |= (63 & e3.getUint8(i2++)) << 12, a2 |= (63 & e3.getUint8(i2++)) << 6, a2 |= 63 & e3.getUint8(i2++))), r3.push(String.fromCharCode(a2));
              }
            else
              for (; i2 < e3.byteLength; )
                r3.push(String.fromCharCode(e3.getUint8(i2++)));
            return r3.join("");
          }, n2.Utils.utf8ToByteArray = function(e3) {
            var t3, n3;
            if ("undefined" != typeof TextEncoder)
              t3 = new TextEncoder().encode(e3);
            else
              for (t3 = [], n3 = 0; n3 < e3.length; ++n3) {
                var r3 = e3.charCodeAt(n3);
                r3 < 128 ? t3.push(r3) : r3 < 2048 ? (t3.push(192 | r3 >> 6), t3.push(128 | 63 & r3)) : r3 < 65536 ? (t3.push(224 | r3 >> 12), t3.push(128 | 63 & r3 >> 6), t3.push(128 | 63 & r3)) : (t3.push(240 | r3 >> 18), t3.push(128 | 63 & r3 >> 12), t3.push(128 | 63 & r3 >> 6), t3.push(128 | 63 & r3));
              }
            return t3;
          }, n2.Utils.appendBox = function(e3, t3, n3) {
            if (t3._offset = e3._cursor.offset, t3._root = e3._root ? e3._root : e3, t3._raw = e3._raw, t3._parent = e3, -1 !== n3)
              if (null != n3) {
                var r3, i2 = -1;
                if ("number" == typeof n3)
                  i2 = n3;
                else {
                  if ("string" == typeof n3)
                    r3 = n3;
                  else {
                    if ("object" != typeof n3 || !n3.type)
                      return void e3.boxes.push(t3);
                    r3 = n3.type;
                  }
                  for (var a2 = 0; a2 < e3.boxes.length; a2++)
                    if (r3 === e3.boxes[a2].type) {
                      i2 = a2 + 1;
                      break;
                    }
                }
                e3.boxes.splice(i2, 0, t3);
              } else
                e3.boxes.push(t3);
          }, t2.parseBuffer = n2.parseBuffer, t2.addBoxProcessor = n2.addBoxProcessor, t2.createFile = n2.createFile, t2.createBox = n2.createBox, t2.createFullBox = n2.createFullBox, t2.Utils = n2.Utils, n2.Cursor = function(e3) {
            this.offset = void 0 === e3 ? 0 : e3;
          };
          var r2 = function(e3) {
            this._cursor = new n2.Cursor(), this.boxes = [], e3 && (this._raw = new DataView(e3));
          };
          r2.prototype.fetch = function(e3) {
            var t3 = this.fetchAll(e3, true);
            return t3.length ? t3[0] : null;
          }, r2.prototype.fetchAll = function(e3, t3) {
            var n3 = [];
            return r2._sweep.call(this, e3, n3, t3), n3;
          }, r2.prototype.parse = function() {
            for (this._cursor.offset = 0, this.boxes = []; this._cursor.offset < this._raw.byteLength; ) {
              var e3 = i.parse(this);
              if (void 0 === e3.type)
                break;
              this.boxes.push(e3);
            }
            return this;
          }, r2._sweep = function(e3, t3, n3) {
            for (var i2 in this.type && this.type == e3 && t3.push(this), this.boxes) {
              if (t3.length && n3)
                return;
              r2._sweep.call(this.boxes[i2], e3, t3, n3);
            }
          }, r2.prototype.write = function() {
            var e3, t3 = 0;
            for (e3 = 0; e3 < this.boxes.length; e3++)
              t3 += this.boxes[e3].getLength(false);
            var n3 = new Uint8Array(t3);
            for (this._rawo = new DataView(n3.buffer), this.bytes = n3, this._cursor.offset = 0, e3 = 0; e3 < this.boxes.length; e3++)
              this.boxes[e3].write();
            return n3.buffer;
          }, r2.prototype.append = function(e3, t3) {
            n2.Utils.appendBox(this, e3, t3);
          };
          var i = function() {
            this._cursor = new n2.Cursor();
          };
          i.parse = function(e3) {
            var t3 = new i();
            return t3._offset = e3._cursor.offset, t3._root = e3._root ? e3._root : e3, t3._raw = e3._raw, t3._parent = e3, t3._parseBox(), e3._cursor.offset = t3._raw.byteOffset + t3._raw.byteLength, t3;
          }, i.create = function(e3) {
            var t3 = new i();
            return t3.type = e3, t3.boxes = [], t3;
          }, i.prototype._boxContainers = ["dinf", "edts", "mdia", "meco", "mfra", "minf", "moof", "moov", "mvex", "stbl", "strk", "traf", "trak", "tref", "udta", "vttc", "sinf", "schi", "encv", "enca"], i.prototype._boxProcessors = {}, i.prototype._procField = function(e3, t3, n3) {
            this._parsing ? this[e3] = this._readField(t3, n3) : this._writeField(t3, n3, this[e3]);
          }, i.prototype._procFieldArray = function(e3, t3, n3, r3) {
            var i2;
            if (this._parsing)
              for (this[e3] = [], i2 = 0; i2 < t3; i2++)
                this[e3][i2] = this._readField(n3, r3);
            else
              for (i2 = 0; i2 < this[e3].length; i2++)
                this._writeField(n3, r3, this[e3][i2]);
          }, i.prototype._procFullBox = function() {
            this._procField("version", "uint", 8), this._procField("flags", "uint", 24);
          }, i.prototype._procEntries = function(e3, t3, n3) {
            var r3;
            if (this._parsing)
              for (this[e3] = [], r3 = 0; r3 < t3; r3++)
                this[e3].push({}), n3.call(this, this[e3][r3]);
            else
              for (r3 = 0; r3 < t3; r3++)
                n3.call(this, this[e3][r3]);
          }, i.prototype._procSubEntries = function(e3, t3, n3, r3) {
            var i2;
            if (this._parsing)
              for (e3[t3] = [], i2 = 0; i2 < n3; i2++)
                e3[t3].push({}), r3.call(this, e3[t3][i2]);
            else
              for (i2 = 0; i2 < n3; i2++)
                r3.call(this, e3[t3][i2]);
          }, i.prototype._procEntryField = function(e3, t3, n3, r3) {
            this._parsing ? e3[t3] = this._readField(n3, r3) : this._writeField(n3, r3, e3[t3]);
          }, i.prototype._procSubBoxes = function(e3, t3) {
            var n3;
            if (this._parsing)
              for (this[e3] = [], n3 = 0; n3 < t3; n3++)
                this[e3].push(i.parse(this));
            else
              for (n3 = 0; n3 < t3; n3++)
                this._rawo ? this[e3][n3].write() : this.size += this[e3][n3].getLength();
          }, i.prototype._readField = function(e3, t3) {
            switch (e3) {
              case "uint":
                return this._readUint(t3);
              case "int":
                return this._readInt(t3);
              case "template":
                return this._readTemplate(t3);
              case "string":
                return -1 === t3 ? this._readTerminatedString() : this._readString(t3);
              case "data":
                return this._readData(t3);
              case "utf8":
                return this._readUTF8String();
              default:
                return -1;
            }
          }, i.prototype._readInt = function(e3) {
            var t3 = null, n3 = this._cursor.offset - this._raw.byteOffset;
            switch (e3) {
              case 8:
                t3 = this._raw.getInt8(n3);
                break;
              case 16:
                t3 = this._raw.getInt16(n3);
                break;
              case 32:
                t3 = this._raw.getInt32(n3);
                break;
              case 64:
                var r3 = this._raw.getInt32(n3), i2 = this._raw.getInt32(n3 + 4);
                t3 = r3 * Math.pow(2, 32) + i2;
            }
            return this._cursor.offset += e3 >> 3, t3;
          }, i.prototype._readUint = function(e3) {
            var t3, n3, r3 = null, i2 = this._cursor.offset - this._raw.byteOffset;
            switch (e3) {
              case 8:
                r3 = this._raw.getUint8(i2);
                break;
              case 16:
                r3 = this._raw.getUint16(i2);
                break;
              case 24:
                r3 = ((t3 = this._raw.getUint16(i2)) << 8) + (n3 = this._raw.getUint8(i2 + 2));
                break;
              case 32:
                r3 = this._raw.getUint32(i2);
                break;
              case 64:
                t3 = this._raw.getUint32(i2), n3 = this._raw.getUint32(i2 + 4), r3 = t3 * Math.pow(2, 32) + n3;
            }
            return this._cursor.offset += e3 >> 3, r3;
          }, i.prototype._readString = function(e3) {
            for (var t3 = "", n3 = 0; n3 < e3; n3++) {
              var r3 = this._readUint(8);
              t3 += String.fromCharCode(r3);
            }
            return t3;
          }, i.prototype._readTemplate = function(e3) {
            return this._readUint(e3 / 2) + this._readUint(e3 / 2) / Math.pow(2, e3 / 2);
          }, i.prototype._readTerminatedString = function() {
            for (var e3 = ""; this._cursor.offset - this._offset < this._raw.byteLength; ) {
              var t3 = this._readUint(8);
              if (0 === t3)
                break;
              e3 += String.fromCharCode(t3);
            }
            return e3;
          }, i.prototype._readData = function(e3) {
            var t3 = e3 > 0 ? e3 : this._raw.byteLength - (this._cursor.offset - this._offset);
            if (t3 > 0) {
              var n3 = new Uint8Array(this._raw.buffer, this._cursor.offset, t3);
              return this._cursor.offset += t3, n3;
            }
            return null;
          }, i.prototype._readUTF8String = function() {
            var e3 = this._raw.byteLength - (this._cursor.offset - this._offset), t3 = null;
            return e3 > 0 && (t3 = new DataView(this._raw.buffer, this._cursor.offset, e3), this._cursor.offset += e3), t3 ? n2.Utils.dataViewToString(t3) : t3;
          }, i.prototype._parseBox = function() {
            if (this._parsing = true, this._cursor.offset = this._offset, this._offset + 8 > this._raw.buffer.byteLength)
              this._root._incomplete = true;
            else {
              switch (this._procField("size", "uint", 32), this._procField("type", "string", 4), 1 === this.size && this._procField("largesize", "uint", 64), "uuid" === this.type && this._procFieldArray("usertype", 16, "uint", 8), this.size) {
                case 0:
                  this._raw = new DataView(this._raw.buffer, this._offset);
                  break;
                case 1:
                  this._offset + this.size > this._raw.buffer.byteLength ? (this._incomplete = true, this._root._incomplete = true) : this._raw = new DataView(this._raw.buffer, this._offset, this.largesize);
                  break;
                default:
                  this._offset + this.size > this._raw.buffer.byteLength ? (this._incomplete = true, this._root._incomplete = true) : this._raw = new DataView(this._raw.buffer, this._offset, this.size);
              }
              this._incomplete || (this._boxProcessors[this.type] && this._boxProcessors[this.type].call(this), -1 !== this._boxContainers.indexOf(this.type) ? this._parseContainerBox() : this._data = this._readData());
            }
          }, i.prototype._parseFullBox = function() {
            this.version = this._readUint(8), this.flags = this._readUint(24);
          }, i.prototype._parseContainerBox = function() {
            for (this.boxes = []; this._cursor.offset - this._raw.byteOffset < this._raw.byteLength; )
              this.boxes.push(i.parse(this));
          }, i.prototype.append = function(e3, t3) {
            n2.Utils.appendBox(this, e3, t3);
          }, i.prototype.getLength = function() {
            if (this._parsing = false, this._rawo = null, this.size = 0, this._procField("size", "uint", 32), this._procField("type", "string", 4), 1 === this.size && this._procField("largesize", "uint", 64), "uuid" === this.type && this._procFieldArray("usertype", 16, "uint", 8), this._boxProcessors[this.type] && this._boxProcessors[this.type].call(this), -1 !== this._boxContainers.indexOf(this.type))
              for (var e3 = 0; e3 < this.boxes.length; e3++)
                this.size += this.boxes[e3].getLength();
            return this._data && this._writeData(this._data), this.size;
          }, i.prototype.write = function() {
            switch (this._parsing = false, this._cursor.offset = this._parent._cursor.offset, this.size) {
              case 0:
                this._rawo = new DataView(this._parent._rawo.buffer, this._cursor.offset, this.parent._rawo.byteLength - this._cursor.offset);
                break;
              case 1:
                this._rawo = new DataView(this._parent._rawo.buffer, this._cursor.offset, this.largesize);
                break;
              default:
                this._rawo = new DataView(this._parent._rawo.buffer, this._cursor.offset, this.size);
            }
            if (this._procField("size", "uint", 32), this._procField("type", "string", 4), 1 === this.size && this._procField("largesize", "uint", 64), "uuid" === this.type && this._procFieldArray("usertype", 16, "uint", 8), this._boxProcessors[this.type] && this._boxProcessors[this.type].call(this), -1 !== this._boxContainers.indexOf(this.type))
              for (var e3 = 0; e3 < this.boxes.length; e3++)
                this.boxes[e3].write();
            return this._data && this._writeData(this._data), this._parent._cursor.offset += this.size, this.size;
          }, i.prototype._writeInt = function(e3, t3) {
            if (this._rawo) {
              var n3 = this._cursor.offset - this._rawo.byteOffset;
              switch (e3) {
                case 8:
                  this._rawo.setInt8(n3, t3);
                  break;
                case 16:
                  this._rawo.setInt16(n3, t3);
                  break;
                case 32:
                  this._rawo.setInt32(n3, t3);
                  break;
                case 64:
                  var r3 = Math.floor(t3 / Math.pow(2, 32)), i2 = t3 - r3 * Math.pow(2, 32);
                  this._rawo.setUint32(n3, r3), this._rawo.setUint32(n3 + 4, i2);
              }
              this._cursor.offset += e3 >> 3;
            } else
              this.size += e3 >> 3;
          }, i.prototype._writeUint = function(e3, t3) {
            if (this._rawo) {
              var n3, r3, i2 = this._cursor.offset - this._rawo.byteOffset;
              switch (e3) {
                case 8:
                  this._rawo.setUint8(i2, t3);
                  break;
                case 16:
                  this._rawo.setUint16(i2, t3);
                  break;
                case 24:
                  n3 = (16776960 & t3) >> 8, r3 = 255 & t3, this._rawo.setUint16(i2, n3), this._rawo.setUint8(i2 + 2, r3);
                  break;
                case 32:
                  this._rawo.setUint32(i2, t3);
                  break;
                case 64:
                  r3 = t3 - (n3 = Math.floor(t3 / Math.pow(2, 32))) * Math.pow(2, 32), this._rawo.setUint32(i2, n3), this._rawo.setUint32(i2 + 4, r3);
              }
              this._cursor.offset += e3 >> 3;
            } else
              this.size += e3 >> 3;
          }, i.prototype._writeString = function(e3, t3) {
            for (var n3 = 0; n3 < e3; n3++)
              this._writeUint(8, t3.charCodeAt(n3));
          }, i.prototype._writeTerminatedString = function(e3) {
            if (0 !== e3.length) {
              for (var t3 = 0; t3 < e3.length; t3++)
                this._writeUint(8, e3.charCodeAt(t3));
              this._writeUint(8, 0);
            }
          }, i.prototype._writeTemplate = function(e3, t3) {
            var n3 = Math.floor(t3), r3 = (t3 - n3) * Math.pow(2, e3 / 2);
            this._writeUint(e3 / 2, n3), this._writeUint(e3 / 2, r3);
          }, i.prototype._writeData = function(e3) {
            if (e3)
              if (this._rawo) {
                if (e3 instanceof Array) {
                  for (var t3 = this._cursor.offset - this._rawo.byteOffset, n3 = 0; n3 < e3.length; n3++)
                    this._rawo.setInt8(t3 + n3, e3[n3]);
                  this._cursor.offset += e3.length;
                }
                e3 instanceof Uint8Array && (this._root.bytes.set(e3, this._cursor.offset), this._cursor.offset += e3.length);
              } else
                this.size += e3.length;
          }, i.prototype._writeUTF8String = function(e3) {
            var t3 = n2.Utils.utf8ToByteArray(e3);
            if (this._rawo)
              for (var r3 = new DataView(this._rawo.buffer, this._cursor.offset, t3.length), i2 = 0; i2 < t3.length; i2++)
                r3.setUint8(i2, t3[i2]);
            else
              this.size += t3.length;
          }, i.prototype._writeField = function(e3, t3, n3) {
            switch (e3) {
              case "uint":
                this._writeUint(t3, n3);
                break;
              case "int":
                this._writeInt(t3, n3);
                break;
              case "template":
                this._writeTemplate(t3, n3);
                break;
              case "string":
                -1 == t3 ? this._writeTerminatedString(n3) : this._writeString(t3, n3);
                break;
              case "data":
                this._writeData(n3);
                break;
              case "utf8":
                this._writeUTF8String(n3);
            }
          }, i.prototype._boxProcessors.avc1 = i.prototype._boxProcessors.avc2 = i.prototype._boxProcessors.avc3 = i.prototype._boxProcessors.avc4 = i.prototype._boxProcessors.hvc1 = i.prototype._boxProcessors.hev1 = i.prototype._boxProcessors.encv = function() {
            this._procFieldArray("reserved1", 6, "uint", 8), this._procField("data_reference_index", "uint", 16), this._procField("pre_defined1", "uint", 16), this._procField("reserved2", "uint", 16), this._procFieldArray("pre_defined2", 3, "uint", 32), this._procField("width", "uint", 16), this._procField("height", "uint", 16), this._procField("horizresolution", "template", 32), this._procField("vertresolution", "template", 32), this._procField("reserved3", "uint", 32), this._procField("frame_count", "uint", 16), this._procFieldArray("compressorname", 32, "uint", 8), this._procField("depth", "uint", 16), this._procField("pre_defined3", "int", 16), this._procField("config", "data", -1);
          }, i.prototype._boxProcessors.ctts = function() {
            this._procFullBox(), this._procField("entry_count", "uint", 32), this._procEntries("entries", this.entry_count, function(e3) {
              this._procEntryField(e3, "sample_count", "uint", 32), this._procEntryField(e3, "sample_offset", 1 === this.version ? "int" : "uint", 32);
            });
          }, i.prototype._boxProcessors.dref = function() {
            this._procFullBox(), this._procField("entry_count", "uint", 32), this._procSubBoxes("entries", this.entry_count);
          }, i.prototype._boxProcessors.elst = function() {
            this._procFullBox(), this._procField("entry_count", "uint", 32), this._procEntries("entries", this.entry_count, function(e3) {
              this._procEntryField(e3, "segment_duration", "uint", 1 === this.version ? 64 : 32), this._procEntryField(e3, "media_time", "int", 1 === this.version ? 64 : 32), this._procEntryField(e3, "media_rate_integer", "int", 16), this._procEntryField(e3, "media_rate_fraction", "int", 16);
            });
          }, i.prototype._boxProcessors.emsg = function() {
            this._procFullBox(), 1 == this.version ? (this._procField("timescale", "uint", 32), this._procField("presentation_time", "uint", 64), this._procField("event_duration", "uint", 32), this._procField("id", "uint", 32), this._procField("scheme_id_uri", "string", -1), this._procField("value", "string", -1)) : (this._procField("scheme_id_uri", "string", -1), this._procField("value", "string", -1), this._procField("timescale", "uint", 32), this._procField("presentation_time_delta", "uint", 32), this._procField("event_duration", "uint", 32), this._procField("id", "uint", 32)), this._procField("message_data", "data", -1);
          }, i.prototype._boxProcessors.free = i.prototype._boxProcessors.skip = function() {
            this._procField("data", "data", -1);
          }, i.prototype._boxProcessors.frma = function() {
            this._procField("data_format", "uint", 32);
          }, i.prototype._boxProcessors.ftyp = i.prototype._boxProcessors.styp = function() {
            this._procField("major_brand", "string", 4), this._procField("minor_version", "uint", 32);
            var e3 = -1;
            this._parsing && (e3 = (this._raw.byteLength - (this._cursor.offset - this._raw.byteOffset)) / 4), this._procFieldArray("compatible_brands", e3, "string", 4);
          }, i.prototype._boxProcessors.hdlr = function() {
            this._procFullBox(), this._procField("pre_defined", "uint", 32), this._procField("handler_type", "string", 4), this._procFieldArray("reserved", 3, "uint", 32), this._procField("name", "string", -1);
          }, i.prototype._boxProcessors.mdat = function() {
            this._procField("data", "data", -1);
          }, i.prototype._boxProcessors.mdhd = function() {
            this._procFullBox(), this._procField("creation_time", "uint", 1 == this.version ? 64 : 32), this._procField("modification_time", "uint", 1 == this.version ? 64 : 32), this._procField("timescale", "uint", 32), this._procField("duration", "uint", 1 == this.version ? 64 : 32), this._parsing || "string" != typeof this.language || (this.language = this.language.charCodeAt(0) - 96 << 10 | this.language.charCodeAt(1) - 96 << 5 | this.language.charCodeAt(2) - 96), this._procField("language", "uint", 16), this._parsing && (this.language = String.fromCharCode(96 + (this.language >> 10 & 31), 96 + (this.language >> 5 & 31), 96 + (31 & this.language))), this._procField("pre_defined", "uint", 16);
          }, i.prototype._boxProcessors.mehd = function() {
            this._procFullBox(), this._procField("fragment_duration", "uint", 1 == this.version ? 64 : 32);
          }, i.prototype._boxProcessors.mfhd = function() {
            this._procFullBox(), this._procField("sequence_number", "uint", 32);
          }, i.prototype._boxProcessors.mfro = function() {
            this._procFullBox(), this._procField("mfra_size", "uint", 32);
          }, i.prototype._boxProcessors.mp4a = i.prototype._boxProcessors.enca = function() {
            this._procFieldArray("reserved1", 6, "uint", 8), this._procField("data_reference_index", "uint", 16), this._procFieldArray("reserved2", 2, "uint", 32), this._procField("channelcount", "uint", 16), this._procField("samplesize", "uint", 16), this._procField("pre_defined", "uint", 16), this._procField("reserved3", "uint", 16), this._procField("samplerate", "template", 32), this._procField("esds", "data", -1);
          }, i.prototype._boxProcessors.mvhd = function() {
            this._procFullBox(), this._procField("creation_time", "uint", 1 == this.version ? 64 : 32), this._procField("modification_time", "uint", 1 == this.version ? 64 : 32), this._procField("timescale", "uint", 32), this._procField("duration", "uint", 1 == this.version ? 64 : 32), this._procField("rate", "template", 32), this._procField("volume", "template", 16), this._procField("reserved1", "uint", 16), this._procFieldArray("reserved2", 2, "uint", 32), this._procFieldArray("matrix", 9, "template", 32), this._procFieldArray("pre_defined", 6, "uint", 32), this._procField("next_track_ID", "uint", 32);
          }, i.prototype._boxProcessors.payl = function() {
            this._procField("cue_text", "utf8");
          }, i.prototype._boxProcessors.prft = function() {
            this._procFullBox(), this._procField("reference_track_ID", "uint", 32), this._procField("ntp_timestamp_sec", "uint", 32), this._procField("ntp_timestamp_frac", "uint", 32), this._procField("media_time", "uint", 1 == this.version ? 64 : 32);
          }, i.prototype._boxProcessors.pssh = function() {
            this._procFullBox(), this._procFieldArray("SystemID", 16, "uint", 8), this._procField("DataSize", "uint", 32), this._procFieldArray("Data", this.DataSize, "uint", 8);
          }, i.prototype._boxProcessors.schm = function() {
            this._procFullBox(), this._procField("scheme_type", "uint", 32), this._procField("scheme_version", "uint", 32), 1 & this.flags && this._procField("scheme_uri", "string", -1);
          }, i.prototype._boxProcessors.sdtp = function() {
            this._procFullBox();
            var e3 = -1;
            this._parsing && (e3 = this._raw.byteLength - (this._cursor.offset - this._raw.byteOffset)), this._procFieldArray("sample_dependency_table", e3, "uint", 8);
          }, i.prototype._boxProcessors.sidx = function() {
            this._procFullBox(), this._procField("reference_ID", "uint", 32), this._procField("timescale", "uint", 32), this._procField("earliest_presentation_time", "uint", 1 == this.version ? 64 : 32), this._procField("first_offset", "uint", 1 == this.version ? 64 : 32), this._procField("reserved", "uint", 16), this._procField("reference_count", "uint", 16), this._procEntries("references", this.reference_count, function(e3) {
              this._parsing || (e3.reference = (1 & e3.reference_type) << 31, e3.reference |= 2147483647 & e3.referenced_size, e3.sap = (1 & e3.starts_with_SAP) << 31, e3.sap |= (3 & e3.SAP_type) << 28, e3.sap |= 268435455 & e3.SAP_delta_time), this._procEntryField(e3, "reference", "uint", 32), this._procEntryField(e3, "subsegment_duration", "uint", 32), this._procEntryField(e3, "sap", "uint", 32), this._parsing && (e3.reference_type = e3.reference >> 31 & 1, e3.referenced_size = 2147483647 & e3.reference, e3.starts_with_SAP = e3.sap >> 31 & 1, e3.SAP_type = e3.sap >> 28 & 7, e3.SAP_delta_time = 268435455 & e3.sap);
            });
          }, i.prototype._boxProcessors.smhd = function() {
            this._procFullBox(), this._procField("balance", "uint", 16), this._procField("reserved", "uint", 16);
          }, i.prototype._boxProcessors.ssix = function() {
            this._procFullBox(), this._procField("subsegment_count", "uint", 32), this._procEntries("subsegments", this.subsegment_count, function(e3) {
              this._procEntryField(e3, "ranges_count", "uint", 32), this._procSubEntries(e3, "ranges", e3.ranges_count, function(e4) {
                this._procEntryField(e4, "level", "uint", 8), this._procEntryField(e4, "range_size", "uint", 24);
              });
            });
          }, i.prototype._boxProcessors.stsd = function() {
            this._procFullBox(), this._procField("entry_count", "uint", 32), this._procSubBoxes("entries", this.entry_count);
          }, i.prototype._boxProcessors.sttg = function() {
            this._procField("settings", "utf8");
          }, i.prototype._boxProcessors.stts = function() {
            this._procFullBox(), this._procField("entry_count", "uint", 32), this._procEntries("entries", this.entry_count, function(e3) {
              this._procEntryField(e3, "sample_count", "uint", 32), this._procEntryField(e3, "sample_delta", "uint", 32);
            });
          }, i.prototype._boxProcessors.subs = function() {
            this._procFullBox(), this._procField("entry_count", "uint", 32), this._procEntries("entries", this.entry_count, function(e3) {
              this._procEntryField(e3, "sample_delta", "uint", 32), this._procEntryField(e3, "subsample_count", "uint", 16), this._procSubEntries(e3, "subsamples", e3.subsample_count, function(e4) {
                this._procEntryField(e4, "subsample_size", "uint", 1 === this.version ? 32 : 16), this._procEntryField(e4, "subsample_priority", "uint", 8), this._procEntryField(e4, "discardable", "uint", 8), this._procEntryField(e4, "codec_specific_parameters", "uint", 32);
              });
            });
          }, i.prototype._boxProcessors.tenc = function() {
            this._procFullBox(), this._procField("default_IsEncrypted", "uint", 24), this._procField("default_IV_size", "uint", 8), this._procFieldArray("default_KID", 16, "uint", 8);
          }, i.prototype._boxProcessors.tfdt = function() {
            this._procFullBox(), this._procField("baseMediaDecodeTime", "uint", 1 == this.version ? 64 : 32);
          }, i.prototype._boxProcessors.tfhd = function() {
            this._procFullBox(), this._procField("track_ID", "uint", 32), 1 & this.flags && this._procField("base_data_offset", "uint", 64), 2 & this.flags && this._procField("sample_description_offset", "uint", 32), 8 & this.flags && this._procField("default_sample_duration", "uint", 32), 16 & this.flags && this._procField("default_sample_size", "uint", 32), 32 & this.flags && this._procField("default_sample_flags", "uint", 32);
          }, i.prototype._boxProcessors.tfra = function() {
            this._procFullBox(), this._procField("track_ID", "uint", 32), this._parsing || (this.reserved = 0, this.reserved |= (48 & this.length_size_of_traf_num) << 4, this.reserved |= (12 & this.length_size_of_trun_num) << 2, this.reserved |= 3 & this.length_size_of_sample_num), this._procField("reserved", "uint", 32), this._parsing && (this.length_size_of_traf_num = (48 & this.reserved) >> 4, this.length_size_of_trun_num = (12 & this.reserved) >> 2, this.length_size_of_sample_num = 3 & this.reserved), this._procField("number_of_entry", "uint", 32), this._procEntries("entries", this.number_of_entry, function(e3) {
              this._procEntryField(e3, "time", "uint", 1 === this.version ? 64 : 32), this._procEntryField(e3, "moof_offset", "uint", 1 === this.version ? 64 : 32), this._procEntryField(e3, "traf_number", "uint", 8 * (this.length_size_of_traf_num + 1)), this._procEntryField(e3, "trun_number", "uint", 8 * (this.length_size_of_trun_num + 1)), this._procEntryField(e3, "sample_number", "uint", 8 * (this.length_size_of_sample_num + 1));
            });
          }, i.prototype._boxProcessors.tkhd = function() {
            this._procFullBox(), this._procField("creation_time", "uint", 1 == this.version ? 64 : 32), this._procField("modification_time", "uint", 1 == this.version ? 64 : 32), this._procField("track_ID", "uint", 32), this._procField("reserved1", "uint", 32), this._procField("duration", "uint", 1 == this.version ? 64 : 32), this._procFieldArray("reserved2", 2, "uint", 32), this._procField("layer", "uint", 16), this._procField("alternate_group", "uint", 16), this._procField("volume", "template", 16), this._procField("reserved3", "uint", 16), this._procFieldArray("matrix", 9, "template", 32), this._procField("width", "template", 32), this._procField("height", "template", 32);
          }, i.prototype._boxProcessors.trex = function() {
            this._procFullBox(), this._procField("track_ID", "uint", 32), this._procField("default_sample_description_index", "uint", 32), this._procField("default_sample_duration", "uint", 32), this._procField("default_sample_size", "uint", 32), this._procField("default_sample_flags", "uint", 32);
          }, i.prototype._boxProcessors.trun = function() {
            this._procFullBox(), this._procField("sample_count", "uint", 32), 1 & this.flags && this._procField("data_offset", "int", 32), 4 & this.flags && this._procField("first_sample_flags", "uint", 32), this._procEntries("samples", this.sample_count, function(e3) {
              256 & this.flags && this._procEntryField(e3, "sample_duration", "uint", 32), 512 & this.flags && this._procEntryField(e3, "sample_size", "uint", 32), 1024 & this.flags && this._procEntryField(e3, "sample_flags", "uint", 32), 2048 & this.flags && this._procEntryField(e3, "sample_composition_time_offset", 1 === this.version ? "int" : "uint", 32);
            });
          }, i.prototype._boxProcessors["url "] = i.prototype._boxProcessors["urn "] = function() {
            this._procFullBox(), "urn " === this.type && this._procField("name", "string", -1), this._procField("location", "string", -1);
          }, i.prototype._boxProcessors.vlab = function() {
            this._procField("source_label", "utf8");
          }, i.prototype._boxProcessors.vmhd = function() {
            this._procFullBox(), this._procField("graphicsmode", "uint", 16), this._procFieldArray("opcolor", 3, "uint", 16);
          }, i.prototype._boxProcessors.vttC = function() {
            this._procField("config", "utf8");
          }, i.prototype._boxProcessors.vtte = function() {
          };
        }, 5530: function(e2, t2, n2) {
          "use strict";
          e2.exports = n2(6146).polyfill();
        }, 6146: function(e2, t2, n2) {
          e2.exports = function() {
            "use strict";
            function e3(e4) {
              return "function" == typeof e4;
            }
            var t3 = Array.isArray ? Array.isArray : function(e4) {
              return "[object Array]" === Object.prototype.toString.call(e4);
            }, r2 = 0, i = void 0, a2 = void 0, o = function(e4, t4) {
              g[r2] = e4, g[r2 + 1] = t4, 2 === (r2 += 2) && (a2 ? a2(h) : v());
            };
            var s2 = "undefined" != typeof window ? window : void 0, u = s2 || {}, l = u.MutationObserver || u.WebKitMutationObserver, c = "undefined" == typeof self && "undefined" != typeof process && "[object process]" === {}.toString.call(process), f = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel;
            function d() {
              var e4 = setTimeout;
              return function() {
                return e4(h, 1);
              };
            }
            var g = new Array(1e3);
            function h() {
              for (var e4 = 0; e4 < r2; e4 += 2)
                (0, g[e4])(g[e4 + 1]), g[e4] = void 0, g[e4 + 1] = void 0;
              r2 = 0;
            }
            var p, m, y, E, v = void 0;
            function _(e4, t4) {
              var n3 = this, r3 = new this.constructor(b);
              void 0 === r3[S] && L(r3);
              var i2 = n3._state;
              if (i2) {
                var a3 = arguments[i2 - 1];
                o(function() {
                  return M(i2, r3, a3, n3._result);
                });
              } else
                D(n3, r3, e4, t4);
              return r3;
            }
            function T(e4) {
              if (e4 && "object" == typeof e4 && e4.constructor === this)
                return e4;
              var t4 = new this(b);
              return R(t4, e4), t4;
            }
            v = c ? function() {
              return process.nextTick(h);
            } : l ? (m = 0, y = new l(h), E = document.createTextNode(""), y.observe(E, { characterData: true }), function() {
              E.data = m = ++m % 2;
            }) : f ? ((p = new MessageChannel()).port1.onmessage = h, function() {
              return p.port2.postMessage(0);
            }) : void 0 === s2 ? function() {
              try {
                var e4 = Function("return this")().require("vertx");
                return void 0 !== (i = e4.runOnLoop || e4.runOnContext) ? function() {
                  i(h);
                } : d();
              } catch (e5) {
                return d();
              }
            }() : d();
            var S = Math.random().toString(36).substring(2);
            function b() {
            }
            var A = void 0;
            function I(t4, n3, r3) {
              n3.constructor === t4.constructor && r3 === _ && n3.constructor.resolve === T ? function(e4, t5) {
                1 === t5._state ? N(e4, t5._result) : 2 === t5._state ? C(e4, t5._result) : D(t5, void 0, function(t6) {
                  return R(e4, t6);
                }, function(t6) {
                  return C(e4, t6);
                });
              }(t4, n3) : void 0 === r3 ? N(t4, n3) : e3(r3) ? function(e4, t5, n4) {
                o(function(e5) {
                  var r4 = false, i2 = function(e6, t6, n5, r5) {
                    try {
                      e6.call(t6, n5, r5);
                    } catch (e7) {
                      return e7;
                    }
                  }(n4, t5, function(n5) {
                    r4 || (r4 = true, t5 !== n5 ? R(e5, n5) : N(e5, n5));
                  }, function(t6) {
                    r4 || (r4 = true, C(e5, t6));
                  }, e5._label);
                  !r4 && i2 && (r4 = true, C(e5, i2));
                }, e4);
              }(t4, n3, r3) : N(t4, n3);
            }
            function R(e4, t4) {
              if (e4 === t4)
                C(e4, new TypeError("You cannot resolve a promise with itself"));
              else if (i2 = typeof (r3 = t4), null === r3 || "object" !== i2 && "function" !== i2)
                N(e4, t4);
              else {
                var n3 = void 0;
                try {
                  n3 = t4.then;
                } catch (t5) {
                  return void C(e4, t5);
                }
                I(e4, t4, n3);
              }
              var r3, i2;
            }
            function w(e4) {
              e4._onerror && e4._onerror(e4._result), O(e4);
            }
            function N(e4, t4) {
              e4._state === A && (e4._result = t4, e4._state = 1, 0 !== e4._subscribers.length && o(O, e4));
            }
            function C(e4, t4) {
              e4._state === A && (e4._state = 2, e4._result = t4, o(w, e4));
            }
            function D(e4, t4, n3, r3) {
              var i2 = e4._subscribers, a3 = i2.length;
              e4._onerror = null, i2[a3] = t4, i2[a3 + 1] = n3, i2[a3 + 2] = r3, 0 === a3 && e4._state && o(O, e4);
            }
            function O(e4) {
              var t4 = e4._subscribers, n3 = e4._state;
              if (0 !== t4.length) {
                for (var r3 = void 0, i2 = void 0, a3 = e4._result, o2 = 0; o2 < t4.length; o2 += 3)
                  r3 = t4[o2], i2 = t4[o2 + n3], r3 ? M(n3, r3, i2, a3) : i2(a3);
                e4._subscribers.length = 0;
              }
            }
            function M(t4, n3, r3, i2) {
              var a3 = e3(r3), o2 = void 0, s3 = void 0, u2 = true;
              if (a3) {
                try {
                  o2 = r3(i2);
                } catch (e4) {
                  u2 = false, s3 = e4;
                }
                if (n3 === o2)
                  return void C(n3, new TypeError("A promises callback cannot return that same promise."));
              } else
                o2 = i2;
              n3._state !== A || (a3 && u2 ? R(n3, o2) : false === u2 ? C(n3, s3) : 1 === t4 ? N(n3, o2) : 2 === t4 && C(n3, o2));
            }
            var P = 0;
            function L(e4) {
              e4[S] = P++, e4._state = void 0, e4._result = void 0, e4._subscribers = [];
            }
            var F = function() {
              function e4(e5, n3) {
                this._instanceConstructor = e5, this.promise = new e5(b), this.promise[S] || L(this.promise), t3(n3) ? (this.length = n3.length, this._remaining = n3.length, this._result = new Array(this.length), 0 === this.length ? N(this.promise, this._result) : (this.length = this.length || 0, this._enumerate(n3), 0 === this._remaining && N(this.promise, this._result))) : C(this.promise, new Error("Array Methods must be provided an Array"));
              }
              return e4.prototype._enumerate = function(e5) {
                for (var t4 = 0; this._state === A && t4 < e5.length; t4++)
                  this._eachEntry(e5[t4], t4);
              }, e4.prototype._eachEntry = function(e5, t4) {
                var n3 = this._instanceConstructor, r3 = n3.resolve;
                if (r3 === T) {
                  var i2 = void 0, a3 = void 0, o2 = false;
                  try {
                    i2 = e5.then;
                  } catch (e6) {
                    o2 = true, a3 = e6;
                  }
                  if (i2 === _ && e5._state !== A)
                    this._settledAt(e5._state, t4, e5._result);
                  else if ("function" != typeof i2)
                    this._remaining--, this._result[t4] = e5;
                  else if (n3 === x) {
                    var s3 = new n3(b);
                    o2 ? C(s3, a3) : I(s3, e5, i2), this._willSettleAt(s3, t4);
                  } else
                    this._willSettleAt(new n3(function(t5) {
                      return t5(e5);
                    }), t4);
                } else
                  this._willSettleAt(r3(e5), t4);
              }, e4.prototype._settledAt = function(e5, t4, n3) {
                var r3 = this.promise;
                r3._state === A && (this._remaining--, 2 === e5 ? C(r3, n3) : this._result[t4] = n3), 0 === this._remaining && N(r3, this._result);
              }, e4.prototype._willSettleAt = function(e5, t4) {
                var n3 = this;
                D(e5, void 0, function(e6) {
                  return n3._settledAt(1, t4, e6);
                }, function(e6) {
                  return n3._settledAt(2, t4, e6);
                });
              }, e4;
            }();
            var x = function() {
              function t4(e4) {
                this[S] = P++, this._result = this._state = void 0, this._subscribers = [], b !== e4 && ("function" != typeof e4 && function() {
                  throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
                }(), this instanceof t4 ? function(e5, t5) {
                  try {
                    t5(function(t6) {
                      R(e5, t6);
                    }, function(t6) {
                      C(e5, t6);
                    });
                  } catch (t6) {
                    C(e5, t6);
                  }
                }(this, e4) : function() {
                  throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
                }());
              }
              return t4.prototype.catch = function(e4) {
                return this.then(null, e4);
              }, t4.prototype.finally = function(t5) {
                var n3 = this, r3 = n3.constructor;
                return e3(t5) ? n3.then(function(e4) {
                  return r3.resolve(t5()).then(function() {
                    return e4;
                  });
                }, function(e4) {
                  return r3.resolve(t5()).then(function() {
                    throw e4;
                  });
                }) : n3.then(t5, t5);
              }, t4;
            }();
            return x.prototype.then = _, x.all = function(e4) {
              return new F(this, e4).promise;
            }, x.race = function(e4) {
              var n3 = this;
              return t3(e4) ? new n3(function(t4, r3) {
                for (var i2 = e4.length, a3 = 0; a3 < i2; a3++)
                  n3.resolve(e4[a3]).then(t4, r3);
              }) : new n3(function(e5, t4) {
                return t4(new TypeError("You must pass an array to race."));
              });
            }, x.resolve = T, x.reject = function(e4) {
              var t4 = new this(b);
              return C(t4, e4), t4;
            }, x._setScheduler = function(e4) {
              a2 = e4;
            }, x._setAsap = function(e4) {
              o = e4;
            }, x._asap = o, x.polyfill = function() {
              var e4 = void 0;
              if (void 0 !== n2.g)
                e4 = n2.g;
              else if ("undefined" != typeof self)
                e4 = self;
              else
                try {
                  e4 = Function("return this")();
                } catch (e5) {
                  throw new Error("polyfill failed because global object is unavailable in this environment");
                }
              var t4 = e4.Promise;
              if (t4) {
                var r3 = null;
                try {
                  r3 = Object.prototype.toString.call(t4.resolve());
                } catch (e5) {
                }
                if ("[object Promise]" === r3 && !t4.cast)
                  return;
              }
              e4.Promise = x;
            }, x.Promise = x, x;
          }();
        }, 1159: function(e2) {
          "use strict";
          var t2, n2 = "object" == typeof Reflect ? Reflect : null, r2 = n2 && "function" == typeof n2.apply ? n2.apply : function(e3, t3, n3) {
            return Function.prototype.apply.call(e3, t3, n3);
          };
          t2 = n2 && "function" == typeof n2.ownKeys ? n2.ownKeys : Object.getOwnPropertySymbols ? function(e3) {
            return Object.getOwnPropertyNames(e3).concat(Object.getOwnPropertySymbols(e3));
          } : function(e3) {
            return Object.getOwnPropertyNames(e3);
          };
          var i = Number.isNaN || function(e3) {
            return e3 != e3;
          };
          function a2() {
            a2.init.call(this);
          }
          e2.exports = a2, e2.exports.once = function(e3, t3) {
            return new Promise(function(n3, r3) {
              function i2(n4) {
                e3.removeListener(t3, a3), r3(n4);
              }
              function a3() {
                "function" == typeof e3.removeListener && e3.removeListener("error", i2), n3([].slice.call(arguments));
              }
              p(e3, t3, a3, { once: true }), "error" !== t3 && function(e4, t4, n4) {
                "function" == typeof e4.on && p(e4, "error", t4, { once: true });
              }(e3, i2);
            });
          }, a2.EventEmitter = a2, a2.prototype._events = void 0, a2.prototype._eventsCount = 0, a2.prototype._maxListeners = void 0;
          var o = 10;
          function s2(e3) {
            if ("function" != typeof e3)
              throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e3);
          }
          function u(e3) {
            return void 0 === e3._maxListeners ? a2.defaultMaxListeners : e3._maxListeners;
          }
          function l(e3, t3, n3, r3) {
            var i2, a3, o2, l2;
            if (s2(n3), void 0 === (a3 = e3._events) ? (a3 = e3._events = /* @__PURE__ */ Object.create(null), e3._eventsCount = 0) : (void 0 !== a3.newListener && (e3.emit("newListener", t3, n3.listener ? n3.listener : n3), a3 = e3._events), o2 = a3[t3]), void 0 === o2)
              o2 = a3[t3] = n3, ++e3._eventsCount;
            else if ("function" == typeof o2 ? o2 = a3[t3] = r3 ? [n3, o2] : [o2, n3] : r3 ? o2.unshift(n3) : o2.push(n3), (i2 = u(e3)) > 0 && o2.length > i2 && !o2.warned) {
              o2.warned = true;
              var c2 = new Error("Possible EventEmitter memory leak detected. " + o2.length + " " + String(t3) + " listeners added. Use emitter.setMaxListeners() to increase limit");
              c2.name = "MaxListenersExceededWarning", c2.emitter = e3, c2.type = t3, c2.count = o2.length, l2 = c2, console && console.warn && console.warn(l2);
            }
            return e3;
          }
          function c() {
            if (!this.fired)
              return this.target.removeListener(this.type, this.wrapFn), this.fired = true, 0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
          }
          function f(e3, t3, n3) {
            var r3 = { fired: false, wrapFn: void 0, target: e3, type: t3, listener: n3 }, i2 = c.bind(r3);
            return i2.listener = n3, r3.wrapFn = i2, i2;
          }
          function d(e3, t3, n3) {
            var r3 = e3._events;
            if (void 0 === r3)
              return [];
            var i2 = r3[t3];
            return void 0 === i2 ? [] : "function" == typeof i2 ? n3 ? [i2.listener || i2] : [i2] : n3 ? function(e4) {
              for (var t4 = new Array(e4.length), n4 = 0; n4 < t4.length; ++n4)
                t4[n4] = e4[n4].listener || e4[n4];
              return t4;
            }(i2) : h(i2, i2.length);
          }
          function g(e3) {
            var t3 = this._events;
            if (void 0 !== t3) {
              var n3 = t3[e3];
              if ("function" == typeof n3)
                return 1;
              if (void 0 !== n3)
                return n3.length;
            }
            return 0;
          }
          function h(e3, t3) {
            for (var n3 = new Array(t3), r3 = 0; r3 < t3; ++r3)
              n3[r3] = e3[r3];
            return n3;
          }
          function p(e3, t3, n3, r3) {
            if ("function" == typeof e3.on)
              r3.once ? e3.once(t3, n3) : e3.on(t3, n3);
            else {
              if ("function" != typeof e3.addEventListener)
                throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof e3);
              e3.addEventListener(t3, function i2(a3) {
                r3.once && e3.removeEventListener(t3, i2), n3(a3);
              });
            }
          }
          Object.defineProperty(a2, "defaultMaxListeners", { enumerable: true, get: function() {
            return o;
          }, set: function(e3) {
            if ("number" != typeof e3 || e3 < 0 || i(e3))
              throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e3 + ".");
            o = e3;
          } }), a2.init = function() {
            void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
          }, a2.prototype.setMaxListeners = function(e3) {
            if ("number" != typeof e3 || e3 < 0 || i(e3))
              throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e3 + ".");
            return this._maxListeners = e3, this;
          }, a2.prototype.getMaxListeners = function() {
            return u(this);
          }, a2.prototype.emit = function(e3) {
            for (var t3 = [], n3 = 1; n3 < arguments.length; n3++)
              t3.push(arguments[n3]);
            var i2 = "error" === e3, a3 = this._events;
            if (void 0 !== a3)
              i2 = i2 && void 0 === a3.error;
            else if (!i2)
              return false;
            if (i2) {
              var o2;
              if (t3.length > 0 && (o2 = t3[0]), o2 instanceof Error)
                throw o2;
              var s3 = new Error("Unhandled error." + (o2 ? " (" + o2.message + ")" : ""));
              throw s3.context = o2, s3;
            }
            var u2 = a3[e3];
            if (void 0 === u2)
              return false;
            if ("function" == typeof u2)
              r2(u2, this, t3);
            else {
              var l2 = u2.length, c2 = h(u2, l2);
              for (n3 = 0; n3 < l2; ++n3)
                r2(c2[n3], this, t3);
            }
            return true;
          }, a2.prototype.addListener = function(e3, t3) {
            return l(this, e3, t3, false);
          }, a2.prototype.on = a2.prototype.addListener, a2.prototype.prependListener = function(e3, t3) {
            return l(this, e3, t3, true);
          }, a2.prototype.once = function(e3, t3) {
            return s2(t3), this.on(e3, f(this, e3, t3)), this;
          }, a2.prototype.prependOnceListener = function(e3, t3) {
            return s2(t3), this.prependListener(e3, f(this, e3, t3)), this;
          }, a2.prototype.removeListener = function(e3, t3) {
            var n3, r3, i2, a3, o2;
            if (s2(t3), void 0 === (r3 = this._events))
              return this;
            if (void 0 === (n3 = r3[e3]))
              return this;
            if (n3 === t3 || n3.listener === t3)
              0 == --this._eventsCount ? this._events = /* @__PURE__ */ Object.create(null) : (delete r3[e3], r3.removeListener && this.emit("removeListener", e3, n3.listener || t3));
            else if ("function" != typeof n3) {
              for (i2 = -1, a3 = n3.length - 1; a3 >= 0; a3--)
                if (n3[a3] === t3 || n3[a3].listener === t3) {
                  o2 = n3[a3].listener, i2 = a3;
                  break;
                }
              if (i2 < 0)
                return this;
              0 === i2 ? n3.shift() : function(e4, t4) {
                for (; t4 + 1 < e4.length; t4++)
                  e4[t4] = e4[t4 + 1];
                e4.pop();
              }(n3, i2), 1 === n3.length && (r3[e3] = n3[0]), void 0 !== r3.removeListener && this.emit("removeListener", e3, o2 || t3);
            }
            return this;
          }, a2.prototype.off = a2.prototype.removeListener, a2.prototype.removeAllListeners = function(e3) {
            var t3, n3, r3;
            if (void 0 === (n3 = this._events))
              return this;
            if (void 0 === n3.removeListener)
              return 0 === arguments.length ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : void 0 !== n3[e3] && (0 == --this._eventsCount ? this._events = /* @__PURE__ */ Object.create(null) : delete n3[e3]), this;
            if (0 === arguments.length) {
              var i2, a3 = Object.keys(n3);
              for (r3 = 0; r3 < a3.length; ++r3)
                "removeListener" !== (i2 = a3[r3]) && this.removeAllListeners(i2);
              return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
            }
            if ("function" == typeof (t3 = n3[e3]))
              this.removeListener(e3, t3);
            else if (void 0 !== t3)
              for (r3 = t3.length - 1; r3 >= 0; r3--)
                this.removeListener(e3, t3[r3]);
            return this;
          }, a2.prototype.listeners = function(e3) {
            return d(this, e3, true);
          }, a2.prototype.rawListeners = function(e3) {
            return d(this, e3, false);
          }, a2.listenerCount = function(e3, t3) {
            return "function" == typeof e3.listenerCount ? e3.listenerCount(t3) : g.call(e3, t3);
          }, a2.prototype.listenerCount = g, a2.prototype.eventNames = function() {
            return this._eventsCount > 0 ? t2(this._events) : [];
          };
        }, 3101: function(e2) {
          "use strict";
          var t2 = Array.isArray, n2 = Object.keys, r2 = Object.prototype.hasOwnProperty;
          e2.exports = function e3(i, a2) {
            if (i === a2)
              return true;
            if (i && a2 && "object" == typeof i && "object" == typeof a2) {
              var o, s2, u, l = t2(i), c = t2(a2);
              if (l && c) {
                if ((s2 = i.length) != a2.length)
                  return false;
                for (o = s2; 0 != o--; )
                  if (!e3(i[o], a2[o]))
                    return false;
                return true;
              }
              if (l != c)
                return false;
              var f = i instanceof Date, d = a2 instanceof Date;
              if (f != d)
                return false;
              if (f && d)
                return i.getTime() == a2.getTime();
              var g = i instanceof RegExp, h = a2 instanceof RegExp;
              if (g != h)
                return false;
              if (g && h)
                return i.toString() == a2.toString();
              var p = n2(i);
              if ((s2 = p.length) !== n2(a2).length)
                return false;
              for (o = s2; 0 != o--; )
                if (!r2.call(a2, p[o]))
                  return false;
              for (o = s2; 0 != o--; )
                if (!e3(i[u = p[o]], a2[u]))
                  return false;
              return true;
            }
            return i != i && a2 != a2;
          };
        }, 3362: function(e2, t2, n2) {
          !function(e3, t3, n3, r2, i) {
            function a2(e4) {
              if ("contents" in e4)
                for (var t4 = ("styleAttrs" in e4) ? e4.styleAttrs[r2.byName.ruby.qname] : null, n4 = "span" === e4.kind && ("container" === t4 || "textContainer" === t4 || "baseContainer" === t4), i2 = e4.contents.length - 1; i2 >= 0; i2--)
                  !n4 || "styleAttrs" in e4.contents[i2] && r2.byName.ruby.qname in e4.contents[i2].styleAttrs ? a2(e4.contents[i2]) : delete e4.contents[i2];
            }
            function o(e4, t4, n4, r3) {
              var i2 = r3 && "seq" === r3.timeContainer, a3 = 0;
              r3 && (a3 = i2 && n4 ? n4.end : r3.begin), t4.begin = t4.explicit_begin ? t4.explicit_begin + a3 : a3;
              var s3 = t4.begin, u2 = null;
              if ("sets" in t4)
                for (var l2 = 0; l2 < t4.sets.length; l2++)
                  o(e4, t4.sets[l2], u2, t4), s3 = "seq" === t4.timeContainer ? t4.sets[l2].end : Math.max(s3, t4.sets[l2].end), u2 = t4.sets[l2];
              if ("contents" in t4) {
                if ("contents" in t4)
                  for (var c2 = 0; c2 < t4.contents.length; c2++)
                    o(e4, t4.contents[c2], u2, t4), s3 = "seq" === t4.timeContainer ? t4.contents[c2].end : Math.max(s3, t4.contents[c2].end), u2 = t4.contents[c2];
              } else
                s3 = i2 ? t4.begin : Number.POSITIVE_INFINITY;
              null !== t4.explicit_end && null !== t4.explicit_dur ? t4.end = Math.min(t4.begin + t4.explicit_dur, a3 + t4.explicit_end) : null === t4.explicit_end && null !== t4.explicit_dur ? t4.end = t4.begin + t4.explicit_dur : null !== t4.explicit_end && null === t4.explicit_dur ? t4.end = a3 + t4.explicit_end : t4.end = s3, delete t4.explicit_begin, delete t4.explicit_dur, delete t4.explicit_end, e4._registerEvent(t4);
            }
            function s2(e4) {
              this.node = e4;
            }
            function u() {
              this.events = [], this.head = new l(), this.body = null;
            }
            function l() {
              this.styling = new c(), this.layout = new g();
            }
            function c() {
              this.styles = {}, this.initials = {};
            }
            function f() {
              this.id = null, this.styleAttrs = null, this.styleRefs = null;
            }
            function d() {
              this.styleAttrs = null;
            }
            function g() {
              this.regions = {};
            }
            function h(e4, t4) {
              p.call(this, "image"), this.src = e4, this.type = t4;
            }
            function p(e4) {
              this.kind = e4;
            }
            function m(e4) {
              this.id = e4;
            }
            function y(e4) {
              this.regionID = e4;
            }
            function E(e4) {
              this.styleAttrs = e4;
            }
            function v(e4) {
              this.sets = e4;
            }
            function _(e4) {
              this.contents = e4;
            }
            function T(e4, t4, n4) {
              this.explicit_begin = e4, this.explicit_end = t4, this.explicit_dur = n4;
            }
            function S() {
              p.call(this, "body");
            }
            function b() {
              p.call(this, "div");
            }
            function A() {
              p.call(this, "p");
            }
            function I() {
              p.call(this, "span");
            }
            function R() {
              p.call(this, "span");
            }
            function w() {
              p.call(this, "br");
            }
            function N() {
            }
            function C() {
            }
            function D(e4) {
              return e4 && "xml:id" in e4.attributes && e4.attributes["xml:id"].value || null;
            }
            function O(e4) {
              return e4 && "style" in e4.attributes ? e4.attributes.style.value.split(" ") : [];
            }
            function M(e4, t4) {
              var n4 = {};
              if (null !== e4)
                for (var i2 in e4.attributes) {
                  var a3 = e4.attributes[i2].uri + " " + e4.attributes[i2].local, o2 = r2.byQName[a3];
                  if (void 0 !== o2) {
                    var s3 = o2.parse(e4.attributes[i2].value);
                    null !== s3 ? (n4[a3] = s3, o2 === r2.byName.zIndex && U(t4, "zIndex attribute present but not used by IMSC1 since regions do not overlap")) : Z(t4, "Cannot parse styling attribute " + a3 + " --> " + e4.attributes[i2].value);
                  }
                }
              return n4;
            }
            function P(e4, t4, n4) {
              for (var r3 in e4.attributes)
                if (e4.attributes[r3].uri === t4 && e4.attributes[r3].local === n4)
                  return e4.attributes[r3].value;
              return null;
            }
            function L(e4, t4, n4) {
              var r3, i2 = null;
              return null !== (r3 = /^(\d+(?:\.\d+)?)f$/.exec(n4)) ? null !== t4 && (i2 = parseFloat(r3[1]) / t4) : null !== (r3 = /^(\d+(?:\.\d+)?)t$/.exec(n4)) ? null !== e4 && (i2 = parseFloat(r3[1]) / e4) : null !== (r3 = /^(\d+(?:\.\d+)?)ms$/.exec(n4)) ? i2 = parseFloat(r3[1]) / 1e3 : null !== (r3 = /^(\d+(?:\.\d+)?)s$/.exec(n4)) ? i2 = parseFloat(r3[1]) : null !== (r3 = /^(\d+(?:\.\d+)?)h$/.exec(n4)) ? i2 = 3600 * parseFloat(r3[1]) : null !== (r3 = /^(\d+(?:\.\d+)?)m$/.exec(n4)) ? i2 = 60 * parseFloat(r3[1]) : null !== (r3 = /^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(n4)) ? i2 = 3600 * parseInt(r3[1]) + 60 * parseInt(r3[2]) + parseFloat(r3[3]) : null !== (r3 = /^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(n4)) && null !== t4 && (i2 = 3600 * parseInt(r3[1]) + 60 * parseInt(r3[2]) + parseInt(r3[3]) + (null === r3[4] ? 0 : parseInt(r3[4]) / t4)), i2;
            }
            function F(e4, t4, n4) {
              for (; t4.styleRefs.length > 0; ) {
                var r3 = t4.styleRefs.pop();
                r3 in e4.styles ? (F(e4, e4.styles[r3], n4), k(e4.styles[r3].styleAttrs, t4.styleAttrs)) : Z(n4, "Non-existant style id referenced");
              }
            }
            function x(e4, t4, n4, r3) {
              for (var i2 = t4.length - 1; i2 >= 0; i2--) {
                var a3 = t4[i2];
                a3 in e4.styles ? k(e4.styles[a3].styleAttrs, n4) : Z(r3, "Non-existant style id referenced");
              }
            }
            function k(e4, t4) {
              for (var n4 in e4)
                e4.hasOwnProperty(n4) && (n4 in t4 || (t4[n4] = e4[n4]));
            }
            function U(e4, t4) {
              if (e4 && e4.warn && e4.warn(t4))
                throw t4;
            }
            function Z(e4, t4) {
              if (e4 && e4.error && e4.error(t4))
                throw t4;
            }
            function B(e4, t4) {
              throw e4 && e4.fatal && e4.fatal(t4), t4;
            }
            function G(e4, t4) {
              for (var n4, r3 = 0, i2 = e4.length - 1; r3 <= i2; ) {
                var a3 = e4[n4 = Math.floor((r3 + i2) / 2)];
                if (a3 < t4)
                  r3 = n4 + 1;
                else {
                  if (!(a3 > t4))
                    return { found: true, index: n4 };
                  i2 = n4 - 1;
                }
              }
              return { found: false, index: r3 };
            }
            e3.fromXML = function(e4, i2, p2) {
              var m2 = t3.parser(true, { xmlns: true }), y2 = [], E2 = [], v2 = [], _2 = 0, T2 = null;
              m2.onclosetag = function(e5) {
                if (y2[0] instanceof N)
                  null !== T2.head && null !== T2.head.styling && x(T2.head.styling, y2[0].styleRefs, y2[0].styleAttrs, i2), delete y2[0].styleRefs;
                else if (y2[0] instanceof c)
                  for (var t4 in y2[0].styles)
                    y2[0].styles.hasOwnProperty(t4) && F(y2[0], y2[0].styles[t4], i2);
                else if (y2[0] instanceof A || y2[0] instanceof I) {
                  if (y2[0].contents.length > 1) {
                    var r3, a3 = [y2[0].contents[0]];
                    for (r3 = 1; r3 < y2[0].contents.length; r3++)
                      y2[0].contents[r3] instanceof R && a3[a3.length - 1] instanceof R ? a3[a3.length - 1].text += y2[0].contents[r3].text : a3.push(y2[0].contents[r3]);
                    y2[0].contents = a3;
                  }
                  y2[0] instanceof I && 1 === y2[0].contents.length && y2[0].contents[0] instanceof R && (y2[0].text = y2[0].contents[0].text, delete y2[0].contents);
                } else
                  y2[0] instanceof s2 && (y2[0].node.uri === n3.ns_tt && "metadata" === y2[0].node.local ? _2-- : _2 > 0 && p2 && "onCloseTag" in p2 && p2.onCloseTag());
                v2.shift(), E2.shift(), y2.shift();
              }, m2.ontext = function(e5) {
                if (void 0 === y2[0])
                  ;
                else if (y2[0] instanceof I || y2[0] instanceof A) {
                  if (y2[0] instanceof I) {
                    var t4 = y2[0].styleAttrs[r2.byName.ruby.qname];
                    if ("container" === t4 || "textContainer" === t4 || "baseContainer" === t4)
                      return;
                  }
                  var n4 = new R();
                  n4.initFromText(T2, y2[0], e5, E2[0], v2[0], i2), y2[0].contents.push(n4);
                } else
                  y2[0] instanceof s2 && _2 > 0 && p2 && "onText" in p2 && p2.onText(e5);
              }, m2.onopentag = function(e5) {
                var t4 = e5.attributes["xml:space"];
                t4 ? v2.unshift(t4.value) : 0 === v2.length ? v2.unshift("default") : v2.unshift(v2[0]);
                var a3 = e5.attributes["xml:lang"];
                if (a3 ? E2.unshift(a3.value) : 0 === E2.length ? E2.unshift("") : E2.unshift(E2[0]), e5.uri === n3.ns_tt)
                  if ("tt" === e5.local)
                    null !== T2 && B(i2, "Two <tt> elements at (" + this.line + "," + this.column + ")"), (T2 = new u()).initFromNode(e5, E2[0], i2), y2.unshift(T2);
                  else if ("head" === e5.local)
                    y2[0] instanceof u || B(i2, "Parent of <head> element is not <tt> at (" + this.line + "," + this.column + ")"), y2.unshift(T2.head);
                  else if ("styling" === e5.local)
                    y2[0] instanceof l || B(i2, "Parent of <styling> element is not <head> at (" + this.line + "," + this.column + ")"), y2.unshift(T2.head.styling);
                  else if ("style" === e5.local) {
                    var o2;
                    y2[0] instanceof c ? ((o2 = new f()).initFromNode(e5, i2), o2.id ? T2.head.styling.styles[o2.id] = o2 : Z(i2, "<style> element missing @id attribute"), y2.unshift(o2)) : y2[0] instanceof N ? ((o2 = new f()).initFromNode(e5, i2), k(o2.styleAttrs, y2[0].styleAttrs), y2.unshift(o2)) : B(i2, "Parent of <style> element is not <styling> or <region> at (" + this.line + "," + this.column + ")");
                  } else if ("initial" === e5.local) {
                    var m3;
                    if (y2[0] instanceof c) {
                      for (var R2 in (m3 = new d()).initFromNode(e5, i2), m3.styleAttrs)
                        m3.styleAttrs.hasOwnProperty(R2) && (T2.head.styling.initials[R2] = m3.styleAttrs[R2]);
                      y2.unshift(m3);
                    } else
                      B(i2, "Parent of <initial> element is not <styling> at (" + this.line + "," + this.column + ")");
                  } else if ("layout" === e5.local)
                    y2[0] instanceof l || B(i2, "Parent of <layout> element is not <head> at " + this.line + "," + this.column + ")"), y2.unshift(T2.head.layout);
                  else if ("region" === e5.local) {
                    y2[0] instanceof g || B(i2, "Parent of <region> element is not <layout> at " + this.line + "," + this.column + ")");
                    var D3 = new N();
                    D3.initFromNode(T2, e5, E2[0], i2), !D3.id || D3.id in T2.head.layout.regions ? Z(i2, "Ignoring <region> with duplicate or missing @id at " + this.line + "," + this.column + ")") : T2.head.layout.regions[D3.id] = D3, y2.unshift(D3);
                  } else if ("body" === e5.local) {
                    y2[0] instanceof u || B(i2, "Parent of <body> element is not <tt> at " + this.line + "," + this.column + ")"), null !== T2.body && B(i2, "Second <body> element at " + this.line + "," + this.column + ")");
                    var O3 = new S();
                    O3.initFromNode(T2, e5, E2[0], i2), T2.body = O3, y2.unshift(O3);
                  } else if ("div" === e5.local) {
                    y2[0] instanceof b || y2[0] instanceof S || B(i2, "Parent of <div> element is not <body> or <div> at " + this.line + "," + this.column + ")");
                    var M3 = new b();
                    M3.initFromNode(T2, y2[0], e5, E2[0], i2);
                    var P3 = M3.styleAttrs[r2.byName.backgroundImage.qname];
                    P3 && (M3.contents.push(new h(P3)), delete M3.styleAttrs[r2.byName.backgroundImage.qname]), y2[0].contents.push(M3), y2.unshift(M3);
                  } else if ("image" === e5.local) {
                    y2[0] instanceof b || B(i2, "Parent of <image> element is not <div> at " + this.line + "," + this.column + ")");
                    var L2 = new h();
                    L2.initFromNode(T2, y2[0], e5, E2[0], i2), y2[0].contents.push(L2), y2.unshift(L2);
                  } else if ("p" === e5.local) {
                    y2[0] instanceof b || B(i2, "Parent of <p> element is not <div> at " + this.line + "," + this.column + ")");
                    var F2 = new A();
                    F2.initFromNode(T2, y2[0], e5, E2[0], i2), y2[0].contents.push(F2), y2.unshift(F2);
                  } else if ("span" === e5.local) {
                    y2[0] instanceof I || y2[0] instanceof A || B(i2, "Parent of <span> element is not <span> or <p> at " + this.line + "," + this.column + ")");
                    var x2 = new I();
                    x2.initFromNode(T2, y2[0], e5, E2[0], v2[0], i2), y2[0].contents.push(x2), y2.unshift(x2);
                  } else if ("br" === e5.local) {
                    y2[0] instanceof I || y2[0] instanceof A || B(i2, "Parent of <br> element is not <span> or <p> at " + this.line + "," + this.column + ")");
                    var U2 = new w();
                    U2.initFromNode(T2, y2[0], e5, E2[0], i2), y2[0].contents.push(U2), y2.unshift(U2);
                  } else if ("set" === e5.local) {
                    y2[0] instanceof I || y2[0] instanceof A || y2[0] instanceof b || y2[0] instanceof S || y2[0] instanceof N || y2[0] instanceof w || B(i2, "Parent of <set> element is not a content element or a region at " + this.line + "," + this.column + ")");
                    var G2 = new C();
                    G2.initFromNode(T2, y2[0], e5, i2), y2[0].sets.push(G2), y2.unshift(G2);
                  } else
                    y2.unshift(new s2(e5));
                else
                  y2.unshift(new s2(e5));
                if (y2[0] instanceof s2) {
                  if (e5.uri === n3.ns_tt && "metadata" === e5.local)
                    _2++;
                  else if (_2 > 0 && p2 && "onOpenTag" in p2) {
                    var q = [];
                    for (var Y in e5.attributes)
                      q[e5.attributes[Y].uri + " " + e5.attributes[Y].local] = { uri: e5.attributes[Y].uri, local: e5.attributes[Y].local, value: e5.attributes[Y].value };
                    p2.onOpenTag(e5.uri, e5.local, q);
                  }
                }
              }, m2.write(e4).close(), delete T2.head.styling.styles;
              var D2 = false;
              for (var O2 in T2.head.layout.regions)
                if (T2.head.layout.regions.hasOwnProperty(O2)) {
                  D2 = true;
                  break;
                }
              if (!D2) {
                var M2 = N.prototype.createDefaultRegion(T2.lang);
                T2.head.layout.regions[M2.id] = M2;
              }
              for (var P2 in T2.head.layout.regions)
                T2.head.layout.regions.hasOwnProperty(P2) && o(T2, T2.head.layout.regions[P2], null, null);
              return T2.body && o(T2, T2.body, null, null), T2.body && a2(T2.body), T2;
            }, u.prototype.initFromNode = function(e4, t4, r3) {
              var a3 = function(e5, t5) {
                var r4 = P(e5, n3.ns_ttp, "cellResolution"), i2 = 15, a4 = 32;
                if (null !== r4) {
                  var o3 = /(\d+) (\d+)/.exec(r4);
                  null !== o3 ? (a4 = parseInt(o3[1]), i2 = parseInt(o3[2])) : U(t5, "Malformed cellResolution value (using initial value instead)");
                }
                return { w: a4, h: i2 };
              }(e4, r3);
              this.cellLength = { h: new i.ComputedLength(0, 1 / a3.h), w: new i.ComputedLength(1 / a3.w, 0) };
              var o2 = function(e5, t5) {
                var r4, i2 = P(e5, n3.ns_ttp, "frameRate"), a4 = 30;
                null !== i2 && (null !== (r4 = /(\d+)/.exec(i2)) ? a4 = parseInt(r4[1]) : U(t5, "Malformed frame rate attribute (using initial value instead)"));
                var o3 = P(e5, n3.ns_ttp, "frameRateMultiplier"), s4 = 1;
                null !== o3 && (null !== (r4 = /(\d+) (\d+)/.exec(o3)) ? s4 = parseInt(r4[1]) / parseInt(r4[2]) : U(t5, "Malformed frame rate multiplier attribute (using initial value instead)"));
                var u3 = s4 * a4, l2 = 1, c2 = P(e5, n3.ns_ttp, "tickRate");
                return null === c2 ? null !== i2 && (l2 = u3) : null !== (r4 = /(\d+)/.exec(c2)) ? l2 = parseInt(r4[1]) : U(t5, "Malformed tick rate attribute (using initial value instead)"), { effectiveFrameRate: u3, tickRate: l2 };
              }(e4, r3);
              this.effectiveFrameRate = o2.effectiveFrameRate, this.tickRate = o2.tickRate, this.aspectRatio = function(e5, t5) {
                var r4 = P(e5, n3.ns_ittp, "aspectRatio");
                null === r4 && (r4 = P(e5, n3.ns_ttp, "displayAspectRatio"));
                var i2 = null;
                if (null !== r4) {
                  var a4 = /(\d+)\s+(\d+)/.exec(r4);
                  if (null !== a4) {
                    var o3 = parseInt(a4[1]), s4 = parseInt(a4[2]);
                    0 !== o3 && 0 !== s4 ? i2 = o3 / s4 : Z(t5, "Illegal aspectRatio values (ignoring)");
                  } else
                    Z(t5, "Malformed aspectRatio attribute (ignoring)");
                }
                return i2;
              }(e4, r3);
              var s3 = P(e4, n3.ns_ttp, "timeBase");
              null !== s3 && "media" !== s3 && B(r3, "Unsupported time base");
              var u2 = function(e5, t5) {
                var r4 = P(e5, n3.ns_tts, "extent");
                if (null === r4)
                  return null;
                var a4 = r4.split(" ");
                if (2 !== a4.length)
                  return U(t5, "Malformed extent (ignoring)"), null;
                var o3 = i.parseLength(a4[0]), s4 = i.parseLength(a4[1]);
                return s4 && o3 ? { h: s4, w: o3 } : (U(t5, "Malformed extent values (ignoring)"), null);
              }(e4, r3);
              null === u2 ? this.pxLength = { h: null, w: null } : ("px" === u2.h.unit && "px" === u2.w.unit || B(r3, "Extent on TT must be in px or absent"), this.pxLength = { h: new i.ComputedLength(0, 1 / u2.h.value), w: new i.ComputedLength(1 / u2.w.value, 0) }), this.dimensions = { h: new i.ComputedLength(0, 1), w: new i.ComputedLength(1, 0) }, this.lang = t4;
            }, u.prototype._registerEvent = function(e4) {
              if (!(e4.end <= e4.begin)) {
                var t4 = G(this.events, e4.begin);
                if (t4.found || this.events.splice(t4.index, 0, e4.begin), e4.end !== Number.POSITIVE_INFINITY) {
                  var n4 = G(this.events, e4.end);
                  n4.found || this.events.splice(n4.index, 0, e4.end);
                }
              }
            }, u.prototype.getMediaTimeRange = function() {
              return [this.events[0], this.events[this.events.length - 1]];
            }, u.prototype.getMediaTimeEvents = function() {
              return this.events;
            }, f.prototype.initFromNode = function(e4, t4) {
              this.id = D(e4), this.styleAttrs = M(e4, t4), this.styleRefs = O(e4);
            }, d.prototype.initFromNode = function(e4, t4) {
              for (var r3 in this.styleAttrs = {}, e4.attributes)
                if (e4.attributes[r3].uri === n3.ns_itts || e4.attributes[r3].uri === n3.ns_ebutts || e4.attributes[r3].uri === n3.ns_tts) {
                  var i2 = e4.attributes[r3].uri + " " + e4.attributes[r3].local;
                  this.styleAttrs[i2] = e4.attributes[r3].value;
                }
            }, h.prototype.initFromNode = function(e4, t4, n4, r3, i2) {
              this.src = "src" in n4.attributes ? n4.attributes.src.value : null, this.src || Z(i2, "Invalid image@src attribute"), this.type = "type" in n4.attributes ? n4.attributes.type.value : null, this.type || Z(i2, "Invalid image@type attribute"), E.prototype.initFromNode.call(this, e4, t4, n4, i2), T.prototype.initFromNode.call(this, e4, t4, n4, i2), v.prototype.initFromNode.call(this, e4, t4, n4, i2), y.prototype.initFromNode.call(this, e4, t4, n4, i2), this.lang = r3;
            }, m.prototype.initFromNode = function(e4, t4, n4, r3) {
              this.id = D(n4);
            }, y.prototype.initFromNode = function(e4, t4, n4, r3) {
              this.regionID = function(e5) {
                return e5 && "region" in e5.attributes ? e5.attributes.region.value : "";
              }(n4);
            }, E.prototype.initFromNode = function(e4, t4, n4, r3) {
              this.styleAttrs = M(n4, r3), null !== e4.head && null !== e4.head.styling && x(e4.head.styling, O(n4), this.styleAttrs, r3);
            }, v.prototype.initFromNode = function(e4, t4, n4, r3) {
              this.sets = [];
            }, _.prototype.initFromNode = function(e4, t4, n4, r3) {
              this.contents = [];
            }, T.prototype.initFromNode = function(e4, t4, n4, r3) {
              var i2 = function(e5, t5, n5, r4) {
                var i3 = null;
                n5 && "begin" in n5.attributes && null === (i3 = L(e5.tickRate, e5.effectiveFrameRate, n5.attributes.begin.value)) && U(r4, "Malformed begin value " + n5.attributes.begin.value + " (using 0)");
                var a3 = null;
                n5 && "dur" in n5.attributes && null === (a3 = L(e5.tickRate, e5.effectiveFrameRate, n5.attributes.dur.value)) && U(r4, "Malformed dur value " + n5.attributes.dur.value + " (ignoring)");
                var o2 = null;
                return n5 && "end" in n5.attributes && null === (o2 = L(e5.tickRate, e5.effectiveFrameRate, n5.attributes.end.value)) && U(r4, "Malformed end value (ignoring)"), { explicit_begin: i3, explicit_end: o2, explicit_dur: a3 };
              }(e4, 0, n4, r3);
              this.explicit_begin = i2.explicit_begin, this.explicit_end = i2.explicit_end, this.explicit_dur = i2.explicit_dur, this.timeContainer = function(e5, t5) {
                var n5 = e5 && "timeContainer" in e5.attributes ? e5.attributes.timeContainer.value : null;
                return n5 && "par" !== n5 ? "seq" === n5 ? "seq" : (Z(t5, "Illegal value of timeContainer (assuming 'par')"), "par") : "par";
              }(n4, r3);
            }, S.prototype.initFromNode = function(e4, t4, n4, r3) {
              E.prototype.initFromNode.call(this, e4, null, t4, r3), T.prototype.initFromNode.call(this, e4, null, t4, r3), v.prototype.initFromNode.call(this, e4, null, t4, r3), y.prototype.initFromNode.call(this, e4, null, t4, r3), _.prototype.initFromNode.call(this, e4, null, t4, r3), this.lang = n4;
            }, b.prototype.initFromNode = function(e4, t4, n4, r3, i2) {
              E.prototype.initFromNode.call(this, e4, t4, n4, i2), T.prototype.initFromNode.call(this, e4, t4, n4, i2), v.prototype.initFromNode.call(this, e4, t4, n4, i2), y.prototype.initFromNode.call(this, e4, t4, n4, i2), _.prototype.initFromNode.call(this, e4, t4, n4, i2), this.lang = r3;
            }, A.prototype.initFromNode = function(e4, t4, n4, r3, i2) {
              E.prototype.initFromNode.call(this, e4, t4, n4, i2), T.prototype.initFromNode.call(this, e4, t4, n4, i2), v.prototype.initFromNode.call(this, e4, t4, n4, i2), y.prototype.initFromNode.call(this, e4, t4, n4, i2), _.prototype.initFromNode.call(this, e4, t4, n4, i2), this.lang = r3;
            }, I.prototype.initFromNode = function(e4, t4, n4, r3, i2, a3) {
              E.prototype.initFromNode.call(this, e4, t4, n4, a3), T.prototype.initFromNode.call(this, e4, t4, n4, a3), v.prototype.initFromNode.call(this, e4, t4, n4, a3), y.prototype.initFromNode.call(this, e4, t4, n4, a3), _.prototype.initFromNode.call(this, e4, t4, n4, a3), this.space = i2, this.lang = r3;
            }, R.prototype.initFromText = function(e4, t4, n4, r3, i2, a3) {
              T.prototype.initFromNode.call(this, e4, t4, null, a3), this.text = n4, this.space = i2, this.lang = r3;
            }, w.prototype.initFromNode = function(e4, t4, n4, r3, i2) {
              y.prototype.initFromNode.call(this, e4, t4, n4, i2), T.prototype.initFromNode.call(this, e4, t4, n4, i2), this.lang = r3;
            }, N.prototype.createDefaultRegion = function(e4) {
              var t4 = new N();
              return m.call(t4, ""), E.call(t4, {}), v.call(t4, []), T.call(t4, 0, Number.POSITIVE_INFINITY, null), this.lang = e4, t4;
            }, N.prototype.initFromNode = function(e4, t4, n4, r3) {
              m.prototype.initFromNode.call(this, e4, null, t4, r3), T.prototype.initFromNode.call(this, e4, null, t4, r3), v.prototype.initFromNode.call(this, e4, null, t4, r3), this.styleAttrs = M(t4, r3), this.styleRefs = O(t4), this.lang = n4;
            }, C.prototype.initFromNode = function(e4, t4, n4, r3) {
              T.prototype.initFromNode.call(this, e4, t4, n4, r3);
              var i2 = M(n4, r3);
              for (var a3 in this.qname = null, this.value = null, i2)
                if (i2.hasOwnProperty(a3)) {
                  if (this.qname) {
                    Z(r3, "More than one style specified on set");
                    break;
                  }
                  this.qname = a3, this.value = i2[a3];
                }
            };
          }(t2, "undefined" == typeof sax ? n2(5378) : sax, "undefined" == typeof imscNames ? n2(210) : imscNames, "undefined" == typeof imscStyles ? n2(6811) : imscStyles, "undefined" == typeof imscUtils ? n2(5926) : imscUtils);
        }, 506: function(e2, t2, n2) {
          var r2 = /firefox/i.test(navigator.userAgent);
          !function(e3, t3, n3) {
            function i(e4, t4, f2, g2) {
              var h2;
              if ("region" === f2.kind)
                (h2 = document.createElement("div")).style.position = "absolute";
              else if ("body" === f2.kind)
                h2 = document.createElement("div");
              else if ("div" === f2.kind)
                h2 = document.createElement("div");
              else if ("image" === f2.kind) {
                if (h2 = document.createElement("img"), null !== e4.imgResolver && null !== f2.src) {
                  var y2 = e4.imgResolver(f2.src, h2);
                  y2 && (h2.src = y2), h2.height = e4.regionH, h2.width = e4.regionW;
                }
              } else if ("p" === f2.kind)
                h2 = document.createElement("p");
              else if ("span" === f2.kind)
                if ("container" === f2.styleAttrs[n3.byName.ruby.qname])
                  h2 = document.createElement("ruby"), e4.ruby = true;
                else if ("base" === f2.styleAttrs[n3.byName.ruby.qname])
                  h2 = document.createElement("span");
                else if ("text" === f2.styleAttrs[n3.byName.ruby.qname])
                  h2 = document.createElement("rt");
                else if ("baseContainer" === f2.styleAttrs[n3.byName.ruby.qname])
                  h2 = document.createElement("rbc");
                else if ("textContainer" === f2.styleAttrs[n3.byName.ruby.qname])
                  h2 = document.createElement("rtc");
                else {
                  if ("delimiter" === f2.styleAttrs[n3.byName.ruby.qname])
                    return;
                  h2 = document.createElement("span");
                }
              else
                "br" === f2.kind && (h2 = document.createElement("br"));
              if (h2) {
                if (f2.lang && ("region" !== f2.kind && f2.lang === g2.lang || (h2.lang = f2.lang)), t4.appendChild(h2), h2.style.margin = "0", "region" === f2.kind) {
                  var _ = f2.styleAttrs[n3.byName.writingMode.qname];
                  "lrtb" === _ || "lr" === _ ? (e4.ipd = "lr", e4.bpd = "tb") : "rltb" === _ || "rl" === _ ? (e4.ipd = "rl", e4.bpd = "tb") : "tblr" === _ ? (e4.ipd = "tb", e4.bpd = "lr") : "tbrl" !== _ && "tb" !== _ || (e4.ipd = "tb", e4.bpd = "rl");
                } else if ("p" === f2.kind && "tb" === e4.bpd) {
                  var T = f2.styleAttrs[n3.byName.direction.qname];
                  e4.ipd = "ltr" === T ? "lr" : "rl";
                }
                for (var S = 0; S < d.length; S++) {
                  var b = d[S], A = f2.styleAttrs[b.qname];
                  void 0 !== A && null !== b.map && b.map(e4, h2, f2, A);
                }
                var I = h2, R = f2.styleAttrs[n3.byName.linePadding.qname];
                if (R && !R.isZero()) {
                  var w = R.toUsedLength(e4.w, e4.h);
                  if (w > 0) {
                    var N = Math.ceil(w) + "px";
                    "tb" === e4.bpd ? (I.style.paddingLeft = N, I.style.paddingRight = N) : (I.style.paddingTop = N, I.style.paddingBottom = N), e4.lp = R;
                  }
                }
                var C = f2.styleAttrs[n3.byName.multiRowAlign.qname];
                if (C && "auto" !== C) {
                  var D = document.createElement("span");
                  D.style.display = "inline-block", D.style.textAlign = C, h2.appendChild(D), I = D, e4.mra = C;
                }
                var O = f2.styleAttrs[n3.byName.rubyReserve.qname];
                if (O && "none" !== O[0] && (e4.rubyReserve = O), f2.styleAttrs[n3.byName.fillLineGap.qname] && (e4.flg = true), "span" === f2.kind && f2.text) {
                  var M = f2.styleAttrs[n3.byName.textEmphasis.qname];
                  if (M && "none" !== M.style && (e4.textEmphasis = true), n3.byName.textCombine.qname in f2.styleAttrs && "all" === f2.styleAttrs[n3.byName.textCombine.qname])
                    h2.textContent = f2.text, h2._isd_element = f2, M && c(e4, h2, 0, M);
                  else
                    for (var P = "", L = 0; L < f2.text.length; L++) {
                      P += f2.text.charAt(L);
                      var F = f2.text.charCodeAt(L);
                      if (F < 55296 || F > 56319 || L === f2.text.length - 1) {
                        var x = document.createElement("span");
                        x.textContent = P, M && c(e4, x, 0, M), h2.appendChild(x), P = "", x._isd_element = f2;
                      }
                    }
                }
                if ("contents" in f2)
                  for (var k = 0; k < f2.contents.length; k++)
                    i(e4, I, f2.contents[k], f2);
                var U = [];
                if ("p" === f2.kind && (l(e4, I, U, null), e4.rubyReserve && (function(e5, t5) {
                  for (var n4 = 0; n4 < e5.length; n4++) {
                    var r3, i2, a3 = document.createElement("ruby"), o2 = document.createElement("span");
                    o2.textContent = "", a3.appendChild(o2);
                    var s3, u2 = t5.rubyReserve[1].toUsedLength(t5.w, t5.h) + "px";
                    "both" === t5.rubyReserve[0] || "outside" === t5.rubyReserve[0] && 1 == e5.length ? ((r3 = document.createElement("rtc")).style[m] = p ? "after" : "under", r3.textContent = "", r3.style.fontSize = u2, (i2 = document.createElement("rtc")).style[m] = p ? "before" : "over", i2.textContent = "", i2.style.fontSize = u2, a3.appendChild(r3), a3.appendChild(i2)) : ((r3 = document.createElement("rtc")).textContent = "", r3.style.fontSize = u2, s3 = "after" === t5.rubyReserve[0] || "outside" === t5.rubyReserve[0] && n4 > 0 ? p ? "after" : "tb" === t5.bpd || "rl" === t5.bpd ? "under" : "over" : p ? "before" : "tb" === t5.bpd || "rl" === t5.bpd ? "over" : "under", r3.style[m] = s3, a3.appendChild(r3));
                    for (var l2 = null, c2 = 0; c2 < e5[n4].rbc.length; c2++)
                      if ("ruby" === e5[n4].rbc[c2].localName) {
                        l2 = e5[n4].rbc[c2];
                        for (var f3 = 0; f3 < l2.style.length; f3++)
                          a3.style.setProperty(l2.style.item(f3), l2.style.getPropertyValue(l2.style.item(f3)));
                        break;
                      }
                    (l2 = l2 || e5[n4].elements[0].node).parentElement.insertBefore(a3, l2);
                  }
                }(U, e4), e4.rubyReserve = null), (e4.ruby || e4.rubyReserve) && (function(e5, t5) {
                  for (var n4 = 0; n4 < e5.length; n4++)
                    for (var r3 = 0; r3 < e5[n4].rbc.length; r3++) {
                      var i2;
                      e5[n4].rbc[r3].style[m] || (i2 = p ? 0 === n4 ? "before" : "after" : "tb" === t5.bpd || "rl" === t5.bpd ? 0 === n4 ? "over" : "under" : 0 === n4 ? "under" : "over", e5[n4].rbc[r3].style[m] = i2);
                    }
                }(U, e4), e4.ruby = null), e4.textEmphasis && (function(e5, t5) {
                  for (var n4 = 0; n4 < e5.length; n4++)
                    for (var r3 = 0; r3 < e5[n4].te.length; r3++) {
                      var i2;
                      e5[n4].te[r3].style[E] && "none" !== e5[n4].te[r3].style[E] || (i2 = "tb" === t5.bpd ? 0 === n4 ? "left over" : "left under" : "rl" === t5.bpd ? 0 === n4 ? "right under" : "left under" : 0 === n4 ? "left under" : "right under", e5[n4].te[r3].style[E] = i2);
                    }
                }(U, e4), e4.textEmphasis = null), e4.mra && (function(e5) {
                  for (var t5 = 0; t5 < e5.length - 1; t5++) {
                    var n4 = e5[t5].elements.length;
                    if (0 !== n4 && false === e5[t5].br) {
                      var r3 = document.createElement("br"), i2 = e5[t5].elements[n4 - 1].node;
                      i2.parentElement.insertBefore(r3, i2.nextSibling);
                    }
                  }
                }(U), e4.mra = null), e4.lp && (function(e5, t5, n4) {
                  if (null !== e5)
                    for (var i2 = 0; i2 < e5.length; i2++) {
                      var a3 = e5[i2].elements.length, o2 = Math.ceil(t5) + "px", s3 = "-" + Math.ceil(t5) + "px";
                      if (0 !== a3) {
                        var u2 = e5[i2].elements[e5[i2].start_elem], l2 = e5[i2].elements[e5[i2].end_elem];
                        if (u2 === l2) {
                          var c2 = u2.node.getBoundingClientRect();
                          if (0 == c2.width || 0 == c2.height)
                            continue;
                        }
                        "lr" === n4.ipd ? (u2.node.style.marginLeft = s3, u2.node.style.paddingLeft = o2) : "rl" === n4.ipd ? (u2.node.style.paddingRight = o2, u2.node.style.marginRight = s3) : "tb" === n4.ipd && (u2.node.style.paddingTop = o2, u2.node.style.marginTop = s3), "lr" === n4.ipd ? (r2 || (l2.node.style.marginRight = s3), l2.node.style.paddingRight = o2) : "rl" === n4.ipd ? (l2.node.style.paddingLeft = o2, r2 || (l2.node.style.marginLeft = s3)) : "tb" === n4.ipd && (l2.node.style.paddingBottom = o2, l2.node.style.marginBottom = s3);
                      }
                    }
                }(U, e4.lp.toUsedLength(e4.w, e4.h), e4), e4.lp = null), function(e5, t5) {
                  for (var n4 = 0; n4 < e5.length; n4++)
                    for (var r3 = e5[n4], i2 = 1; i2 < r3.elements.length; ) {
                      var s3 = r3.elements[i2 - 1], u2 = r3.elements[i2];
                      o(s3.node, u2.node, t5) ? r3.elements.splice(i2, 1) : i2++;
                    }
                  for (var l2, c2, f3 = [], d2 = 0; d2 < e5.length; d2++)
                    for (var g3 = 0; g3 < e5[d2].elements.length; g3++)
                      (c2 = a2(l2 = e5[d2].elements[g3].node, f3, false)) && (l2.style.backgroundColor = c2);
                  for (var h3 = 0; h3 < f3.length; h3++)
                    f3[h3].style.backgroundColor = "";
                }(U, e4), e4.flg)) {
                  var Z = u(I.getBoundingClientRect(), e4);
                  !function(e5, t5, n4, r3, i2) {
                    for (var a3 = Math.sign(n4 - t5), o2 = 0; o2 <= e5.length; o2++) {
                      var s3, u2, l2, c2;
                      if (s3 = 0 === o2 ? Math.round(t5) : o2 === e5.length ? Math.round(n4) : Math.round((e5[o2 - 1].after + e5[o2].before) / 2), o2 > 0 && e5[o2 - 1])
                        for (l2 = 0; l2 < e5[o2 - 1].elements.length; l2++)
                          u2 = a3 * (s3 - (c2 = e5[o2 - 1].elements[l2]).after) + "px", "lr" === r3.bpd ? c2.node.style.paddingRight = u2 : "rl" === r3.bpd ? c2.node.style.paddingLeft = u2 : "tb" === r3.bpd && (c2.node.style.paddingBottom = u2);
                      if (o2 < e5.length)
                        for (l2 = 0; l2 < e5[o2].elements.length; l2++)
                          u2 = a3 * ((c2 = e5[o2].elements[l2]).before - s3) + "px", "lr" === r3.bpd ? c2.node.style.paddingLeft = u2 : "rl" === r3.bpd ? c2.node.style.paddingRight = u2 : "tb" === r3.bpd && (c2.node.style.paddingTop = u2);
                    }
                  }(U, Z.before, Z.after, e4), e4.flg = null;
                }
                if ("region" === f2.kind && "tb" === e4.bpd && e4.enableRollUp && f2.contents.length > 0 && "after" === f2.styleAttrs[n3.byName.displayAlign.qname]) {
                  l(e4, I, U, null);
                  var B = new s2("" === f2.id ? "_" : f2.id, U);
                  if (e4.currentISDState[B.id] = B, e4.previousISDState && B.id in e4.previousISDState && e4.previousISDState[B.id].plist.length > 0 && B.plist.length > 1 && B.plist[B.plist.length - 2].text === e4.previousISDState[B.id].plist[e4.previousISDState[B.id].plist.length - 1].text) {
                    var G = h2.firstElementChild, q = B.plist[B.plist.length - 1].after - B.plist[B.plist.length - 1].before;
                    G.style.bottom = "-" + q + "px", G.style.transition = "transform 0.4s", G.style.position = "relative", G.style.transform = "translateY(-" + q + "px)";
                  }
                }
              } else
                v(e4.errorHandler, "Error processing ISD element kind: " + f2.kind);
            }
            function a2(e4, t4, n4) {
              return e4.style.backgroundColor ? (n4 && !t4.includes(e4) && t4.push(e4), e4.style.backgroundColor) : "SPAN" === e4.parentElement.nodeName || "RUBY" === e4.parentElement.nodeName || "RBC" === e4.parentElement.nodeName || "RTC" === e4.parentElement.nodeName || "RT" === e4.parentElement.nodeName ? a2(e4.parentElement, t4, true) : void 0;
            }
            function o(e4, t4, n4) {
              if ("SPAN" === e4.tagName && "SPAN" === t4.tagName && e4._isd_element === t4._isd_element) {
                if (!e4._isd_element)
                  return v(n4.errorHandler, "Internal error: HTML span is not linked to a source element; cannot merge spans."), false;
                e4.textContent += t4.textContent;
                for (var r3 = 0; r3 < t4.style.length; r3++) {
                  var i2 = t4.style[r3];
                  (i2.indexOf("border") >= 0 || i2.indexOf("padding") >= 0 || i2.indexOf("margin") >= 0) && (e4.style[i2] = t4.style[i2]);
                }
                return t4.parentElement.removeChild(t4), true;
              }
              return false;
            }
            function s2(e4, t4) {
              this.id = e4, this.plist = t4;
            }
            function u(e4, t4) {
              var n4 = { before: null, after: null, start: null, end: null };
              return "tb" === t4.bpd ? (n4.before = e4.top, n4.after = e4.bottom, "lr" === t4.ipd ? (n4.start = e4.left, n4.end = e4.right) : (n4.start = e4.right, n4.end = e4.left)) : "lr" === t4.bpd ? (n4.before = e4.left, n4.after = e4.right, n4.start = e4.top, n4.end = e4.bottom) : "rl" === t4.bpd && (n4.before = e4.right, n4.after = e4.left, n4.start = e4.top, n4.end = e4.bottom), n4;
            }
            function l(e4, t4, n4, r3) {
              if ("rt" !== t4.localName && "rtc" !== t4.localName) {
                var i2, a3, o2, s3, c2 = t4.style.backgroundColor || r3;
                if (0 === t4.childElementCount)
                  if ("span" === t4.localName || "rb" === t4.localName) {
                    var f2 = u(t4.getBoundingClientRect(), e4);
                    if (0 !== n4.length && (i2 = f2.before, a3 = f2.after, o2 = n4[n4.length - 1].before, a3 < (s3 = n4[n4.length - 1].after) && i2 > o2 || s3 <= a3 && o2 >= i2)) {
                      var d2 = Math.sign(f2.after - f2.before), g2 = Math.sign(f2.end - f2.start);
                      d2 * (f2.before - n4[n4.length - 1].before) < 0 && (n4[n4.length - 1].before = f2.before), d2 * (f2.after - n4[n4.length - 1].after) > 0 && (n4[n4.length - 1].after = f2.after), g2 * (f2.start - n4[n4.length - 1].start) < 0 && (n4[n4.length - 1].start = f2.start, n4[n4.length - 1].start_elem = n4[n4.length - 1].elements.length), g2 * (f2.end - n4[n4.length - 1].end) > 0 && (n4[n4.length - 1].end = f2.end, n4[n4.length - 1].end_elem = n4[n4.length - 1].elements.length);
                    } else
                      n4.push({ before: f2.before, after: f2.after, start: f2.start, end: f2.end, start_elem: 0, end_elem: 0, elements: [], rbc: [], te: [], text: "", br: false });
                    n4[n4.length - 1].text += t4.textContent, n4[n4.length - 1].elements.push({ node: t4, bgcolor: c2, before: f2.before, after: f2.after });
                  } else
                    "br" === t4.localName && 0 !== n4.length && (n4[n4.length - 1].br = true);
                else
                  for (var h2 = t4.firstChild; h2; )
                    h2.nodeType === Node.ELEMENT_NODE && (l(e4, h2, n4, c2), "ruby" === h2.localName || "rtc" === h2.localName ? n4.length > 0 && n4[n4.length - 1].rbc.push(h2) : "span" === h2.localName && h2.style[y] && "none" !== h2.style[y] && n4.length > 0 && n4[n4.length - 1].te.push(h2)), h2 = h2.nextSibling;
              }
            }
            function c(e4, t4, n4, r3) {
              var i2;
              "none" !== r3.style && ("auto" === r3.style ? t4.style[y] = "filled" : t4.style[y] = r3.style + " " + r3.symbol, ("before" === r3.position || "after" === r3.position) && (i2 = "tb" === e4.bpd ? "before" === r3.position ? "left over" : "left under" : "rl" === e4.bpd ? "before" === r3.position ? "right under" : "left under" : "before" === r3.position ? "left under" : "right under", t4.style[E] = i2));
            }
            function f(e4, t4) {
              this.qname = e4, this.map = t4;
            }
            e3.render = function(e4, t4, n4, r3, a3, o2, s3, u2, l2) {
              var c2 = r3 || t4.clientHeight, f2 = a3 || t4.clientWidth;
              if (null !== e4.aspectRatio) {
                var d2 = c2 * e4.aspectRatio;
                d2 > f2 ? c2 = Math.round(f2 / e4.aspectRatio) : f2 = d2;
              }
              var g2 = document.createElement("div");
              g2.style.position = "relative", g2.style.width = f2 + "px", g2.style.height = c2 + "px", g2.style.margin = "auto", g2.style.top = 0, g2.style.bottom = 0, g2.style.left = 0, g2.style.right = 0, g2.style.zIndex = 0;
              var h2 = { h: c2, w: f2, regionH: null, regionW: null, imgResolver: n4, displayForcedOnlyMode: o2 || false, isd: e4, errorHandler: s3, previousISDState: u2, enableRollUp: l2 || false, currentISDState: {}, flg: null, lp: null, mra: null, ipd: null, bpd: null, ruby: null, textEmphasis: null, rubyReserve: null };
              if (t4.appendChild(g2), "contents" in e4)
                for (var p2 = 0; p2 < e4.contents.length; p2++)
                  i(h2, g2, e4.contents[p2], e4);
              return h2.currentISDState;
            };
            for (var d = [new f("http://www.w3.org/ns/ttml#styling backgroundColor", function(e4, t4, n4, r3) {
              0 !== r3[3] && (t4.style.backgroundColor = "rgba(" + r3[0].toString() + "," + r3[1].toString() + "," + r3[2].toString() + "," + (r3[3] / 255).toString() + ")");
            }), new f("http://www.w3.org/ns/ttml#styling color", function(e4, t4, n4, r3) {
              t4.style.color = "rgba(" + r3[0].toString() + "," + r3[1].toString() + "," + r3[2].toString() + "," + (r3[3] / 255).toString() + ")";
            }), new f("http://www.w3.org/ns/ttml#styling direction", function(e4, t4, n4, r3) {
              t4.style.direction = r3;
            }), new f("http://www.w3.org/ns/ttml#styling display", function(e4, t4, n4, r3) {
            }), new f("http://www.w3.org/ns/ttml#styling displayAlign", function(e4, t4, n4, r3) {
              t4.style.display = "flex", t4.style.flexDirection = "column", "before" === r3 ? t4.style.justifyContent = "flex-start" : "center" === r3 ? t4.style.justifyContent = "center" : "after" === r3 && (t4.style.justifyContent = "flex-end");
            }), new f("http://www.w3.org/ns/ttml#styling extent", function(e4, t4, n4, r3) {
              e4.regionH = r3.h.toUsedLength(e4.w, e4.h), e4.regionW = r3.w.toUsedLength(e4.w, e4.h);
              var i2 = 0, a3 = 0, o2 = n4.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];
              o2 && (i2 = o2[0].toUsedLength(e4.w, e4.h) + o2[2].toUsedLength(e4.w, e4.h), a3 = o2[1].toUsedLength(e4.w, e4.h) + o2[3].toUsedLength(e4.w, e4.h)), t4.style.height = e4.regionH - i2 + "px", t4.style.width = e4.regionW - a3 + "px";
            }), new f("http://www.w3.org/ns/ttml#styling fontFamily", function(e4, t4, n4, r3) {
              for (var i2 = [], a3 = 0; a3 < r3.length; a3++)
                r3[a3] = r3[a3].trim(), "monospaceSerif" === r3[a3] ? (i2.push("Courier New"), i2.push('"Liberation Mono"'), i2.push("Courier"), i2.push("monospace")) : "proportionalSansSerif" === r3[a3] ? (i2.push("Arial"), i2.push("Helvetica"), i2.push('"Liberation Sans"'), i2.push("sans-serif")) : "monospace" === r3[a3] ? i2.push("monospace") : "sansSerif" === r3[a3] ? i2.push("sans-serif") : "serif" === r3[a3] ? i2.push("serif") : "monospaceSansSerif" === r3[a3] ? (i2.push("Consolas"), i2.push("monospace")) : "proportionalSerif" === r3[a3] ? i2.push("serif") : i2.push(r3[a3]);
              if (i2.length > 0) {
                for (var o2 = [i2[0]], s3 = 1; s3 < i2.length; s3++)
                  -1 == o2.indexOf(i2[s3]) && o2.push(i2[s3]);
                i2 = o2;
              }
              t4.style.fontFamily = i2.join(",");
            }), new f("http://www.w3.org/ns/ttml#styling shear", function(e4, t4, n4, r3) {
              if (0 !== r3) {
                var i2 = -0.9 * r3;
                "tb" === e4.bpd ? t4.style.transform = "skewX(" + i2 + "deg)" : t4.style.transform = "skewY(" + i2 + "deg)";
              }
            }), new f("http://www.w3.org/ns/ttml#styling fontSize", function(e4, t4, n4, r3) {
              t4.style.fontSize = r3.toUsedLength(e4.w, e4.h) + "px";
            }), new f("http://www.w3.org/ns/ttml#styling fontStyle", function(e4, t4, n4, r3) {
              t4.style.fontStyle = r3;
            }), new f("http://www.w3.org/ns/ttml#styling fontWeight", function(e4, t4, n4, r3) {
              t4.style.fontWeight = r3;
            }), new f("http://www.w3.org/ns/ttml#styling lineHeight", function(e4, t4, n4, r3) {
              t4.style.lineHeight = "normal" === r3 ? "normal" : r3.toUsedLength(e4.w, e4.h) + "px";
            }), new f("http://www.w3.org/ns/ttml#styling opacity", function(e4, t4, n4, r3) {
              t4.style.opacity = r3;
            }), new f("http://www.w3.org/ns/ttml#styling origin", function(e4, t4, n4, r3) {
              t4.style.top = r3.h.toUsedLength(e4.w, e4.h) + "px", t4.style.left = r3.w.toUsedLength(e4.w, e4.h) + "px";
            }), new f("http://www.w3.org/ns/ttml#styling overflow", function(e4, t4, n4, r3) {
              t4.style.overflow = r3;
            }), new f("http://www.w3.org/ns/ttml#styling padding", function(e4, t4, n4, r3) {
              var i2 = [];
              i2[0] = r3[0].toUsedLength(e4.w, e4.h) + "px", i2[1] = r3[3].toUsedLength(e4.w, e4.h) + "px", i2[2] = r3[2].toUsedLength(e4.w, e4.h) + "px", i2[3] = r3[1].toUsedLength(e4.w, e4.h) + "px", t4.style.padding = i2.join(" ");
            }), new f("http://www.w3.org/ns/ttml#styling position", function(e4, t4, n4, r3) {
              t4.style.top = r3.h.toUsedLength(e4.w, e4.h) + "px", t4.style.left = r3.w.toUsedLength(e4.w, e4.h) + "px";
            }), new f("http://www.w3.org/ns/ttml#styling rubyAlign", function(e4, t4, n4, r3) {
              t4.style.rubyAlign = "spaceAround" === r3 ? "space-around" : "center";
            }), new f("http://www.w3.org/ns/ttml#styling rubyPosition", function(e4, t4, n4, r3) {
              var i2;
              "before" !== r3 && "after" !== r3 || (i2 = p ? r3 : "tb" === e4.bpd || "rl" === e4.bpd ? "before" === r3 ? "over" : "under" : "before" === r3 ? "under" : "over", t4.parentElement.style[m] = i2);
            }), new f("http://www.w3.org/ns/ttml#styling showBackground", null), new f("http://www.w3.org/ns/ttml#styling textAlign", function(e4, t4, n4, r3) {
              var i2;
              i2 = "start" === r3 ? "rl" === e4.ipd ? "right" : "left" : "end" === r3 ? "rl" === e4.ipd ? "left" : "right" : r3, t4.style.textAlign = i2;
            }), new f("http://www.w3.org/ns/ttml#styling textDecoration", function(e4, t4, n4, r3) {
              t4.style.textDecoration = r3.join(" ").replace("lineThrough", "line-through");
            }), new f("http://www.w3.org/ns/ttml#styling textOutline", function(e4, t4, n4, r3) {
            }), new f("http://www.w3.org/ns/ttml#styling textShadow", function(e4, t4, r3, i2) {
              var a3 = r3.styleAttrs[n3.byName.textOutline.qname];
              if ("none" === i2 && "none" === a3)
                t4.style.textShadow = "";
              else {
                var o2 = [];
                if ("none" !== a3) {
                  var s3 = "rgba(" + a3.color[0].toString() + "," + a3.color[1].toString() + "," + a3.color[2].toString() + "," + (a3.color[3] / 255).toString() + ")";
                  o2.push("1px 1px 1px " + s3), o2.push("-1px 1px 1px " + s3), o2.push("1px -1px 1px " + s3), o2.push("-1px -1px 1px " + s3);
                }
                if ("none" !== i2)
                  for (var u2 = 0; u2 < i2.length; u2++)
                    o2.push(i2[u2].x_off.toUsedLength(e4.w, e4.h) + "px " + i2[u2].y_off.toUsedLength(e4.w, e4.h) + "px " + i2[u2].b_radius.toUsedLength(e4.w, e4.h) + "px rgba(" + i2[u2].color[0].toString() + "," + i2[u2].color[1].toString() + "," + i2[u2].color[2].toString() + "," + (i2[u2].color[3] / 255).toString() + ")");
                t4.style.textShadow = o2.join(",");
              }
            }), new f("http://www.w3.org/ns/ttml#styling textCombine", function(e4, t4, n4, r3) {
              t4.style.textCombineUpright = r3;
            }), new f("http://www.w3.org/ns/ttml#styling textEmphasis", function(e4, t4, n4, r3) {
            }), new f("http://www.w3.org/ns/ttml#styling unicodeBidi", function(e4, t4, n4, r3) {
              var i2;
              i2 = "bidiOverride" === r3 ? "bidi-override" : r3, t4.style.unicodeBidi = i2;
            }), new f("http://www.w3.org/ns/ttml#styling visibility", function(e4, t4, n4, r3) {
              t4.style.visibility = r3;
            }), new f("http://www.w3.org/ns/ttml#styling wrapOption", function(e4, t4, n4, r3) {
              "wrap" === r3 ? "preserve" === n4.space ? t4.style.whiteSpace = "pre-wrap" : t4.style.whiteSpace = "normal" : "preserve" === n4.space ? t4.style.whiteSpace = "pre" : t4.style.whiteSpace = "noWrap";
            }), new f("http://www.w3.org/ns/ttml#styling writingMode", function(e4, t4, n4, r3) {
              "lrtb" === r3 || "lr" === r3 || "rltb" === r3 || "rl" === r3 ? t4.style.writingMode = "horizontal-tb" : "tblr" === r3 ? t4.style.writingMode = "vertical-lr" : "tbrl" !== r3 && "tb" !== r3 || (t4.style.writingMode = "vertical-rl");
            }), new f("http://www.w3.org/ns/ttml#styling zIndex", function(e4, t4, n4, r3) {
              t4.style.zIndex = r3;
            }), new f("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay", function(e4, t4, n4, r3) {
              e4.displayForcedOnlyMode && false === r3 && (t4.style.visibility = "hidden");
            })], g = {}, h = 0; h < d.length; h++)
              g[d[h].qname] = d[h];
            var p = "webkitRubyPosition" in window.getComputedStyle(document.documentElement), m = p ? "webkitRubyPosition" : "rubyPosition", y = "webkitTextEmphasisStyle" in window.getComputedStyle(document.documentElement) ? "webkitTextEmphasisStyle" : "textEmphasisStyle", E = "webkitTextEmphasisPosition" in window.getComputedStyle(document.documentElement) ? "webkitTextEmphasisPosition" : "textEmphasisPosition";
            function v(e4, t4) {
              if (e4 && e4.error && e4.error(t4))
                throw t4;
            }
          }(t2, "undefined" == typeof imscNames ? n2(210) : imscNames, "undefined" == typeof imscStyles ? n2(6811) : imscStyles, "undefined" == typeof imscUtils ? n2(5926) : imscUtils);
        }, 4080: function(e2, t2, n2) {
          !function(e3, t3, n3, r2) {
            e3.generateISD = function(e4, t4, r3) {
              var i2, o2 = new u(e4), s3 = {}, l2 = {}, c2 = e4.head.styling.initials[n3.byName.showBackground.qname], f = e4.head.styling.initials[n3.byName.backgroundColor.qname];
              for (var d in e4.head.layout.regions)
                if (e4.head.layout.regions.hasOwnProperty(d)) {
                  var g = e4.head.layout.regions[d], h = g.styleAttrs[n3.byName.showBackground.qname] || c2, p = g.styleAttrs[n3.byName.backgroundColor.qname] || f;
                  l2[g.id] = ("always" === h || void 0 === h) && void 0 !== p && !(t4 < g.begin || t4 >= g.end);
                }
              for (var m in e4.body && e4.body.regionID && (l2[e4.body.regionID] = true), i2 = null !== e4.body ? function e5(t5, n4) {
                if (n4.contents) {
                  var r4 = {};
                  for (var i3 in n4)
                    n4.hasOwnProperty(i3) && (r4[i3] = n4[i3]);
                  return r4.contents = [], n4.contents.filter(function(e6) {
                    return !(t5 < e6.begin || t5 >= e6.end);
                  }).forEach(function(n5) {
                    var i4 = e5(t5, n5);
                    i4.regionID && (l2[i4.regionID] = true), null !== i4 && r4.contents.push(i4);
                  }), r4;
                }
                return n4;
              }(t4, e4.body) : null, void 0 !== l2[""] && (l2[""] = true), l2)
                if (l2[m]) {
                  var y = a2(e4, t4, e4.head.layout.regions[m], i2, null, "", e4.head.layout.regions[m], r3, s3);
                  null !== y && o2.contents.push(y.element);
                }
              return o2;
            };
            var i = [n3.byName.color.qname, n3.byName.textCombine.qname, n3.byName.textDecoration.qname, n3.byName.textEmphasis.qname, n3.byName.textOutline.qname, n3.byName.textShadow.qname];
            function a2(e4, t4, u2, f, d, g, h, p, m) {
              if (t4 < h.begin || t4 >= h.end)
                return null;
              var y = "regionID" in h && "" !== h.regionID ? h.regionID : g;
              if (null !== d && y !== u2.id && (!("contents" in h) || "contents" in h && 0 === h.contents.length || "" !== y))
                return null;
              var E = new l(h);
              if ("sets" in h)
                for (var v = 0; v < h.sets.length; v++)
                  t4 < h.sets[v].begin || t4 >= h.sets[v].end || (E.styleAttrs[h.sets[v].qname] = h.sets[v].value);
              var _ = {};
              for (var T in E.styleAttrs)
                if (E.styleAttrs.hasOwnProperty(T) && (_[T] = true, "region" === E.kind && T === n3.byName.writingMode.qname && !(n3.byName.direction.qname in E.styleAttrs))) {
                  var S = E.styleAttrs[T];
                  "lrtb" === S || "lr" === S ? E.styleAttrs[n3.byName.direction.qname] = "ltr" : "rltb" !== S && "rl" !== S || (E.styleAttrs[n3.byName.direction.qname] = "rtl");
                }
              if (null !== d)
                for (var b = 0; b < n3.all.length; b++) {
                  var A = n3.all[b];
                  if (A.qname === n3.byName.textDecoration.qname) {
                    var I = d.styleAttrs[A.qname], R = E.styleAttrs[A.qname], w = [];
                    void 0 === R ? w = I : -1 === R.indexOf("none") ? ((-1 === R.indexOf("noUnderline") && -1 !== I.indexOf("underline") || -1 !== R.indexOf("underline")) && w.push("underline"), (-1 === R.indexOf("noLineThrough") && -1 !== I.indexOf("lineThrough") || -1 !== R.indexOf("lineThrough")) && w.push("lineThrough"), (-1 === R.indexOf("noOverline") && -1 !== I.indexOf("overline") || -1 !== R.indexOf("overline")) && w.push("overline")) : w.push("none"), E.styleAttrs[A.qname] = w;
                  } else if (A.qname !== n3.byName.fontSize.qname || A.qname in E.styleAttrs || "span" !== E.kind || "textContainer" !== E.styleAttrs[n3.byName.ruby.qname])
                    if (A.qname !== n3.byName.fontSize.qname || A.qname in E.styleAttrs || "span" !== E.kind || "text" !== E.styleAttrs[n3.byName.ruby.qname])
                      A.inherit && A.qname in d.styleAttrs && !(A.qname in E.styleAttrs) && (E.styleAttrs[A.qname] = d.styleAttrs[A.qname]);
                    else {
                      var N = d.styleAttrs[n3.byName.fontSize.qname];
                      "textContainer" === d.styleAttrs[n3.byName.ruby.qname] ? E.styleAttrs[A.qname] = N : E.styleAttrs[A.qname] = new r2.ComputedLength(0.5 * N.rw, 0.5 * N.rh);
                    }
                  else {
                    var C = d.styleAttrs[n3.byName.fontSize.qname];
                    E.styleAttrs[A.qname] = new r2.ComputedLength(0.5 * C.rw, 0.5 * C.rh);
                  }
                }
              for (var D = 0; D < n3.all.length; D++) {
                var O = n3.all[D];
                if (!(O.qname in E.styleAttrs) && !(O.qname === n3.byName.position.qname && n3.byName.origin.qname in E.styleAttrs || O.qname === n3.byName.origin.qname && n3.byName.position.qname in E.styleAttrs)) {
                  var M = e4.head.styling.initials[O.qname] || O.initial;
                  if (null !== M && ("region" === E.kind || false === O.inherit && null !== M)) {
                    var P = O.parse(M);
                    null !== P ? (E.styleAttrs[O.qname] = P, _[O.qname] = true) : c(p, "Invalid initial value for '" + O.qname + "' on element '" + E.kind);
                  }
                }
              }
              for (var L = 0; L < n3.all.length; L++) {
                var F = n3.all[L];
                if (F.qname in _ && null !== F.compute) {
                  var x = F.compute(e4, d, E, E.styleAttrs[F.qname], m);
                  null !== x ? E.styleAttrs[F.qname] = x : (E.styleAttrs[F.qname] = F.compute(e4, d, E, F.parse(F.initial), m), c(p, "Style '" + F.qname + "' on element '" + E.kind + "' cannot be computed"));
                }
              }
              if ("none" === E.styleAttrs[n3.byName.display.qname])
                return null;
              var k = null;
              null === d ? k = null === f ? [] : [f] : "contents" in h && (k = h.contents);
              for (var U = 0; null !== k && U < k.length; U++) {
                var Z = a2(e4, t4, u2, f, E, y, k[U], p, m);
                null !== Z && E.contents.push(Z.element);
              }
              for (var B in E.styleAttrs)
                if (E.styleAttrs.hasOwnProperty(B)) {
                  var G = false;
                  if ("span" === E.kind) {
                    var q = E.styleAttrs[n3.byName.ruby.qname];
                    (G = ("container" === q || "textContainer" === q || "baseContainer" === q) && -1 !== i.indexOf(B)) || (G = "container" !== q && B === n3.byName.rubyAlign.qname), G || (G = !("textContainer" === q || "text" === q) && B === n3.byName.rubyPosition.qname);
                  }
                  if (!G) {
                    var Y = n3.byQName[B];
                    "applies" in Y && (G = -1 === Y.applies.indexOf(E.kind));
                  }
                  G && delete E.styleAttrs[B];
                }
              var j = E.styleAttrs[n3.byName.ruby.qname];
              if ("p" === E.kind || "span" === E.kind && ("textContainer" === j || "text" === j)) {
                var H = [];
                o(E, H), function(e5) {
                  for (var t5, n4 = 0; n4 < e5.length; )
                    if ("br" !== (t5 = e5[n4]).kind && "preserve" !== t5.space) {
                      var r3 = t5.text.replace(/[\t\r\n ]+/g, " ");
                      /^[ ]/.test(r3) && (0 === n4 || ("br" === (i2 = e5[n4 - 1]).kind || /[\r\n\t ]$/.test(i2.text))) && (r3 = r3.substring(1)), t5.text = r3, 0 === r3.length ? e5.splice(n4, 1) : n4++;
                    } else
                      n4++;
                  var i2, a3;
                  for (n4 = 0; n4 < e5.length; n4++)
                    "br" !== (t5 = e5[n4]).kind && "preserve" !== t5.space ? /[ ]$/.test(t5.text) && (n4 === e5.length - 1 || ("br" === (a3 = e5[n4 + 1]).kind || "preserve" === a3.space && /^[\r\n]/.test(a3.text))) && (t5.text = t5.text.slice(0, -1)) : n4++;
                }(H), s2(E);
              }
              return "div" === E.kind && n3.byName.backgroundImage.qname in E.styleAttrs || "br" === E.kind || "image" === E.kind || "contents" in E && E.contents.length > 0 || "span" === E.kind && null !== E.text || "region" === E.kind && "always" === E.styleAttrs[n3.byName.showBackground.qname] ? { region_id: y, element: E } : null;
            }
            function o(e4, t4) {
              if ("contents" in e4)
                for (var r3 = 0; r3 < e4.contents.length; r3++) {
                  var i2 = e4.contents[r3], a3 = i2.styleAttrs[n3.byName.ruby.qname];
                  ("span" !== i2.kind || "textContainer" !== a3 && "text" !== a3) && ("contents" in i2 ? o(i2, t4) : ("span" === i2.kind && 0 !== i2.text.length || "br" === i2.kind) && t4.push(i2));
                }
            }
            function s2(e4) {
              if ("br" === e4.kind)
                return false;
              if ("text" in e4)
                return 0 === e4.text.length;
              if ("contents" in e4) {
                for (var t4 = e4.contents.length; t4--; )
                  s2(e4.contents[t4]) && e4.contents.splice(t4, 1);
                return 0 === e4.contents.length;
              }
            }
            function u(e4) {
              this.contents = [], this.aspectRatio = e4.aspectRatio, this.lang = e4.lang;
            }
            function l(e4) {
              for (var t4 in this.kind = e4.kind || "region", this.lang = e4.lang, e4.id && (this.id = e4.id), this.styleAttrs = {}, e4.styleAttrs)
                e4.styleAttrs.hasOwnProperty(t4) && (this.styleAttrs[t4] = e4.styleAttrs[t4]);
              "src" in e4 && (this.src = e4.src), "type" in e4 && (this.type = e4.type), "text" in e4 ? this.text = e4.text : ("region" === this.kind || "contents" in e4) && (this.contents = []), "space" in e4 && (this.space = e4.space);
            }
            function c(e4, t4) {
              if (e4 && e4.error && e4.error(t4))
                throw t4;
            }
          }(t2, "undefined" == typeof imscNames ? n2(210) : imscNames, "undefined" == typeof imscStyles ? n2(6811) : imscStyles, "undefined" == typeof imscUtils ? n2(5926) : imscUtils);
        }, 4403: function(e2, t2, n2) {
          t2.generateISD = n2(4080).generateISD, t2.fromXML = n2(3362).fromXML, t2.renderHTML = n2(506).render;
        }, 210: function(e2, t2) {
          !function(e3) {
            e3.ns_tt = "http://www.w3.org/ns/ttml", e3.ns_tts = "http://www.w3.org/ns/ttml#styling", e3.ns_ttp = "http://www.w3.org/ns/ttml#parameter", e3.ns_xml = "http://www.w3.org/XML/1998/namespace", e3.ns_itts = "http://www.w3.org/ns/ttml/profile/imsc1#styling", e3.ns_ittp = "http://www.w3.org/ns/ttml/profile/imsc1#parameter", e3.ns_smpte = "http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt", e3.ns_ebutts = "urn:ebu:tt:style";
          }(t2);
        }, 6811: function(e2, t2, n2) {
          !function(e3, t3, n3) {
            function r2(e4, t4, n4, r3, i2, a3, o, s2) {
              this.name = t4, this.ns = e4, this.qname = e4 + " " + t4, this.inherit = i2, this.animatable = a3, this.initial = n4, this.applies = r3, this.parse = o, this.compute = s2;
            }
            for (var i in e3.all = [new r2(t3.ns_tts, "backgroundColor", "transparent", ["body", "div", "p", "region", "span"], false, true, n3.parseColor, null), new r2(t3.ns_tts, "color", "white", ["span"], true, true, n3.parseColor, null), new r2(t3.ns_tts, "direction", "ltr", ["p", "span"], true, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "display", "auto", ["body", "div", "p", "region", "span"], false, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "displayAlign", "before", ["region"], false, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "extent", "auto", ["tt", "region"], false, true, function(e4) {
              if ("auto" === e4)
                return e4;
              var t4 = e4.split(" ");
              if (2 !== t4.length)
                return null;
              var r3 = n3.parseLength(t4[0]), i2 = n3.parseLength(t4[1]);
              return i2 && r3 ? { h: i2, w: r3 } : null;
            }, function(e4, t4, r3, i2, a3) {
              var o, s2;
              if ("auto" === i2)
                o = new n3.ComputedLength(0, 1);
              else if (null === (o = n3.toComputedLength(i2.h.value, i2.h.unit, null, e4.dimensions.h, null, e4.pxLength.h)))
                return null;
              if ("auto" === i2)
                s2 = new n3.ComputedLength(1, 0);
              else if (null === (s2 = n3.toComputedLength(i2.w.value, i2.w.unit, null, e4.dimensions.w, null, e4.pxLength.w)))
                return null;
              return { h: o, w: s2 };
            }), new r2(t3.ns_tts, "fontFamily", "default", ["span", "p"], true, true, function(e4) {
              for (var t4 = e4.split(","), n4 = [], r3 = 0; r3 < t4.length; r3++)
                t4[r3] = t4[r3].trim(), "'" !== t4[r3].charAt(0) && '"' !== t4[r3].charAt(0) && "default" === t4[r3] ? n4.push("monospaceSerif") : n4.push(t4[r3]);
              return n4;
            }, null), new r2(t3.ns_tts, "shear", "0%", ["p"], true, true, n3.parseLength, function(e4, t4, n4, r3) {
              return "%" !== r3.unit ? null : Math.abs(r3.value) > 100 ? 100 * Math.sign(r3.value) : r3.value;
            }), new r2(t3.ns_tts, "fontSize", "1c", ["span", "p"], true, true, n3.parseLength, function(t4, r3, i2, a3, o) {
              return n3.toComputedLength(a3.value, a3.unit, null !== r3 ? r3.styleAttrs[e3.byName.fontSize.qname] : t4.cellLength.h, null !== r3 ? r3.styleAttrs[e3.byName.fontSize.qname] : t4.cellLength.h, t4.cellLength.h, t4.pxLength.h);
            }), new r2(t3.ns_tts, "fontStyle", "normal", ["span", "p"], true, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "fontWeight", "normal", ["span", "p"], true, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "lineHeight", "normal", ["p"], true, true, function(e4) {
              return "normal" === e4 ? e4 : n3.parseLength(e4);
            }, function(t4, r3, i2, a3, o) {
              var s2;
              if ("normal" === a3)
                s2 = a3;
              else if (null === (s2 = n3.toComputedLength(a3.value, a3.unit, i2.styleAttrs[e3.byName.fontSize.qname], i2.styleAttrs[e3.byName.fontSize.qname], t4.cellLength.h, t4.pxLength.h)))
                return null;
              return s2;
            }), new r2(t3.ns_tts, "opacity", 1, ["region"], false, true, parseFloat, null), new r2(t3.ns_tts, "origin", "auto", ["region"], false, true, function(e4) {
              if ("auto" === e4)
                return e4;
              var t4 = e4.split(" ");
              if (2 !== t4.length)
                return null;
              var r3 = n3.parseLength(t4[0]), i2 = n3.parseLength(t4[1]);
              return i2 && r3 ? { h: i2, w: r3 } : null;
            }, function(e4, t4, r3, i2, a3) {
              var o, s2;
              if ("auto" === i2)
                o = new n3.ComputedLength(0, 0);
              else if (null === (o = n3.toComputedLength(i2.h.value, i2.h.unit, null, e4.dimensions.h, null, e4.pxLength.h)))
                return null;
              if ("auto" === i2)
                s2 = new n3.ComputedLength(0, 0);
              else if (null === (s2 = n3.toComputedLength(i2.w.value, i2.w.unit, null, e4.dimensions.w, null, e4.pxLength.w)))
                return null;
              return { h: o, w: s2 };
            }), new r2(t3.ns_tts, "overflow", "hidden", ["region"], false, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "padding", "0px", ["region"], false, true, function(e4) {
              var t4 = e4.split(" ");
              if (t4.length > 4)
                return null;
              for (var r3 = [], i2 = 0; i2 < t4.length; i2++) {
                var a3 = n3.parseLength(t4[i2]);
                if (!a3)
                  return null;
                r3.push(a3);
              }
              return r3;
            }, function(t4, r3, i2, a3, o) {
              var s2;
              if (1 === a3.length)
                s2 = [a3[0], a3[0], a3[0], a3[0]];
              else if (2 === a3.length)
                s2 = [a3[0], a3[1], a3[0], a3[1]];
              else if (3 === a3.length)
                s2 = [a3[0], a3[1], a3[2], a3[1]];
              else {
                if (4 !== a3.length)
                  return null;
                s2 = [a3[0], a3[1], a3[2], a3[3]];
              }
              var u = i2.styleAttrs[e3.byName.writingMode.qname];
              if ("lrtb" === u || "lr" === u)
                s2 = [s2[0], s2[3], s2[2], s2[1]];
              else if ("rltb" === u || "rl" === u)
                s2 = [s2[0], s2[1], s2[2], s2[3]];
              else if ("tblr" === u)
                s2 = [s2[3], s2[0], s2[1], s2[2]];
              else {
                if ("tbrl" !== u && "tb" !== u)
                  return null;
                s2 = [s2[3], s2[2], s2[1], s2[0]];
              }
              for (var l = [], c = 0; c < s2.length; c++)
                if (0 === s2[c].value)
                  l[c] = new n3.ComputedLength(0, 0);
                else if (l[c] = n3.toComputedLength(s2[c].value, s2[c].unit, i2.styleAttrs[e3.byName.fontSize.qname], 0 === c || 2 === c ? i2.styleAttrs[e3.byName.extent.qname].h : i2.styleAttrs[e3.byName.extent.qname].w, 0 === c || 2 === c ? t4.cellLength.h : t4.cellLength.w, 0 === c || 2 === c ? t4.pxLength.h : t4.pxLength.w), null === l[c])
                  return null;
              return l;
            }), new r2(t3.ns_tts, "position", "top left", ["region"], false, true, function(e4) {
              return n3.parsePosition(e4);
            }, function(t4, r3, i2, a3) {
              var o, s2;
              return null === (o = n3.toComputedLength(a3.v.offset.value, a3.v.offset.unit, null, new n3.ComputedLength(-i2.styleAttrs[e3.byName.extent.qname].h.rw, t4.dimensions.h.rh - i2.styleAttrs[e3.byName.extent.qname].h.rh), null, t4.pxLength.h)) ? null : ("bottom" === a3.v.edge && (o = new n3.ComputedLength(-o.rw - i2.styleAttrs[e3.byName.extent.qname].h.rw, t4.dimensions.h.rh - o.rh - i2.styleAttrs[e3.byName.extent.qname].h.rh)), s2 = n3.toComputedLength(a3.h.offset.value, a3.h.offset.unit, null, new n3.ComputedLength(t4.dimensions.w.rw - i2.styleAttrs[e3.byName.extent.qname].w.rw, -i2.styleAttrs[e3.byName.extent.qname].w.rh), null, t4.pxLength.w), null === o ? null : ("right" === a3.h.edge && (s2 = new n3.ComputedLength(t4.dimensions.w.rw - s2.rw - i2.styleAttrs[e3.byName.extent.qname].w.rw, -s2.rh - i2.styleAttrs[e3.byName.extent.qname].w.rh)), { h: o, w: s2 }));
            }), new r2(t3.ns_tts, "ruby", "none", ["span"], false, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "rubyAlign", "center", ["span"], true, true, function(e4) {
              return "center" !== e4 && "spaceAround" !== e4 ? null : e4;
            }, null), new r2(t3.ns_tts, "rubyPosition", "outside", ["span"], true, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "rubyReserve", "none", ["p"], true, true, function(e4) {
              var t4 = e4.split(" "), r3 = [null, null];
              if (0 === t4.length || t4.length > 2)
                return null;
              if ("none" !== t4[0] && "both" !== t4[0] && "after" !== t4[0] && "before" !== t4[0] && "outside" !== t4[0])
                return null;
              if (r3[0] = t4[0], 2 === t4.length && "none" !== t4[0]) {
                var i2 = n3.parseLength(t4[1]);
                if (!i2)
                  return null;
                r3[1] = i2;
              }
              return r3;
            }, function(t4, r3, i2, a3, o) {
              if ("none" === a3[0])
                return a3;
              var s2;
              return null === (s2 = null === a3[1] ? new n3.ComputedLength(0.5 * i2.styleAttrs[e3.byName.fontSize.qname].rw, 0.5 * i2.styleAttrs[e3.byName.fontSize.qname].rh) : n3.toComputedLength(a3[1].value, a3[1].unit, i2.styleAttrs[e3.byName.fontSize.qname], i2.styleAttrs[e3.byName.fontSize.qname], t4.cellLength.h, t4.pxLength.h)) ? null : [a3[0], s2];
            }), new r2(t3.ns_tts, "showBackground", "always", ["region"], false, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "textAlign", "start", ["p"], true, true, function(e4) {
              return e4;
            }, function(e4, t4, n4, r3, i2) {
              return "left" === r3 ? "start" : "right" === r3 ? "end" : r3;
            }), new r2(t3.ns_tts, "textCombine", "none", ["span"], true, true, function(e4) {
              return "none" === e4 || "all" === e4 ? e4 : null;
            }, null), new r2(t3.ns_tts, "textDecoration", "none", ["span"], true, true, function(e4) {
              return e4.split(" ");
            }, null), new r2(t3.ns_tts, "textEmphasis", "none", ["span"], true, true, function(e4) {
              for (var t4 = e4.split(" "), r3 = { style: null, symbol: null, color: null, position: null }, i2 = 0; i2 < t4.length; i2++)
                if ("none" === t4[i2] || "auto" === t4[i2])
                  r3.style = t4[i2];
                else if ("filled" === t4[i2] || "open" === t4[i2])
                  r3.style = t4[i2];
                else if ("circle" === t4[i2] || "dot" === t4[i2] || "sesame" === t4[i2])
                  r3.symbol = t4[i2];
                else if ("current" === t4[i2])
                  r3.color = t4[i2];
                else if ("outside" === t4[i2] || "before" === t4[i2] || "after" === t4[i2])
                  r3.position = t4[i2];
                else if (r3.color = n3.parseColor(t4[i2]), null === r3.color)
                  return null;
              return null == r3.style && null == r3.symbol ? r3.style = "auto" : (r3.symbol = r3.symbol || "circle", r3.style = r3.style || "filled"), r3.position = r3.position || "outside", r3.color = r3.color || "current", r3;
            }, null), new r2(t3.ns_tts, "textOutline", "none", ["span"], true, true, function(e4) {
              if ("none" === e4)
                return e4;
              var t4 = {}, r3 = e4.split(" ");
              if (0 === r3.length || r3.length > 2)
                return null;
              var i2 = n3.parseColor(r3[0]);
              if (t4.color = i2, null !== i2 && r3.shift(), 1 !== r3.length)
                return null;
              var a3 = n3.parseLength(r3[0]);
              return a3 ? (t4.thickness = a3, t4) : null;
            }, function(t4, r3, i2, a3, o) {
              if ("none" === a3)
                return a3;
              var s2 = {};
              return null === a3.color ? s2.color = i2.styleAttrs[e3.byName.color.qname] : s2.color = a3.color, s2.thickness = n3.toComputedLength(a3.thickness.value, a3.thickness.unit, i2.styleAttrs[e3.byName.fontSize.qname], i2.styleAttrs[e3.byName.fontSize.qname], t4.cellLength.h, t4.pxLength.h), null === s2.thickness ? null : s2;
            }), new r2(t3.ns_tts, "textShadow", "none", ["span"], true, true, n3.parseTextShadow, function(t4, r3, i2, a3) {
              if ("none" === a3)
                return a3;
              for (var o = [], s2 = 0; s2 < a3.length; s2++) {
                var u = {};
                if (u.x_off = n3.toComputedLength(a3[s2][0].value, a3[s2][0].unit, null, i2.styleAttrs[e3.byName.fontSize.qname], null, t4.pxLength.w), null === u.x_off)
                  return null;
                if (u.y_off = n3.toComputedLength(a3[s2][1].value, a3[s2][1].unit, null, i2.styleAttrs[e3.byName.fontSize.qname], null, t4.pxLength.h), null === u.y_off)
                  return null;
                if (null === a3[s2][2])
                  u.b_radius = 0;
                else if (u.b_radius = n3.toComputedLength(a3[s2][2].value, a3[s2][2].unit, null, i2.styleAttrs[e3.byName.fontSize.qname], null, t4.pxLength.h), null === u.b_radius)
                  return null;
                null === a3[s2][3] ? u.color = i2.styleAttrs[e3.byName.color.qname] : u.color = a3[s2][3], o.push(u);
              }
              return o;
            }), new r2(t3.ns_tts, "unicodeBidi", "normal", ["span", "p"], false, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "visibility", "visible", ["body", "div", "p", "region", "span"], true, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "wrapOption", "wrap", ["span"], true, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "writingMode", "lrtb", ["region"], false, true, function(e4) {
              return e4;
            }, null), new r2(t3.ns_tts, "zIndex", "auto", ["region"], false, true, function(e4) {
              var t4;
              return "auto" === e4 ? t4 = e4 : (t4 = parseInt(e4), isNaN(t4) && (t4 = null)), t4;
            }, null), new r2(t3.ns_ebutts, "linePadding", "0c", ["p"], true, false, n3.parseLength, function(e4, t4, r3, i2, a3) {
              return n3.toComputedLength(i2.value, i2.unit, null, null, e4.cellLength.w, null);
            }), new r2(t3.ns_ebutts, "multiRowAlign", "auto", ["p"], true, false, function(e4) {
              return e4;
            }, null), new r2(t3.ns_smpte, "backgroundImage", null, ["div"], false, false, function(e4) {
              return e4;
            }, null), new r2(t3.ns_itts, "forcedDisplay", "false", ["body", "div", "p", "region", "span"], true, true, function(e4) {
              return "true" === e4;
            }, null), new r2(t3.ns_itts, "fillLineGap", "false", ["p"], true, true, function(e4) {
              return "true" === e4;
            }, null)], e3.byQName = {}, e3.all)
              e3.byQName[e3.all[i].qname] = e3.all[i];
            for (var a2 in e3.byName = {}, e3.all)
              e3.byName[e3.all[a2].name] = e3.all[a2];
          }(t2, "undefined" == typeof imscNames ? n2(210) : imscNames, "undefined" == typeof imscUtils ? n2(5926) : imscUtils);
        }, 5926: function(e2, t2) {
          !function(e3) {
            var t3 = /#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/, n2 = /rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/, r2 = /rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/, i = { transparent: [0, 0, 0, 0], black: [0, 0, 0, 255], silver: [192, 192, 192, 255], gray: [128, 128, 128, 255], white: [255, 255, 255, 255], maroon: [128, 0, 0, 255], red: [255, 0, 0, 255], purple: [128, 0, 128, 255], fuchsia: [255, 0, 255, 255], magenta: [255, 0, 255, 255], green: [0, 128, 0, 255], lime: [0, 255, 0, 255], olive: [128, 128, 0, 255], yellow: [255, 255, 0, 255], navy: [0, 0, 128, 255], blue: [0, 0, 255, 255], teal: [0, 128, 128, 255], aqua: [0, 255, 255, 255], cyan: [0, 255, 255, 255] };
            e3.parseColor = function(e4) {
              var a3, o = null, s2 = i[e4.toLowerCase()];
              return void 0 !== s2 ? o = s2 : null !== (a3 = t3.exec(e4)) ? o = [parseInt(a3[1], 16), parseInt(a3[2], 16), parseInt(a3[3], 16), void 0 !== a3[4] ? parseInt(a3[4], 16) : 255] : null !== (a3 = n2.exec(e4)) ? o = [parseInt(a3[1]), parseInt(a3[2]), parseInt(a3[3]), 255] : null !== (a3 = r2.exec(e4)) && (o = [parseInt(a3[1]), parseInt(a3[2]), parseInt(a3[3]), parseInt(a3[4])]), o;
            };
            var a2 = /^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;
            e3.parseLength = function(e4) {
              var t4, n3 = null;
              return null !== (t4 = a2.exec(e4)) && (n3 = { value: parseFloat(t4[1]), unit: t4[2] }), n3;
            }, e3.parseTextShadow = function(t4) {
              for (var n3 = t4.match(/([^\(,\)]|\([^\)]+\))+/g), r3 = [], i2 = 0; i2 < n3.length; i2++) {
                var a3 = n3[i2].split(" ");
                if (1 === a3.length && "none" === a3[0])
                  return "none";
                if (a3.length > 1 && a3.length < 5) {
                  var o = [null, null, null, null], s2 = e3.parseLength(a3.shift());
                  if (null === s2)
                    return null;
                  if (o[0] = s2, null === (s2 = e3.parseLength(a3.shift())))
                    return null;
                  if (o[1] = s2, 0 === a3.length) {
                    r3.push(o);
                    continue;
                  }
                  if (null !== (s2 = e3.parseLength(a3[0])) && (o[2] = s2, a3.shift()), 0 === a3.length) {
                    r3.push(o);
                    continue;
                  }
                  var u = e3.parseColor(a3[0]);
                  if (null === u)
                    return null;
                  o[3] = u, r3.push(o);
                }
              }
              return r3;
            }, e3.parsePosition = function(t4) {
              var n3 = t4.split(" "), r3 = function(e4) {
                return "center" === e4 || "left" === e4 || "top" === e4 || "bottom" === e4 || "right" === e4;
              };
              if (n3.length > 4)
                return null;
              for (var i2 = 0; i2 < n3.length; i2++)
                if (!r3(n3[i2])) {
                  var a3 = e3.parseLength(n3[i2]);
                  if (null === a3)
                    return null;
                  n3[i2] = a3;
                }
              for (var o = { h: { edge: "left", offset: { value: 50, unit: "%" } }, v: { edge: "top", offset: { value: 50, unit: "%" } } }, s2 = 0; s2 < n3.length; ) {
                var u = n3[s2++];
                if (r3(u)) {
                  var l = { value: 0, unit: "%" };
                  2 !== n3.length && s2 < n3.length && !r3(n3[s2]) && (l = n3[s2++]), "right" === u ? (o.h.edge = u, o.h.offset = l) : "bottom" === u ? (o.v.edge = u, o.v.offset = l) : "left" === u ? o.h.offset = l : "top" === u && (o.v.offset = l);
                } else {
                  if (1 !== n3.length && 2 !== n3.length)
                    return null;
                  1 === s2 ? o.h.offset = u : o.v.offset = u;
                }
              }
              return o;
            }, e3.ComputedLength = function(e4, t4) {
              this.rw = e4, this.rh = t4;
            }, e3.ComputedLength.prototype.toUsedLength = function(e4, t4) {
              return e4 * this.rw + t4 * this.rh;
            }, e3.ComputedLength.prototype.isZero = function() {
              return 0 === this.rw && 0 === this.rh;
            }, e3.toComputedLength = function(t4, n3, r3, i2, a3, o) {
              return "%" === n3 && i2 ? new e3.ComputedLength(i2.rw * t4 / 100, i2.rh * t4 / 100) : "em" === n3 && r3 ? new e3.ComputedLength(r3.rw * t4, r3.rh * t4) : "c" === n3 && a3 ? new e3.ComputedLength(t4 * a3.rw, t4 * a3.rh) : "px" === n3 && o ? new e3.ComputedLength(t4 * o.rw, t4 * o.rh) : "rh" === n3 ? new e3.ComputedLength(0, t4 / 100) : "rw" === n3 ? new e3.ComputedLength(t4 / 100, 0) : null;
            };
          }(t2);
        }, 3516: function(e2) {
          "use strict";
          e2.exports = function(e3) {
            var t2 = "string" == typeof e3 ? e3.charCodeAt(0) : e3;
            return t2 >= 97 && t2 <= 122 || t2 >= 65 && t2 <= 90;
          };
        }, 2219: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(3516), i = n2(395);
          e2.exports = function(e3) {
            return r2(e3) || i(e3);
          };
        }, 395: function(e2) {
          "use strict";
          e2.exports = function(e3) {
            var t2 = "string" == typeof e3 ? e3.charCodeAt(0) : e3;
            return t2 >= 48 && t2 <= 57;
          };
        }, 3875: function(e2) {
          "use strict";
          function t2(e3) {
            if ("string" != typeof e3)
              throw new TypeError("Path must be a string. Received " + JSON.stringify(e3));
          }
          function n2(e3, t3) {
            for (var n3, r3 = "", i = 0, a2 = -1, o = 0, s2 = 0; s2 <= e3.length; ++s2) {
              if (s2 < e3.length)
                n3 = e3.charCodeAt(s2);
              else {
                if (47 === n3)
                  break;
                n3 = 47;
              }
              if (47 === n3) {
                if (a2 === s2 - 1 || 1 === o)
                  ;
                else if (a2 !== s2 - 1 && 2 === o) {
                  if (r3.length < 2 || 2 !== i || 46 !== r3.charCodeAt(r3.length - 1) || 46 !== r3.charCodeAt(r3.length - 2)) {
                    if (r3.length > 2) {
                      var u = r3.lastIndexOf("/");
                      if (u !== r3.length - 1) {
                        -1 === u ? (r3 = "", i = 0) : i = (r3 = r3.slice(0, u)).length - 1 - r3.lastIndexOf("/"), a2 = s2, o = 0;
                        continue;
                      }
                    } else if (2 === r3.length || 1 === r3.length) {
                      r3 = "", i = 0, a2 = s2, o = 0;
                      continue;
                    }
                  }
                  t3 && (r3.length > 0 ? r3 += "/.." : r3 = "..", i = 2);
                } else
                  r3.length > 0 ? r3 += "/" + e3.slice(a2 + 1, s2) : r3 = e3.slice(a2 + 1, s2), i = s2 - a2 - 1;
                a2 = s2, o = 0;
              } else
                46 === n3 && -1 !== o ? ++o : o = -1;
            }
            return r3;
          }
          var r2 = { resolve: function() {
            for (var e3, r3 = "", i = false, a2 = arguments.length - 1; a2 >= -1 && !i; a2--) {
              var o;
              a2 >= 0 ? o = arguments[a2] : (void 0 === e3 && (e3 = process.cwd()), o = e3), t2(o), 0 !== o.length && (r3 = o + "/" + r3, i = 47 === o.charCodeAt(0));
            }
            return r3 = n2(r3, !i), i ? r3.length > 0 ? "/" + r3 : "/" : r3.length > 0 ? r3 : ".";
          }, normalize: function(e3) {
            if (t2(e3), 0 === e3.length)
              return ".";
            var r3 = 47 === e3.charCodeAt(0), i = 47 === e3.charCodeAt(e3.length - 1);
            return 0 !== (e3 = n2(e3, !r3)).length || r3 || (e3 = "."), e3.length > 0 && i && (e3 += "/"), r3 ? "/" + e3 : e3;
          }, isAbsolute: function(e3) {
            return t2(e3), e3.length > 0 && 47 === e3.charCodeAt(0);
          }, join: function() {
            if (0 === arguments.length)
              return ".";
            for (var e3, n3 = 0; n3 < arguments.length; ++n3) {
              var i = arguments[n3];
              t2(i), i.length > 0 && (void 0 === e3 ? e3 = i : e3 += "/" + i);
            }
            return void 0 === e3 ? "." : r2.normalize(e3);
          }, relative: function(e3, n3) {
            if (t2(e3), t2(n3), e3 === n3)
              return "";
            if ((e3 = r2.resolve(e3)) === (n3 = r2.resolve(n3)))
              return "";
            for (var i = 1; i < e3.length && 47 === e3.charCodeAt(i); ++i)
              ;
            for (var a2 = e3.length, o = a2 - i, s2 = 1; s2 < n3.length && 47 === n3.charCodeAt(s2); ++s2)
              ;
            for (var u = n3.length - s2, l = o < u ? o : u, c = -1, f = 0; f <= l; ++f) {
              if (f === l) {
                if (u > l) {
                  if (47 === n3.charCodeAt(s2 + f))
                    return n3.slice(s2 + f + 1);
                  if (0 === f)
                    return n3.slice(s2 + f);
                } else
                  o > l && (47 === e3.charCodeAt(i + f) ? c = f : 0 === f && (c = 0));
                break;
              }
              var d = e3.charCodeAt(i + f);
              if (d !== n3.charCodeAt(s2 + f))
                break;
              47 === d && (c = f);
            }
            var g = "";
            for (f = i + c + 1; f <= a2; ++f)
              f !== a2 && 47 !== e3.charCodeAt(f) || (0 === g.length ? g += ".." : g += "/..");
            return g.length > 0 ? g + n3.slice(s2 + c) : (s2 += c, 47 === n3.charCodeAt(s2) && ++s2, n3.slice(s2));
          }, _makeLong: function(e3) {
            return e3;
          }, dirname: function(e3) {
            if (t2(e3), 0 === e3.length)
              return ".";
            for (var n3 = e3.charCodeAt(0), r3 = 47 === n3, i = -1, a2 = true, o = e3.length - 1; o >= 1; --o)
              if (47 === (n3 = e3.charCodeAt(o))) {
                if (!a2) {
                  i = o;
                  break;
                }
              } else
                a2 = false;
            return -1 === i ? r3 ? "/" : "." : r3 && 1 === i ? "//" : e3.slice(0, i);
          }, basename: function(e3, n3) {
            if (void 0 !== n3 && "string" != typeof n3)
              throw new TypeError('"ext" argument must be a string');
            t2(e3);
            var r3, i = 0, a2 = -1, o = true;
            if (void 0 !== n3 && n3.length > 0 && n3.length <= e3.length) {
              if (n3.length === e3.length && n3 === e3)
                return "";
              var s2 = n3.length - 1, u = -1;
              for (r3 = e3.length - 1; r3 >= 0; --r3) {
                var l = e3.charCodeAt(r3);
                if (47 === l) {
                  if (!o) {
                    i = r3 + 1;
                    break;
                  }
                } else
                  -1 === u && (o = false, u = r3 + 1), s2 >= 0 && (l === n3.charCodeAt(s2) ? -1 == --s2 && (a2 = r3) : (s2 = -1, a2 = u));
              }
              return i === a2 ? a2 = u : -1 === a2 && (a2 = e3.length), e3.slice(i, a2);
            }
            for (r3 = e3.length - 1; r3 >= 0; --r3)
              if (47 === e3.charCodeAt(r3)) {
                if (!o) {
                  i = r3 + 1;
                  break;
                }
              } else
                -1 === a2 && (o = false, a2 = r3 + 1);
            return -1 === a2 ? "" : e3.slice(i, a2);
          }, extname: function(e3) {
            t2(e3);
            for (var n3 = -1, r3 = 0, i = -1, a2 = true, o = 0, s2 = e3.length - 1; s2 >= 0; --s2) {
              var u = e3.charCodeAt(s2);
              if (47 !== u)
                -1 === i && (a2 = false, i = s2 + 1), 46 === u ? -1 === n3 ? n3 = s2 : 1 !== o && (o = 1) : -1 !== n3 && (o = -1);
              else if (!a2) {
                r3 = s2 + 1;
                break;
              }
            }
            return -1 === n3 || -1 === i || 0 === o || 1 === o && n3 === i - 1 && n3 === r3 + 1 ? "" : e3.slice(n3, i);
          }, format: function(e3) {
            if (null === e3 || "object" != typeof e3)
              throw new TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof e3);
            return function(e4, t3) {
              var n3 = t3.dir || t3.root, r3 = t3.base || (t3.name || "") + (t3.ext || "");
              return n3 ? n3 === t3.root ? n3 + r3 : n3 + "/" + r3 : r3;
            }(0, e3);
          }, parse: function(e3) {
            t2(e3);
            var n3 = { root: "", dir: "", base: "", ext: "", name: "" };
            if (0 === e3.length)
              return n3;
            var r3, i = e3.charCodeAt(0), a2 = 47 === i;
            a2 ? (n3.root = "/", r3 = 1) : r3 = 0;
            for (var o = -1, s2 = 0, u = -1, l = true, c = e3.length - 1, f = 0; c >= r3; --c)
              if (47 !== (i = e3.charCodeAt(c)))
                -1 === u && (l = false, u = c + 1), 46 === i ? -1 === o ? o = c : 1 !== f && (f = 1) : -1 !== o && (f = -1);
              else if (!l) {
                s2 = c + 1;
                break;
              }
            return -1 === o || -1 === u || 0 === f || 1 === f && o === u - 1 && o === s2 + 1 ? -1 !== u && (n3.base = n3.name = 0 === s2 && a2 ? e3.slice(1, u) : e3.slice(s2, u)) : (0 === s2 && a2 ? (n3.name = e3.slice(1, o), n3.base = e3.slice(1, u)) : (n3.name = e3.slice(s2, o), n3.base = e3.slice(s2, u)), n3.ext = e3.slice(o, u)), s2 > 0 ? n3.dir = e3.slice(0, s2 - 1) : a2 && (n3.dir = "/"), n3;
          }, sep: "/", delimiter: ":", win32: null, posix: null };
          r2.posix = r2, e2.exports = r2;
        }, 8387: function(e2, t2, n2) {
          var r2 = n2(1549), i = r2.Buffer;
          function a2(e3, t3) {
            for (var n3 in e3)
              t3[n3] = e3[n3];
          }
          function o(e3, t3, n3) {
            return i(e3, t3, n3);
          }
          i.from && i.alloc && i.allocUnsafe && i.allocUnsafeSlow ? e2.exports = r2 : (a2(r2, t2), t2.Buffer = o), a2(i, o), o.from = function(e3, t3, n3) {
            if ("number" == typeof e3)
              throw new TypeError("Argument must not be a number");
            return i(e3, t3, n3);
          }, o.alloc = function(e3, t3, n3) {
            if ("number" != typeof e3)
              throw new TypeError("Argument must be a number");
            var r3 = i(e3);
            return void 0 !== t3 ? "string" == typeof n3 ? r3.fill(t3, n3) : r3.fill(t3) : r3.fill(0), r3;
          }, o.allocUnsafe = function(e3) {
            if ("number" != typeof e3)
              throw new TypeError("Argument must be a number");
            return i(e3);
          }, o.allocUnsafeSlow = function(e3) {
            if ("number" != typeof e3)
              throw new TypeError("Argument must be a number");
            return r2.SlowBuffer(e3);
          };
        }, 5378: function(e2, t2, n2) {
          !function(e3) {
            e3.parser = function(e4, t4) {
              return new i(e4, t4);
            }, e3.SAXParser = i, e3.SAXStream = o, e3.createStream = function(e4, t4) {
              return new o(e4, t4);
            }, e3.MAX_BUFFER_LENGTH = 65536;
            var t3, r2 = ["comment", "sgmlDecl", "textNode", "tagName", "doctype", "procInstName", "procInstBody", "entity", "attribName", "attribValue", "cdata", "script"];
            function i(t4, n3) {
              if (!(this instanceof i))
                return new i(t4, n3);
              var a3 = this;
              !function(e4) {
                for (var t5 = 0, n4 = r2.length; t5 < n4; t5++)
                  e4[r2[t5]] = "";
              }(a3), a3.q = a3.c = "", a3.bufferCheckPosition = e3.MAX_BUFFER_LENGTH, a3.opt = n3 || {}, a3.opt.lowercase = a3.opt.lowercase || a3.opt.lowercasetags, a3.looseCase = a3.opt.lowercase ? "toLowerCase" : "toUpperCase", a3.tags = [], a3.closed = a3.closedRoot = a3.sawRoot = false, a3.tag = a3.error = null, a3.strict = !!t4, a3.noscript = !(!t4 && !a3.opt.noscript), a3.state = I.BEGIN, a3.strictEntities = a3.opt.strictEntities, a3.ENTITIES = a3.strictEntities ? Object.create(e3.XML_ENTITIES) : Object.create(e3.ENTITIES), a3.attribList = [], a3.opt.xmlns && (a3.ns = Object.create(h)), a3.trackPosition = false !== a3.opt.position, a3.trackPosition && (a3.position = a3.line = a3.column = 0), w(a3, "onready");
            }
            e3.EVENTS = ["text", "processinginstruction", "sgmldeclaration", "doctype", "comment", "opentagstart", "attribute", "opentag", "closetag", "opencdata", "cdata", "closecdata", "error", "end", "ready", "script", "opennamespace", "closenamespace"], Object.create || (Object.create = function(e4) {
              function t4() {
              }
              return t4.prototype = e4, new t4();
            }), Object.keys || (Object.keys = function(e4) {
              var t4 = [];
              for (var n3 in e4)
                e4.hasOwnProperty(n3) && t4.push(n3);
              return t4;
            }), i.prototype = { end: function() {
              M(this);
            }, write: function(t4) {
              var n3 = this;
              if (this.error)
                throw this.error;
              if (n3.closed)
                return O(n3, "Cannot write after close. Assign an onready handler.");
              if (null === t4)
                return M(n3);
              "object" == typeof t4 && (t4 = t4.toString());
              for (var i2 = 0, a3 = ""; a3 = G(t4, i2++), n3.c = a3, a3; )
                switch (n3.trackPosition && (n3.position++, "\n" === a3 ? (n3.line++, n3.column = 0) : n3.column++), n3.state) {
                  case I.BEGIN:
                    if (n3.state = I.BEGIN_WHITESPACE, "\uFEFF" === a3)
                      continue;
                    B(n3, a3);
                    continue;
                  case I.BEGIN_WHITESPACE:
                    B(n3, a3);
                    continue;
                  case I.TEXT:
                    if (n3.sawRoot && !n3.closedRoot) {
                      for (var o2 = i2 - 1; a3 && "<" !== a3 && "&" !== a3; )
                        (a3 = G(t4, i2++)) && n3.trackPosition && (n3.position++, "\n" === a3 ? (n3.line++, n3.column = 0) : n3.column++);
                      n3.textNode += t4.substring(o2, i2 - 1);
                    }
                    "<" !== a3 || n3.sawRoot && n3.closedRoot && !n3.strict ? (!T(s2, a3) || n3.sawRoot && !n3.closedRoot || P(n3, "Text data outside of root node."), "&" === a3 ? n3.state = I.TEXT_ENTITY : n3.textNode += a3) : (n3.state = I.OPEN_WAKA, n3.startTagPosition = n3.position);
                    continue;
                  case I.SCRIPT:
                    "<" === a3 ? n3.state = I.SCRIPT_ENDING : n3.script += a3;
                    continue;
                  case I.SCRIPT_ENDING:
                    "/" === a3 ? n3.state = I.CLOSE_TAG : (n3.script += "<" + a3, n3.state = I.SCRIPT);
                    continue;
                  case I.OPEN_WAKA:
                    if ("!" === a3)
                      n3.state = I.SGML_DECL, n3.sgmlDecl = "";
                    else if (_(s2, a3))
                      ;
                    else if (_(p, a3))
                      n3.state = I.OPEN_TAG, n3.tagName = a3;
                    else if ("/" === a3)
                      n3.state = I.CLOSE_TAG, n3.tagName = "";
                    else if ("?" === a3)
                      n3.state = I.PROC_INST, n3.procInstName = n3.procInstBody = "";
                    else {
                      if (P(n3, "Unencoded <"), n3.startTagPosition + 1 < n3.position) {
                        var u2 = n3.position - n3.startTagPosition;
                        a3 = new Array(u2).join(" ") + a3;
                      }
                      n3.textNode += "<" + a3, n3.state = I.TEXT;
                    }
                    continue;
                  case I.SGML_DECL:
                    "[CDATA[" === (n3.sgmlDecl + a3).toUpperCase() ? (N(n3, "onopencdata"), n3.state = I.CDATA, n3.sgmlDecl = "", n3.cdata = "") : n3.sgmlDecl + a3 === "--" ? (n3.state = I.COMMENT, n3.comment = "", n3.sgmlDecl = "") : "DOCTYPE" === (n3.sgmlDecl + a3).toUpperCase() ? (n3.state = I.DOCTYPE, (n3.doctype || n3.sawRoot) && P(n3, "Inappropriately located doctype declaration"), n3.doctype = "", n3.sgmlDecl = "") : ">" === a3 ? (N(n3, "onsgmldeclaration", n3.sgmlDecl), n3.sgmlDecl = "", n3.state = I.TEXT) : _(c, a3) ? (n3.state = I.SGML_DECL_QUOTED, n3.sgmlDecl += a3) : n3.sgmlDecl += a3;
                    continue;
                  case I.SGML_DECL_QUOTED:
                    a3 === n3.q && (n3.state = I.SGML_DECL, n3.q = ""), n3.sgmlDecl += a3;
                    continue;
                  case I.DOCTYPE:
                    ">" === a3 ? (n3.state = I.TEXT, N(n3, "ondoctype", n3.doctype), n3.doctype = true) : (n3.doctype += a3, "[" === a3 ? n3.state = I.DOCTYPE_DTD : _(c, a3) && (n3.state = I.DOCTYPE_QUOTED, n3.q = a3));
                    continue;
                  case I.DOCTYPE_QUOTED:
                    n3.doctype += a3, a3 === n3.q && (n3.q = "", n3.state = I.DOCTYPE);
                    continue;
                  case I.DOCTYPE_DTD:
                    n3.doctype += a3, "]" === a3 ? n3.state = I.DOCTYPE : _(c, a3) && (n3.state = I.DOCTYPE_DTD_QUOTED, n3.q = a3);
                    continue;
                  case I.DOCTYPE_DTD_QUOTED:
                    n3.doctype += a3, a3 === n3.q && (n3.state = I.DOCTYPE_DTD, n3.q = "");
                    continue;
                  case I.COMMENT:
                    "-" === a3 ? n3.state = I.COMMENT_ENDING : n3.comment += a3;
                    continue;
                  case I.COMMENT_ENDING:
                    "-" === a3 ? (n3.state = I.COMMENT_ENDED, n3.comment = D(n3.opt, n3.comment), n3.comment && N(n3, "oncomment", n3.comment), n3.comment = "") : (n3.comment += "-" + a3, n3.state = I.COMMENT);
                    continue;
                  case I.COMMENT_ENDED:
                    ">" !== a3 ? (P(n3, "Malformed comment"), n3.comment += "--" + a3, n3.state = I.COMMENT) : n3.state = I.TEXT;
                    continue;
                  case I.CDATA:
                    "]" === a3 ? n3.state = I.CDATA_ENDING : n3.cdata += a3;
                    continue;
                  case I.CDATA_ENDING:
                    "]" === a3 ? n3.state = I.CDATA_ENDING_2 : (n3.cdata += "]" + a3, n3.state = I.CDATA);
                    continue;
                  case I.CDATA_ENDING_2:
                    ">" === a3 ? (n3.cdata && N(n3, "oncdata", n3.cdata), N(n3, "onclosecdata"), n3.cdata = "", n3.state = I.TEXT) : "]" === a3 ? n3.cdata += "]" : (n3.cdata += "]]" + a3, n3.state = I.CDATA);
                    continue;
                  case I.PROC_INST:
                    "?" === a3 ? n3.state = I.PROC_INST_ENDING : _(s2, a3) ? n3.state = I.PROC_INST_BODY : n3.procInstName += a3;
                    continue;
                  case I.PROC_INST_BODY:
                    if (!n3.procInstBody && _(s2, a3))
                      continue;
                    "?" === a3 ? n3.state = I.PROC_INST_ENDING : n3.procInstBody += a3;
                    continue;
                  case I.PROC_INST_ENDING:
                    ">" === a3 ? (N(n3, "onprocessinginstruction", { name: n3.procInstName, body: n3.procInstBody }), n3.procInstName = n3.procInstBody = "", n3.state = I.TEXT) : (n3.procInstBody += "?" + a3, n3.state = I.PROC_INST_BODY);
                    continue;
                  case I.OPEN_TAG:
                    _(m, a3) ? n3.tagName += a3 : (L(n3), ">" === a3 ? k(n3) : "/" === a3 ? n3.state = I.OPEN_TAG_SLASH : (T(s2, a3) && P(n3, "Invalid character in tag name"), n3.state = I.ATTRIB));
                    continue;
                  case I.OPEN_TAG_SLASH:
                    ">" === a3 ? (k(n3, true), U(n3)) : (P(n3, "Forward-slash in opening tag not followed by >"), n3.state = I.ATTRIB);
                    continue;
                  case I.ATTRIB:
                    if (_(s2, a3))
                      continue;
                    ">" === a3 ? k(n3) : "/" === a3 ? n3.state = I.OPEN_TAG_SLASH : _(p, a3) ? (n3.attribName = a3, n3.attribValue = "", n3.state = I.ATTRIB_NAME) : P(n3, "Invalid attribute name");
                    continue;
                  case I.ATTRIB_NAME:
                    "=" === a3 ? n3.state = I.ATTRIB_VALUE : ">" === a3 ? (P(n3, "Attribute without value"), n3.attribValue = n3.attribName, x(n3), k(n3)) : _(s2, a3) ? n3.state = I.ATTRIB_NAME_SAW_WHITE : _(m, a3) ? n3.attribName += a3 : P(n3, "Invalid attribute name");
                    continue;
                  case I.ATTRIB_NAME_SAW_WHITE:
                    if ("=" === a3)
                      n3.state = I.ATTRIB_VALUE;
                    else {
                      if (_(s2, a3))
                        continue;
                      P(n3, "Attribute without value"), n3.tag.attributes[n3.attribName] = "", n3.attribValue = "", N(n3, "onattribute", { name: n3.attribName, value: "" }), n3.attribName = "", ">" === a3 ? k(n3) : _(p, a3) ? (n3.attribName = a3, n3.state = I.ATTRIB_NAME) : (P(n3, "Invalid attribute name"), n3.state = I.ATTRIB);
                    }
                    continue;
                  case I.ATTRIB_VALUE:
                    if (_(s2, a3))
                      continue;
                    _(c, a3) ? (n3.q = a3, n3.state = I.ATTRIB_VALUE_QUOTED) : (P(n3, "Unquoted attribute value"), n3.state = I.ATTRIB_VALUE_UNQUOTED, n3.attribValue = a3);
                    continue;
                  case I.ATTRIB_VALUE_QUOTED:
                    if (a3 !== n3.q) {
                      "&" === a3 ? n3.state = I.ATTRIB_VALUE_ENTITY_Q : n3.attribValue += a3;
                      continue;
                    }
                    x(n3), n3.q = "", n3.state = I.ATTRIB_VALUE_CLOSED;
                    continue;
                  case I.ATTRIB_VALUE_CLOSED:
                    _(s2, a3) ? n3.state = I.ATTRIB : ">" === a3 ? k(n3) : "/" === a3 ? n3.state = I.OPEN_TAG_SLASH : _(p, a3) ? (P(n3, "No whitespace between attributes"), n3.attribName = a3, n3.attribValue = "", n3.state = I.ATTRIB_NAME) : P(n3, "Invalid attribute name");
                    continue;
                  case I.ATTRIB_VALUE_UNQUOTED:
                    if (T(f, a3)) {
                      "&" === a3 ? n3.state = I.ATTRIB_VALUE_ENTITY_U : n3.attribValue += a3;
                      continue;
                    }
                    x(n3), ">" === a3 ? k(n3) : n3.state = I.ATTRIB;
                    continue;
                  case I.CLOSE_TAG:
                    if (n3.tagName)
                      ">" === a3 ? U(n3) : _(m, a3) ? n3.tagName += a3 : n3.script ? (n3.script += "</" + n3.tagName, n3.tagName = "", n3.state = I.SCRIPT) : (T(s2, a3) && P(n3, "Invalid tagname in closing tag"), n3.state = I.CLOSE_TAG_SAW_WHITE);
                    else {
                      if (_(s2, a3))
                        continue;
                      T(p, a3) ? n3.script ? (n3.script += "</" + a3, n3.state = I.SCRIPT) : P(n3, "Invalid tagname in closing tag.") : n3.tagName = a3;
                    }
                    continue;
                  case I.CLOSE_TAG_SAW_WHITE:
                    if (_(s2, a3))
                      continue;
                    ">" === a3 ? U(n3) : P(n3, "Invalid characters in closing tag");
                    continue;
                  case I.TEXT_ENTITY:
                  case I.ATTRIB_VALUE_ENTITY_Q:
                  case I.ATTRIB_VALUE_ENTITY_U:
                    var l2, d2;
                    switch (n3.state) {
                      case I.TEXT_ENTITY:
                        l2 = I.TEXT, d2 = "textNode";
                        break;
                      case I.ATTRIB_VALUE_ENTITY_Q:
                        l2 = I.ATTRIB_VALUE_QUOTED, d2 = "attribValue";
                        break;
                      case I.ATTRIB_VALUE_ENTITY_U:
                        l2 = I.ATTRIB_VALUE_UNQUOTED, d2 = "attribValue";
                    }
                    ";" === a3 ? (n3[d2] += Z(n3), n3.entity = "", n3.state = l2) : _(n3.entity.length ? E : y, a3) ? n3.entity += a3 : (P(n3, "Invalid character in entity name"), n3[d2] += "&" + n3.entity + a3, n3.entity = "", n3.state = l2);
                    continue;
                  default:
                    throw new Error(n3, "Unknown state: " + n3.state);
                }
              return n3.position >= n3.bufferCheckPosition && function(t5) {
                for (var n4 = Math.max(e3.MAX_BUFFER_LENGTH, 10), i3 = 0, a4 = 0, o3 = r2.length; a4 < o3; a4++) {
                  var s3 = t5[r2[a4]].length;
                  if (s3 > n4)
                    switch (r2[a4]) {
                      case "textNode":
                        C(t5);
                        break;
                      case "cdata":
                        N(t5, "oncdata", t5.cdata), t5.cdata = "";
                        break;
                      case "script":
                        N(t5, "onscript", t5.script), t5.script = "";
                        break;
                      default:
                        O(t5, "Max buffer length exceeded: " + r2[a4]);
                    }
                  i3 = Math.max(i3, s3);
                }
                var u3 = e3.MAX_BUFFER_LENGTH - i3;
                t5.bufferCheckPosition = u3 + t5.position;
              }(n3), n3;
            }, resume: function() {
              return this.error = null, this;
            }, close: function() {
              return this.write(null);
            }, flush: function() {
              var e4;
              C(e4 = this), "" !== e4.cdata && (N(e4, "oncdata", e4.cdata), e4.cdata = ""), "" !== e4.script && (N(e4, "onscript", e4.script), e4.script = "");
            } };
            try {
              t3 = n2(182).Stream;
            } catch (e4) {
              t3 = function() {
              };
            }
            var a2 = e3.EVENTS.filter(function(e4) {
              return "error" !== e4 && "end" !== e4;
            });
            function o(e4, n3) {
              if (!(this instanceof o))
                return new o(e4, n3);
              t3.apply(this), this._parser = new i(e4, n3), this.writable = true, this.readable = true;
              var r3 = this;
              this._parser.onend = function() {
                r3.emit("end");
              }, this._parser.onerror = function(e5) {
                r3.emit("error", e5), r3._parser.error = null;
              }, this._decoder = null, a2.forEach(function(e5) {
                Object.defineProperty(r3, "on" + e5, { get: function() {
                  return r3._parser["on" + e5];
                }, set: function(t4) {
                  if (!t4)
                    return r3.removeAllListeners(e5), r3._parser["on" + e5] = t4, t4;
                  r3.on(e5, t4);
                }, enumerable: true, configurable: false });
              });
            }
            o.prototype = Object.create(t3.prototype, { constructor: { value: o } }), o.prototype.write = function(e4) {
              if ("function" == typeof Buffer && "function" == typeof Buffer.isBuffer && Buffer.isBuffer(e4)) {
                if (!this._decoder) {
                  var t4 = n2(7503).s;
                  this._decoder = new t4("utf8");
                }
                e4 = this._decoder.write(e4);
              }
              return this._parser.write(e4.toString()), this.emit("data", e4), true;
            }, o.prototype.end = function(e4) {
              return e4 && e4.length && this.write(e4), this._parser.end(), true;
            }, o.prototype.on = function(e4, n3) {
              var r3 = this;
              return r3._parser["on" + e4] || -1 === a2.indexOf(e4) || (r3._parser["on" + e4] = function() {
                var t4 = 1 === arguments.length ? [arguments[0]] : Array.apply(null, arguments);
                t4.splice(0, 0, e4), r3.emit.apply(r3, t4);
              }), t3.prototype.on.call(r3, e4, n3);
            };
            var s2 = "\r\n	 ", u = "0124356789", l = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ", c = `'"`, f = s2 + ">", d = "http://www.w3.org/XML/1998/namespace", g = "http://www.w3.org/2000/xmlns/", h = { xml: d, xmlns: g };
            s2 = v(s2), u = v(u), l = v(l);
            var p = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/, m = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/, y = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/, E = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;
            function v(e4) {
              return e4.split("").reduce(function(e5, t4) {
                return e5[t4] = true, e5;
              }, {});
            }
            function _(e4, t4) {
              return function(e5) {
                return "[object RegExp]" === Object.prototype.toString.call(e5);
              }(e4) ? !!t4.match(e4) : e4[t4];
            }
            function T(e4, t4) {
              return !_(e4, t4);
            }
            c = v(c), f = v(f);
            var S, b, A, I = 0;
            for (var R in e3.STATE = { BEGIN: I++, BEGIN_WHITESPACE: I++, TEXT: I++, TEXT_ENTITY: I++, OPEN_WAKA: I++, SGML_DECL: I++, SGML_DECL_QUOTED: I++, DOCTYPE: I++, DOCTYPE_QUOTED: I++, DOCTYPE_DTD: I++, DOCTYPE_DTD_QUOTED: I++, COMMENT_STARTING: I++, COMMENT: I++, COMMENT_ENDING: I++, COMMENT_ENDED: I++, CDATA: I++, CDATA_ENDING: I++, CDATA_ENDING_2: I++, PROC_INST: I++, PROC_INST_BODY: I++, PROC_INST_ENDING: I++, OPEN_TAG: I++, OPEN_TAG_SLASH: I++, ATTRIB: I++, ATTRIB_NAME: I++, ATTRIB_NAME_SAW_WHITE: I++, ATTRIB_VALUE: I++, ATTRIB_VALUE_QUOTED: I++, ATTRIB_VALUE_CLOSED: I++, ATTRIB_VALUE_UNQUOTED: I++, ATTRIB_VALUE_ENTITY_Q: I++, ATTRIB_VALUE_ENTITY_U: I++, CLOSE_TAG: I++, CLOSE_TAG_SAW_WHITE: I++, SCRIPT: I++, SCRIPT_ENDING: I++ }, e3.XML_ENTITIES = { amp: "&", gt: ">", lt: "<", quot: '"', apos: "'" }, e3.ENTITIES = { amp: "&", gt: ">", lt: "<", quot: '"', apos: "'", AElig: 198, Aacute: 193, Acirc: 194, Agrave: 192, Aring: 197, Atilde: 195, Auml: 196, Ccedil: 199, ETH: 208, Eacute: 201, Ecirc: 202, Egrave: 200, Euml: 203, Iacute: 205, Icirc: 206, Igrave: 204, Iuml: 207, Ntilde: 209, Oacute: 211, Ocirc: 212, Ograve: 210, Oslash: 216, Otilde: 213, Ouml: 214, THORN: 222, Uacute: 218, Ucirc: 219, Ugrave: 217, Uuml: 220, Yacute: 221, aacute: 225, acirc: 226, aelig: 230, agrave: 224, aring: 229, atilde: 227, auml: 228, ccedil: 231, eacute: 233, ecirc: 234, egrave: 232, eth: 240, euml: 235, iacute: 237, icirc: 238, igrave: 236, iuml: 239, ntilde: 241, oacute: 243, ocirc: 244, ograve: 242, oslash: 248, otilde: 245, ouml: 246, szlig: 223, thorn: 254, uacute: 250, ucirc: 251, ugrave: 249, uuml: 252, yacute: 253, yuml: 255, copy: 169, reg: 174, nbsp: 160, iexcl: 161, cent: 162, pound: 163, curren: 164, yen: 165, brvbar: 166, sect: 167, uml: 168, ordf: 170, laquo: 171, not: 172, shy: 173, macr: 175, deg: 176, plusmn: 177, sup1: 185, sup2: 178, sup3: 179, acute: 180, micro: 181, para: 182, middot: 183, cedil: 184, ordm: 186, raquo: 187, frac14: 188, frac12: 189, frac34: 190, iquest: 191, times: 215, divide: 247, OElig: 338, oelig: 339, Scaron: 352, scaron: 353, Yuml: 376, fnof: 402, circ: 710, tilde: 732, Alpha: 913, Beta: 914, Gamma: 915, Delta: 916, Epsilon: 917, Zeta: 918, Eta: 919, Theta: 920, Iota: 921, Kappa: 922, Lambda: 923, Mu: 924, Nu: 925, Xi: 926, Omicron: 927, Pi: 928, Rho: 929, Sigma: 931, Tau: 932, Upsilon: 933, Phi: 934, Chi: 935, Psi: 936, Omega: 937, alpha: 945, beta: 946, gamma: 947, delta: 948, epsilon: 949, zeta: 950, eta: 951, theta: 952, iota: 953, kappa: 954, lambda: 955, mu: 956, nu: 957, xi: 958, omicron: 959, pi: 960, rho: 961, sigmaf: 962, sigma: 963, tau: 964, upsilon: 965, phi: 966, chi: 967, psi: 968, omega: 969, thetasym: 977, upsih: 978, piv: 982, ensp: 8194, emsp: 8195, thinsp: 8201, zwnj: 8204, zwj: 8205, lrm: 8206, rlm: 8207, ndash: 8211, mdash: 8212, lsquo: 8216, rsquo: 8217, sbquo: 8218, ldquo: 8220, rdquo: 8221, bdquo: 8222, dagger: 8224, Dagger: 8225, bull: 8226, hellip: 8230, permil: 8240, prime: 8242, Prime: 8243, lsaquo: 8249, rsaquo: 8250, oline: 8254, frasl: 8260, euro: 8364, image: 8465, weierp: 8472, real: 8476, trade: 8482, alefsym: 8501, larr: 8592, uarr: 8593, rarr: 8594, darr: 8595, harr: 8596, crarr: 8629, lArr: 8656, uArr: 8657, rArr: 8658, dArr: 8659, hArr: 8660, forall: 8704, part: 8706, exist: 8707, empty: 8709, nabla: 8711, isin: 8712, notin: 8713, ni: 8715, prod: 8719, sum: 8721, minus: 8722, lowast: 8727, radic: 8730, prop: 8733, infin: 8734, ang: 8736, and: 8743, or: 8744, cap: 8745, cup: 8746, int: 8747, there4: 8756, sim: 8764, cong: 8773, asymp: 8776, ne: 8800, equiv: 8801, le: 8804, ge: 8805, sub: 8834, sup: 8835, nsub: 8836, sube: 8838, supe: 8839, oplus: 8853, otimes: 8855, perp: 8869, sdot: 8901, lceil: 8968, rceil: 8969, lfloor: 8970, rfloor: 8971, lang: 9001, rang: 9002, loz: 9674, spades: 9824, clubs: 9827, hearts: 9829, diams: 9830 }, Object.keys(e3.ENTITIES).forEach(function(t4) {
              var n3 = e3.ENTITIES[t4], r3 = "number" == typeof n3 ? String.fromCharCode(n3) : n3;
              e3.ENTITIES[t4] = r3;
            }), e3.STATE)
              e3.STATE[e3.STATE[R]] = R;
            function w(e4, t4, n3) {
              e4[t4] && e4[t4](n3);
            }
            function N(e4, t4, n3) {
              e4.textNode && C(e4), w(e4, t4, n3);
            }
            function C(e4) {
              e4.textNode = D(e4.opt, e4.textNode), e4.textNode && w(e4, "ontext", e4.textNode), e4.textNode = "";
            }
            function D(e4, t4) {
              return e4.trim && (t4 = t4.trim()), e4.normalize && (t4 = t4.replace(/\s+/g, " ")), t4;
            }
            function O(e4, t4) {
              return C(e4), e4.trackPosition && (t4 += "\nLine: " + e4.line + "\nColumn: " + e4.column + "\nChar: " + e4.c), t4 = new Error(t4), e4.error = t4, w(e4, "onerror", t4), e4;
            }
            function M(e4) {
              return e4.sawRoot && !e4.closedRoot && P(e4, "Unclosed root tag"), e4.state !== I.BEGIN && e4.state !== I.BEGIN_WHITESPACE && e4.state !== I.TEXT && O(e4, "Unexpected end"), C(e4), e4.c = "", e4.closed = true, w(e4, "onend"), i.call(e4, e4.strict, e4.opt), e4;
            }
            function P(e4, t4) {
              if ("object" != typeof e4 || !(e4 instanceof i))
                throw new Error("bad call to strictFail");
              e4.strict && O(e4, t4);
            }
            function L(e4) {
              e4.strict || (e4.tagName = e4.tagName[e4.looseCase]());
              var t4 = e4.tags[e4.tags.length - 1] || e4, n3 = e4.tag = { name: e4.tagName, attributes: {} };
              e4.opt.xmlns && (n3.ns = t4.ns), e4.attribList.length = 0, N(e4, "onopentagstart", n3);
            }
            function F(e4, t4) {
              var n3 = e4.indexOf(":") < 0 ? ["", e4] : e4.split(":"), r3 = n3[0], i2 = n3[1];
              return t4 && "xmlns" === e4 && (r3 = "xmlns", i2 = ""), { prefix: r3, local: i2 };
            }
            function x(e4) {
              if (e4.strict || (e4.attribName = e4.attribName[e4.looseCase]()), -1 !== e4.attribList.indexOf(e4.attribName) || e4.tag.attributes.hasOwnProperty(e4.attribName))
                e4.attribName = e4.attribValue = "";
              else {
                if (e4.opt.xmlns) {
                  var t4 = F(e4.attribName, true), n3 = t4.prefix, r3 = t4.local;
                  if ("xmlns" === n3)
                    if ("xml" === r3 && e4.attribValue !== d)
                      P(e4, "xml: prefix must be bound to " + d + "\nActual: " + e4.attribValue);
                    else if ("xmlns" === r3 && e4.attribValue !== g)
                      P(e4, "xmlns: prefix must be bound to " + g + "\nActual: " + e4.attribValue);
                    else {
                      var i2 = e4.tag, a3 = e4.tags[e4.tags.length - 1] || e4;
                      i2.ns === a3.ns && (i2.ns = Object.create(a3.ns)), i2.ns[r3] = e4.attribValue;
                    }
                  e4.attribList.push([e4.attribName, e4.attribValue]);
                } else
                  e4.tag.attributes[e4.attribName] = e4.attribValue, N(e4, "onattribute", { name: e4.attribName, value: e4.attribValue });
                e4.attribName = e4.attribValue = "";
              }
            }
            function k(e4, t4) {
              if (e4.opt.xmlns) {
                var n3 = e4.tag, r3 = F(e4.tagName);
                n3.prefix = r3.prefix, n3.local = r3.local, n3.uri = n3.ns[r3.prefix] || "", n3.prefix && !n3.uri && (P(e4, "Unbound namespace prefix: " + JSON.stringify(e4.tagName)), n3.uri = r3.prefix);
                var i2 = e4.tags[e4.tags.length - 1] || e4;
                n3.ns && i2.ns !== n3.ns && Object.keys(n3.ns).forEach(function(t5) {
                  N(e4, "onopennamespace", { prefix: t5, uri: n3.ns[t5] });
                });
                for (var a3 = 0, o2 = e4.attribList.length; a3 < o2; a3++) {
                  var s3 = e4.attribList[a3], u2 = s3[0], l2 = s3[1], c2 = F(u2, true), f2 = c2.prefix, d2 = c2.local, g2 = "" === f2 ? "" : n3.ns[f2] || "", h2 = { name: u2, value: l2, prefix: f2, local: d2, uri: g2 };
                  f2 && "xmlns" !== f2 && !g2 && (P(e4, "Unbound namespace prefix: " + JSON.stringify(f2)), h2.uri = f2), e4.tag.attributes[u2] = h2, N(e4, "onattribute", h2);
                }
                e4.attribList.length = 0;
              }
              e4.tag.isSelfClosing = !!t4, e4.sawRoot = true, e4.tags.push(e4.tag), N(e4, "onopentag", e4.tag), t4 || (e4.noscript || "script" !== e4.tagName.toLowerCase() ? e4.state = I.TEXT : e4.state = I.SCRIPT, e4.tag = null, e4.tagName = ""), e4.attribName = e4.attribValue = "", e4.attribList.length = 0;
            }
            function U(e4) {
              if (!e4.tagName)
                return P(e4, "Weird empty close tag."), e4.textNode += "</>", void (e4.state = I.TEXT);
              if (e4.script) {
                if ("script" !== e4.tagName)
                  return e4.script += "</" + e4.tagName + ">", e4.tagName = "", void (e4.state = I.SCRIPT);
                N(e4, "onscript", e4.script), e4.script = "";
              }
              var t4 = e4.tags.length, n3 = e4.tagName;
              e4.strict || (n3 = n3[e4.looseCase]());
              for (var r3 = n3; t4-- && e4.tags[t4].name !== r3; )
                P(e4, "Unexpected close tag");
              if (t4 < 0)
                return P(e4, "Unmatched closing tag: " + e4.tagName), e4.textNode += "</" + e4.tagName + ">", void (e4.state = I.TEXT);
              e4.tagName = n3;
              for (var i2 = e4.tags.length; i2-- > t4; ) {
                var a3 = e4.tag = e4.tags.pop();
                e4.tagName = e4.tag.name, N(e4, "onclosetag", e4.tagName);
                var o2 = {};
                for (var s3 in a3.ns)
                  o2[s3] = a3.ns[s3];
                var u2 = e4.tags[e4.tags.length - 1] || e4;
                e4.opt.xmlns && a3.ns !== u2.ns && Object.keys(a3.ns).forEach(function(t5) {
                  var n4 = a3.ns[t5];
                  N(e4, "onclosenamespace", { prefix: t5, uri: n4 });
                });
              }
              0 === t4 && (e4.closedRoot = true), e4.tagName = e4.attribValue = e4.attribName = "", e4.attribList.length = 0, e4.state = I.TEXT;
            }
            function Z(e4) {
              var t4, n3 = e4.entity, r3 = n3.toLowerCase(), i2 = "";
              return e4.ENTITIES[n3] ? e4.ENTITIES[n3] : e4.ENTITIES[r3] ? e4.ENTITIES[r3] : ("#" === (n3 = r3).charAt(0) && ("x" === n3.charAt(1) ? (n3 = n3.slice(2), i2 = (t4 = parseInt(n3, 16)).toString(16)) : (n3 = n3.slice(1), i2 = (t4 = parseInt(n3, 10)).toString(10))), n3 = n3.replace(/^0+/, ""), i2.toLowerCase() !== n3 ? (P(e4, "Invalid character entity"), "&" + e4.entity + ";") : String.fromCodePoint(t4));
            }
            function B(e4, t4) {
              "<" === t4 ? (e4.state = I.OPEN_WAKA, e4.startTagPosition = e4.position) : T(s2, t4) && (P(e4, "Non-whitespace before first tag."), e4.textNode = t4, e4.state = I.TEXT);
            }
            function G(e4, t4) {
              var n3 = "";
              return t4 < e4.length && (n3 = e4.charAt(t4)), n3;
            }
            I = e3.STATE, String.fromCodePoint || (S = String.fromCharCode, b = Math.floor, A = function() {
              var e4, t4, n3 = 16384, r3 = [], i2 = -1, a3 = arguments.length;
              if (!a3)
                return "";
              for (var o2 = ""; ++i2 < a3; ) {
                var s3 = Number(arguments[i2]);
                if (!isFinite(s3) || s3 < 0 || s3 > 1114111 || b(s3) !== s3)
                  throw RangeError("Invalid code point: " + s3);
                s3 <= 65535 ? r3.push(s3) : (e4 = 55296 + ((s3 -= 65536) >> 10), t4 = s3 % 1024 + 56320, r3.push(e4, t4)), (i2 + 1 === a3 || r3.length > n3) && (o2 += S.apply(null, r3), r3.length = 0);
              }
              return o2;
            }, Object.defineProperty ? Object.defineProperty(String, "fromCodePoint", { value: A, configurable: true, writable: true }) : String.fromCodePoint = A);
          }(t2);
        }, 182: function(e2, t2, n2) {
          e2.exports = i;
          var r2 = n2(1159).EventEmitter;
          function i() {
            r2.call(this);
          }
          n2(1765)(i, r2), i.Readable = n2(2846), i.Writable = n2(8318), i.Duplex = n2(6138), i.Transform = n2(9798), i.PassThrough = n2(5472), i.finished = n2(8800), i.pipeline = n2(7295), i.Stream = i, i.prototype.pipe = function(e3, t3) {
            var n3 = this;
            function i2(t4) {
              e3.writable && false === e3.write(t4) && n3.pause && n3.pause();
            }
            function a2() {
              n3.readable && n3.resume && n3.resume();
            }
            n3.on("data", i2), e3.on("drain", a2), e3._isStdio || t3 && false === t3.end || (n3.on("end", s2), n3.on("close", u));
            var o = false;
            function s2() {
              o || (o = true, e3.end());
            }
            function u() {
              o || (o = true, "function" == typeof e3.destroy && e3.destroy());
            }
            function l(e4) {
              if (c(), 0 === r2.listenerCount(this, "error"))
                throw e4;
            }
            function c() {
              n3.removeListener("data", i2), e3.removeListener("drain", a2), n3.removeListener("end", s2), n3.removeListener("close", u), n3.removeListener("error", l), e3.removeListener("error", l), n3.removeListener("end", c), n3.removeListener("close", c), e3.removeListener("close", c);
            }
            return n3.on("error", l), e3.on("error", l), n3.on("end", c), n3.on("close", c), e3.on("close", c), e3.emit("pipe", n3), e3;
          };
        }, 1765: function(e2) {
          "function" == typeof Object.create ? e2.exports = function(e3, t2) {
            t2 && (e3.super_ = t2, e3.prototype = Object.create(t2.prototype, { constructor: { value: e3, enumerable: false, writable: true, configurable: true } }));
          } : e2.exports = function(e3, t2) {
            if (t2) {
              e3.super_ = t2;
              var n2 = function() {
              };
              n2.prototype = t2.prototype, e3.prototype = new n2(), e3.prototype.constructor = e3;
            }
          };
        }, 3690: function(e2) {
          "use strict";
          var t2 = {};
          function n2(e3, n3, r3) {
            r3 || (r3 = Error);
            var i = function(e4) {
              var t3, r4;
              function i2(t4, r5, i3) {
                return e4.call(this, function(e5, t5, r6) {
                  return "string" == typeof n3 ? n3 : n3(e5, t5, r6);
                }(t4, r5, i3)) || this;
              }
              return r4 = e4, (t3 = i2).prototype = Object.create(r4.prototype), t3.prototype.constructor = t3, t3.__proto__ = r4, i2;
            }(r3);
            i.prototype.name = r3.name, i.prototype.code = e3, t2[e3] = i;
          }
          function r2(e3, t3) {
            if (Array.isArray(e3)) {
              var n3 = e3.length;
              return e3 = e3.map(function(e4) {
                return String(e4);
              }), n3 > 2 ? "one of ".concat(t3, " ").concat(e3.slice(0, n3 - 1).join(", "), ", or ") + e3[n3 - 1] : 2 === n3 ? "one of ".concat(t3, " ").concat(e3[0], " or ").concat(e3[1]) : "of ".concat(t3, " ").concat(e3[0]);
            }
            return "of ".concat(t3, " ").concat(String(e3));
          }
          n2("ERR_INVALID_OPT_VALUE", function(e3, t3) {
            return 'The value "' + t3 + '" is invalid for option "' + e3 + '"';
          }, TypeError), n2("ERR_INVALID_ARG_TYPE", function(e3, t3, n3) {
            var i, a2, o, s2, u;
            if ("string" == typeof t3 && (a2 = "not ", t3.substr(0, a2.length) === a2) ? (i = "must not be", t3 = t3.replace(/^not /, "")) : i = "must be", function(e4, t4, n4) {
              return (void 0 === n4 || n4 > e4.length) && (n4 = e4.length), e4.substring(n4 - t4.length, n4) === t4;
            }(e3, " argument"))
              o = "The ".concat(e3, " ").concat(i, " ").concat(r2(t3, "type"));
            else {
              var l = ("number" != typeof u && (u = 0), u + ".".length > (s2 = e3).length || -1 === s2.indexOf(".", u) ? "argument" : "property");
              o = 'The "'.concat(e3, '" ').concat(l, " ").concat(i, " ").concat(r2(t3, "type"));
            }
            return o + ". Received type ".concat(typeof n3);
          }, TypeError), n2("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF"), n2("ERR_METHOD_NOT_IMPLEMENTED", function(e3) {
            return "The " + e3 + " method is not implemented";
          }), n2("ERR_STREAM_PREMATURE_CLOSE", "Premature close"), n2("ERR_STREAM_DESTROYED", function(e3) {
            return "Cannot call " + e3 + " after a stream was destroyed";
          }), n2("ERR_MULTIPLE_CALLBACK", "Callback called multiple times"), n2("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable"), n2("ERR_STREAM_WRITE_AFTER_END", "write after end"), n2("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), n2("ERR_UNKNOWN_ENCODING", function(e3) {
            return "Unknown encoding: " + e3;
          }, TypeError), n2("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event"), e2.exports.q = t2;
        }, 6138: function(e2, t2, n2) {
          "use strict";
          var r2 = Object.keys || function(e3) {
            var t3 = [];
            for (var n3 in e3)
              t3.push(n3);
            return t3;
          };
          e2.exports = l;
          var i = n2(2846), a2 = n2(8318);
          n2(1765)(l, i);
          for (var o = r2(a2.prototype), s2 = 0; s2 < o.length; s2++) {
            var u = o[s2];
            l.prototype[u] || (l.prototype[u] = a2.prototype[u]);
          }
          function l(e3) {
            if (!(this instanceof l))
              return new l(e3);
            i.call(this, e3), a2.call(this, e3), this.allowHalfOpen = true, e3 && (false === e3.readable && (this.readable = false), false === e3.writable && (this.writable = false), false === e3.allowHalfOpen && (this.allowHalfOpen = false, this.once("end", c)));
          }
          function c() {
            this._writableState.ended || process.nextTick(f, this);
          }
          function f(e3) {
            e3.end();
          }
          Object.defineProperty(l.prototype, "writableHighWaterMark", { enumerable: false, get: function() {
            return this._writableState.highWaterMark;
          } }), Object.defineProperty(l.prototype, "writableBuffer", { enumerable: false, get: function() {
            return this._writableState && this._writableState.getBuffer();
          } }), Object.defineProperty(l.prototype, "writableLength", { enumerable: false, get: function() {
            return this._writableState.length;
          } }), Object.defineProperty(l.prototype, "destroyed", { enumerable: false, get: function() {
            return void 0 !== this._readableState && void 0 !== this._writableState && this._readableState.destroyed && this._writableState.destroyed;
          }, set: function(e3) {
            void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed = e3, this._writableState.destroyed = e3);
          } });
        }, 5472: function(e2, t2, n2) {
          "use strict";
          e2.exports = i;
          var r2 = n2(9798);
          function i(e3) {
            if (!(this instanceof i))
              return new i(e3);
            r2.call(this, e3);
          }
          n2(1765)(i, r2), i.prototype._transform = function(e3, t3, n3) {
            n3(null, e3);
          };
        }, 2846: function(e2, t2, n2) {
          "use strict";
          var r2;
          e2.exports = A, A.ReadableState = b, n2(1159).EventEmitter;
          var i, a2 = function(e3, t3) {
            return e3.listeners(t3).length;
          }, o = n2(9299), s2 = n2(1549).Buffer, u = n2.g.Uint8Array || function() {
          }, l = n2(964);
          i = l && l.debuglog ? l.debuglog("stream") : function() {
          };
          var c, f, d, g = n2(8393), h = n2(6163), p = n2(7269).getHighWaterMark, m = n2(3690).q, y = m.ERR_INVALID_ARG_TYPE, E = m.ERR_STREAM_PUSH_AFTER_EOF, v = m.ERR_METHOD_NOT_IMPLEMENTED, _ = m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;
          n2(1765)(A, o);
          var T = h.errorOrDestroy, S = ["error", "close", "destroy", "pause", "resume"];
          function b(e3, t3, i2) {
            r2 = r2 || n2(6138), e3 = e3 || {}, "boolean" != typeof i2 && (i2 = t3 instanceof r2), this.objectMode = !!e3.objectMode, i2 && (this.objectMode = this.objectMode || !!e3.readableObjectMode), this.highWaterMark = p(this, e3, "readableHighWaterMark", i2), this.buffer = new g(), this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = false, this.endEmitted = false, this.reading = false, this.sync = true, this.needReadable = false, this.emittedReadable = false, this.readableListening = false, this.resumeScheduled = false, this.paused = true, this.emitClose = false !== e3.emitClose, this.autoDestroy = !!e3.autoDestroy, this.destroyed = false, this.defaultEncoding = e3.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = false, this.decoder = null, this.encoding = null, e3.encoding && (c || (c = n2(7503).s), this.decoder = new c(e3.encoding), this.encoding = e3.encoding);
          }
          function A(e3) {
            if (r2 = r2 || n2(6138), !(this instanceof A))
              return new A(e3);
            var t3 = this instanceof r2;
            this._readableState = new b(e3, this, t3), this.readable = true, e3 && ("function" == typeof e3.read && (this._read = e3.read), "function" == typeof e3.destroy && (this._destroy = e3.destroy)), o.call(this);
          }
          function I(e3, t3, n3, r3, a3) {
            i("readableAddChunk", t3);
            var o2, l2 = e3._readableState;
            if (null === t3)
              l2.reading = false, function(e4, t4) {
                if (i("onEofChunk"), !t4.ended) {
                  if (t4.decoder) {
                    var n4 = t4.decoder.end();
                    n4 && n4.length && (t4.buffer.push(n4), t4.length += t4.objectMode ? 1 : n4.length);
                  }
                  t4.ended = true, t4.sync ? C(e4) : (t4.needReadable = false, t4.emittedReadable || (t4.emittedReadable = true, D(e4)));
                }
              }(e3, l2);
            else if (a3 || (o2 = function(e4, t4) {
              var n4, r4;
              return r4 = t4, s2.isBuffer(r4) || r4 instanceof u || "string" == typeof t4 || void 0 === t4 || e4.objectMode || (n4 = new y("chunk", ["string", "Buffer", "Uint8Array"], t4)), n4;
            }(l2, t3)), o2)
              T(e3, o2);
            else if (l2.objectMode || t3 && t3.length > 0)
              if ("string" == typeof t3 || l2.objectMode || Object.getPrototypeOf(t3) === s2.prototype || (t3 = function(e4) {
                return s2.from(e4);
              }(t3)), r3)
                l2.endEmitted ? T(e3, new _()) : R(e3, l2, t3, true);
              else if (l2.ended)
                T(e3, new E());
              else {
                if (l2.destroyed)
                  return false;
                l2.reading = false, l2.decoder && !n3 ? (t3 = l2.decoder.write(t3), l2.objectMode || 0 !== t3.length ? R(e3, l2, t3, false) : O(e3, l2)) : R(e3, l2, t3, false);
              }
            else
              r3 || (l2.reading = false, O(e3, l2));
            return !l2.ended && (l2.length < l2.highWaterMark || 0 === l2.length);
          }
          function R(e3, t3, n3, r3) {
            t3.flowing && 0 === t3.length && !t3.sync ? (t3.awaitDrain = 0, e3.emit("data", n3)) : (t3.length += t3.objectMode ? 1 : n3.length, r3 ? t3.buffer.unshift(n3) : t3.buffer.push(n3), t3.needReadable && C(e3)), O(e3, t3);
          }
          Object.defineProperty(A.prototype, "destroyed", { enumerable: false, get: function() {
            return void 0 !== this._readableState && this._readableState.destroyed;
          }, set: function(e3) {
            this._readableState && (this._readableState.destroyed = e3);
          } }), A.prototype.destroy = h.destroy, A.prototype._undestroy = h.undestroy, A.prototype._destroy = function(e3, t3) {
            t3(e3);
          }, A.prototype.push = function(e3, t3) {
            var n3, r3 = this._readableState;
            return r3.objectMode ? n3 = true : "string" == typeof e3 && ((t3 = t3 || r3.defaultEncoding) !== r3.encoding && (e3 = s2.from(e3, t3), t3 = ""), n3 = true), I(this, e3, t3, false, n3);
          }, A.prototype.unshift = function(e3) {
            return I(this, e3, null, true, false);
          }, A.prototype.isPaused = function() {
            return false === this._readableState.flowing;
          }, A.prototype.setEncoding = function(e3) {
            c || (c = n2(7503).s);
            var t3 = new c(e3);
            this._readableState.decoder = t3, this._readableState.encoding = this._readableState.decoder.encoding;
            for (var r3 = this._readableState.buffer.head, i2 = ""; null !== r3; )
              i2 += t3.write(r3.data), r3 = r3.next;
            return this._readableState.buffer.clear(), "" !== i2 && this._readableState.buffer.push(i2), this._readableState.length = i2.length, this;
          };
          var w = 1073741824;
          function N(e3, t3) {
            return e3 <= 0 || 0 === t3.length && t3.ended ? 0 : t3.objectMode ? 1 : e3 != e3 ? t3.flowing && t3.length ? t3.buffer.head.data.length : t3.length : (e3 > t3.highWaterMark && (t3.highWaterMark = function(e4) {
              return e4 >= w ? e4 = w : (e4--, e4 |= e4 >>> 1, e4 |= e4 >>> 2, e4 |= e4 >>> 4, e4 |= e4 >>> 8, e4 |= e4 >>> 16, e4++), e4;
            }(e3)), e3 <= t3.length ? e3 : t3.ended ? t3.length : (t3.needReadable = true, 0));
          }
          function C(e3) {
            var t3 = e3._readableState;
            i("emitReadable", t3.needReadable, t3.emittedReadable), t3.needReadable = false, t3.emittedReadable || (i("emitReadable", t3.flowing), t3.emittedReadable = true, process.nextTick(D, e3));
          }
          function D(e3) {
            var t3 = e3._readableState;
            i("emitReadable_", t3.destroyed, t3.length, t3.ended), t3.destroyed || !t3.length && !t3.ended || (e3.emit("readable"), t3.emittedReadable = false), t3.needReadable = !t3.flowing && !t3.ended && t3.length <= t3.highWaterMark, x(e3);
          }
          function O(e3, t3) {
            t3.readingMore || (t3.readingMore = true, process.nextTick(M, e3, t3));
          }
          function M(e3, t3) {
            for (; !t3.reading && !t3.ended && (t3.length < t3.highWaterMark || t3.flowing && 0 === t3.length); ) {
              var n3 = t3.length;
              if (i("maybeReadMore read 0"), e3.read(0), n3 === t3.length)
                break;
            }
            t3.readingMore = false;
          }
          function P(e3) {
            var t3 = e3._readableState;
            t3.readableListening = e3.listenerCount("readable") > 0, t3.resumeScheduled && !t3.paused ? t3.flowing = true : e3.listenerCount("data") > 0 && e3.resume();
          }
          function L(e3) {
            i("readable nexttick read 0"), e3.read(0);
          }
          function F(e3, t3) {
            i("resume", t3.reading), t3.reading || e3.read(0), t3.resumeScheduled = false, e3.emit("resume"), x(e3), t3.flowing && !t3.reading && e3.read(0);
          }
          function x(e3) {
            var t3 = e3._readableState;
            for (i("flow", t3.flowing); t3.flowing && null !== e3.read(); )
              ;
          }
          function k(e3, t3) {
            return 0 === t3.length ? null : (t3.objectMode ? n3 = t3.buffer.shift() : !e3 || e3 >= t3.length ? (n3 = t3.decoder ? t3.buffer.join("") : 1 === t3.buffer.length ? t3.buffer.first() : t3.buffer.concat(t3.length), t3.buffer.clear()) : n3 = t3.buffer.consume(e3, t3.decoder), n3);
            var n3;
          }
          function U(e3) {
            var t3 = e3._readableState;
            i("endReadable", t3.endEmitted), t3.endEmitted || (t3.ended = true, process.nextTick(Z, t3, e3));
          }
          function Z(e3, t3) {
            if (i("endReadableNT", e3.endEmitted, e3.length), !e3.endEmitted && 0 === e3.length && (e3.endEmitted = true, t3.readable = false, t3.emit("end"), e3.autoDestroy)) {
              var n3 = t3._writableState;
              (!n3 || n3.autoDestroy && n3.finished) && t3.destroy();
            }
          }
          function B(e3, t3) {
            for (var n3 = 0, r3 = e3.length; n3 < r3; n3++)
              if (e3[n3] === t3)
                return n3;
            return -1;
          }
          A.prototype.read = function(e3) {
            i("read", e3), e3 = parseInt(e3, 10);
            var t3 = this._readableState, n3 = e3;
            if (0 !== e3 && (t3.emittedReadable = false), 0 === e3 && t3.needReadable && ((0 !== t3.highWaterMark ? t3.length >= t3.highWaterMark : t3.length > 0) || t3.ended))
              return i("read: emitReadable", t3.length, t3.ended), 0 === t3.length && t3.ended ? U(this) : C(this), null;
            if (0 === (e3 = N(e3, t3)) && t3.ended)
              return 0 === t3.length && U(this), null;
            var r3, a3 = t3.needReadable;
            return i("need readable", a3), (0 === t3.length || t3.length - e3 < t3.highWaterMark) && i("length less than watermark", a3 = true), t3.ended || t3.reading ? i("reading or ended", a3 = false) : a3 && (i("do read"), t3.reading = true, t3.sync = true, 0 === t3.length && (t3.needReadable = true), this._read(t3.highWaterMark), t3.sync = false, t3.reading || (e3 = N(n3, t3))), null === (r3 = e3 > 0 ? k(e3, t3) : null) ? (t3.needReadable = t3.length <= t3.highWaterMark, e3 = 0) : (t3.length -= e3, t3.awaitDrain = 0), 0 === t3.length && (t3.ended || (t3.needReadable = true), n3 !== e3 && t3.ended && U(this)), null !== r3 && this.emit("data", r3), r3;
          }, A.prototype._read = function(e3) {
            T(this, new v("_read()"));
          }, A.prototype.pipe = function(e3, t3) {
            var n3 = this, r3 = this._readableState;
            switch (r3.pipesCount) {
              case 0:
                r3.pipes = e3;
                break;
              case 1:
                r3.pipes = [r3.pipes, e3];
                break;
              default:
                r3.pipes.push(e3);
            }
            r3.pipesCount += 1, i("pipe count=%d opts=%j", r3.pipesCount, t3);
            var o2 = t3 && false === t3.end || e3 === process.stdout || e3 === process.stderr ? h2 : s3;
            function s3() {
              i("onend"), e3.end();
            }
            r3.endEmitted ? process.nextTick(o2) : n3.once("end", o2), e3.on("unpipe", function t4(a3, o3) {
              i("onunpipe"), a3 === n3 && o3 && false === o3.hasUnpiped && (o3.hasUnpiped = true, i("cleanup"), e3.removeListener("close", d2), e3.removeListener("finish", g2), e3.removeListener("drain", u2), e3.removeListener("error", f2), e3.removeListener("unpipe", t4), n3.removeListener("end", s3), n3.removeListener("end", h2), n3.removeListener("data", c2), l2 = true, !r3.awaitDrain || e3._writableState && !e3._writableState.needDrain || u2());
            });
            var u2 = /* @__PURE__ */ function(e4) {
              return function() {
                var t4 = e4._readableState;
                i("pipeOnDrain", t4.awaitDrain), t4.awaitDrain && t4.awaitDrain--, 0 === t4.awaitDrain && a2(e4, "data") && (t4.flowing = true, x(e4));
              };
            }(n3);
            e3.on("drain", u2);
            var l2 = false;
            function c2(t4) {
              i("ondata");
              var a3 = e3.write(t4);
              i("dest.write", a3), false === a3 && ((1 === r3.pipesCount && r3.pipes === e3 || r3.pipesCount > 1 && -1 !== B(r3.pipes, e3)) && !l2 && (i("false write response, pause", r3.awaitDrain), r3.awaitDrain++), n3.pause());
            }
            function f2(t4) {
              i("onerror", t4), h2(), e3.removeListener("error", f2), 0 === a2(e3, "error") && T(e3, t4);
            }
            function d2() {
              e3.removeListener("finish", g2), h2();
            }
            function g2() {
              i("onfinish"), e3.removeListener("close", d2), h2();
            }
            function h2() {
              i("unpipe"), n3.unpipe(e3);
            }
            return n3.on("data", c2), function(e4, t4, n4) {
              if ("function" == typeof e4.prependListener)
                return e4.prependListener(t4, n4);
              e4._events && e4._events[t4] ? Array.isArray(e4._events[t4]) ? e4._events[t4].unshift(n4) : e4._events[t4] = [n4, e4._events[t4]] : e4.on(t4, n4);
            }(e3, "error", f2), e3.once("close", d2), e3.once("finish", g2), e3.emit("pipe", n3), r3.flowing || (i("pipe resume"), n3.resume()), e3;
          }, A.prototype.unpipe = function(e3) {
            var t3 = this._readableState, n3 = { hasUnpiped: false };
            if (0 === t3.pipesCount)
              return this;
            if (1 === t3.pipesCount)
              return e3 && e3 !== t3.pipes || (e3 || (e3 = t3.pipes), t3.pipes = null, t3.pipesCount = 0, t3.flowing = false, e3 && e3.emit("unpipe", this, n3)), this;
            if (!e3) {
              var r3 = t3.pipes, i2 = t3.pipesCount;
              t3.pipes = null, t3.pipesCount = 0, t3.flowing = false;
              for (var a3 = 0; a3 < i2; a3++)
                r3[a3].emit("unpipe", this, { hasUnpiped: false });
              return this;
            }
            var o2 = B(t3.pipes, e3);
            return -1 === o2 || (t3.pipes.splice(o2, 1), t3.pipesCount -= 1, 1 === t3.pipesCount && (t3.pipes = t3.pipes[0]), e3.emit("unpipe", this, n3)), this;
          }, A.prototype.on = function(e3, t3) {
            var n3 = o.prototype.on.call(this, e3, t3), r3 = this._readableState;
            return "data" === e3 ? (r3.readableListening = this.listenerCount("readable") > 0, false !== r3.flowing && this.resume()) : "readable" === e3 && (r3.endEmitted || r3.readableListening || (r3.readableListening = r3.needReadable = true, r3.flowing = false, r3.emittedReadable = false, i("on readable", r3.length, r3.reading), r3.length ? C(this) : r3.reading || process.nextTick(L, this))), n3;
          }, A.prototype.addListener = A.prototype.on, A.prototype.removeListener = function(e3, t3) {
            var n3 = o.prototype.removeListener.call(this, e3, t3);
            return "readable" === e3 && process.nextTick(P, this), n3;
          }, A.prototype.removeAllListeners = function(e3) {
            var t3 = o.prototype.removeAllListeners.apply(this, arguments);
            return "readable" !== e3 && void 0 !== e3 || process.nextTick(P, this), t3;
          }, A.prototype.resume = function() {
            var e3 = this._readableState;
            return e3.flowing || (i("resume"), e3.flowing = !e3.readableListening, function(e4, t3) {
              t3.resumeScheduled || (t3.resumeScheduled = true, process.nextTick(F, e4, t3));
            }(this, e3)), e3.paused = false, this;
          }, A.prototype.pause = function() {
            return i("call pause flowing=%j", this._readableState.flowing), false !== this._readableState.flowing && (i("pause"), this._readableState.flowing = false, this.emit("pause")), this._readableState.paused = true, this;
          }, A.prototype.wrap = function(e3) {
            var t3 = this, n3 = this._readableState, r3 = false;
            for (var a3 in e3.on("end", function() {
              if (i("wrapped end"), n3.decoder && !n3.ended) {
                var e4 = n3.decoder.end();
                e4 && e4.length && t3.push(e4);
              }
              t3.push(null);
            }), e3.on("data", function(a4) {
              i("wrapped data"), n3.decoder && (a4 = n3.decoder.write(a4)), n3.objectMode && null == a4 || (n3.objectMode || a4 && a4.length) && (t3.push(a4) || (r3 = true, e3.pause()));
            }), e3)
              void 0 === this[a3] && "function" == typeof e3[a3] && (this[a3] = /* @__PURE__ */ function(t4) {
                return function() {
                  return e3[t4].apply(e3, arguments);
                };
              }(a3));
            for (var o2 = 0; o2 < S.length; o2++)
              e3.on(S[o2], this.emit.bind(this, S[o2]));
            return this._read = function(t4) {
              i("wrapped _read", t4), r3 && (r3 = false, e3.resume());
            }, this;
          }, "function" == typeof Symbol && (A.prototype[Symbol.asyncIterator] = function() {
            return void 0 === f && (f = n2(7299)), f(this);
          }), Object.defineProperty(A.prototype, "readableHighWaterMark", { enumerable: false, get: function() {
            return this._readableState.highWaterMark;
          } }), Object.defineProperty(A.prototype, "readableBuffer", { enumerable: false, get: function() {
            return this._readableState && this._readableState.buffer;
          } }), Object.defineProperty(A.prototype, "readableFlowing", { enumerable: false, get: function() {
            return this._readableState.flowing;
          }, set: function(e3) {
            this._readableState && (this._readableState.flowing = e3);
          } }), A._fromList = k, Object.defineProperty(A.prototype, "readableLength", { enumerable: false, get: function() {
            return this._readableState.length;
          } }), "function" == typeof Symbol && (A.from = function(e3, t3) {
            return void 0 === d && (d = n2(6233)), d(A, e3, t3);
          });
        }, 9798: function(e2, t2, n2) {
          "use strict";
          e2.exports = c;
          var r2 = n2(3690).q, i = r2.ERR_METHOD_NOT_IMPLEMENTED, a2 = r2.ERR_MULTIPLE_CALLBACK, o = r2.ERR_TRANSFORM_ALREADY_TRANSFORMING, s2 = r2.ERR_TRANSFORM_WITH_LENGTH_0, u = n2(6138);
          function l(e3, t3) {
            var n3 = this._transformState;
            n3.transforming = false;
            var r3 = n3.writecb;
            if (null === r3)
              return this.emit("error", new a2());
            n3.writechunk = null, n3.writecb = null, null != t3 && this.push(t3), r3(e3);
            var i2 = this._readableState;
            i2.reading = false, (i2.needReadable || i2.length < i2.highWaterMark) && this._read(i2.highWaterMark);
          }
          function c(e3) {
            if (!(this instanceof c))
              return new c(e3);
            u.call(this, e3), this._transformState = { afterTransform: l.bind(this), needTransform: false, transforming: false, writecb: null, writechunk: null, writeencoding: null }, this._readableState.needReadable = true, this._readableState.sync = false, e3 && ("function" == typeof e3.transform && (this._transform = e3.transform), "function" == typeof e3.flush && (this._flush = e3.flush)), this.on("prefinish", f);
          }
          function f() {
            var e3 = this;
            "function" != typeof this._flush || this._readableState.destroyed ? d(this, null, null) : this._flush(function(t3, n3) {
              d(e3, t3, n3);
            });
          }
          function d(e3, t3, n3) {
            if (t3)
              return e3.emit("error", t3);
            if (null != n3 && e3.push(n3), e3._writableState.length)
              throw new s2();
            if (e3._transformState.transforming)
              throw new o();
            return e3.push(null);
          }
          n2(1765)(c, u), c.prototype.push = function(e3, t3) {
            return this._transformState.needTransform = false, u.prototype.push.call(this, e3, t3);
          }, c.prototype._transform = function(e3, t3, n3) {
            n3(new i("_transform()"));
          }, c.prototype._write = function(e3, t3, n3) {
            var r3 = this._transformState;
            if (r3.writecb = n3, r3.writechunk = e3, r3.writeencoding = t3, !r3.transforming) {
              var i2 = this._readableState;
              (r3.needTransform || i2.needReadable || i2.length < i2.highWaterMark) && this._read(i2.highWaterMark);
            }
          }, c.prototype._read = function(e3) {
            var t3 = this._transformState;
            null === t3.writechunk || t3.transforming ? t3.needTransform = true : (t3.transforming = true, this._transform(t3.writechunk, t3.writeencoding, t3.afterTransform));
          }, c.prototype._destroy = function(e3, t3) {
            u.prototype._destroy.call(this, e3, function(e4) {
              t3(e4);
            });
          };
        }, 8318: function(e2, t2, n2) {
          "use strict";
          function r2(e3) {
            var t3 = this;
            this.next = null, this.entry = null, this.finish = function() {
              !function(e4, t4, n3) {
                var r3 = e4.entry;
                for (e4.entry = null; r3; ) {
                  var i2 = r3.callback;
                  t4.pendingcb--, i2(void 0), r3 = r3.next;
                }
                t4.corkedRequestsFree.next = e4;
              }(t3, e3);
            };
          }
          var i;
          e2.exports = A, A.WritableState = b;
          var a2, o = { deprecate: n2(7839) }, s2 = n2(9299), u = n2(1549).Buffer, l = n2.g.Uint8Array || function() {
          }, c = n2(6163), f = n2(7269).getHighWaterMark, d = n2(3690).q, g = d.ERR_INVALID_ARG_TYPE, h = d.ERR_METHOD_NOT_IMPLEMENTED, p = d.ERR_MULTIPLE_CALLBACK, m = d.ERR_STREAM_CANNOT_PIPE, y = d.ERR_STREAM_DESTROYED, E = d.ERR_STREAM_NULL_VALUES, v = d.ERR_STREAM_WRITE_AFTER_END, _ = d.ERR_UNKNOWN_ENCODING, T = c.errorOrDestroy;
          function S() {
          }
          function b(e3, t3, a3) {
            i = i || n2(6138), e3 = e3 || {}, "boolean" != typeof a3 && (a3 = t3 instanceof i), this.objectMode = !!e3.objectMode, a3 && (this.objectMode = this.objectMode || !!e3.writableObjectMode), this.highWaterMark = f(this, e3, "writableHighWaterMark", a3), this.finalCalled = false, this.needDrain = false, this.ending = false, this.ended = false, this.finished = false, this.destroyed = false;
            var o2 = false === e3.decodeStrings;
            this.decodeStrings = !o2, this.defaultEncoding = e3.defaultEncoding || "utf8", this.length = 0, this.writing = false, this.corked = 0, this.sync = true, this.bufferProcessing = false, this.onwrite = function(e4) {
              !function(e5, t4) {
                var n3 = e5._writableState, r3 = n3.sync, i2 = n3.writecb;
                if ("function" != typeof i2)
                  throw new p();
                if (function(e6) {
                  e6.writing = false, e6.writecb = null, e6.length -= e6.writelen, e6.writelen = 0;
                }(n3), t4)
                  !function(e6, t5, n4, r4, i3) {
                    --t5.pendingcb, n4 ? (process.nextTick(i3, r4), process.nextTick(D, e6, t5), e6._writableState.errorEmitted = true, T(e6, r4)) : (i3(r4), e6._writableState.errorEmitted = true, T(e6, r4), D(e6, t5));
                  }(e5, n3, r3, t4, i2);
                else {
                  var a4 = N(n3) || e5.destroyed;
                  a4 || n3.corked || n3.bufferProcessing || !n3.bufferedRequest || w(e5, n3), r3 ? process.nextTick(R, e5, n3, a4, i2) : R(e5, n3, a4, i2);
                }
              }(t3, e4);
            }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = false, this.errorEmitted = false, this.emitClose = false !== e3.emitClose, this.autoDestroy = !!e3.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new r2(this);
          }
          function A(e3) {
            var t3 = this instanceof (i = i || n2(6138));
            if (!t3 && !a2.call(A, this))
              return new A(e3);
            this._writableState = new b(e3, this, t3), this.writable = true, e3 && ("function" == typeof e3.write && (this._write = e3.write), "function" == typeof e3.writev && (this._writev = e3.writev), "function" == typeof e3.destroy && (this._destroy = e3.destroy), "function" == typeof e3.final && (this._final = e3.final)), s2.call(this);
          }
          function I(e3, t3, n3, r3, i2, a3, o2) {
            t3.writelen = r3, t3.writecb = o2, t3.writing = true, t3.sync = true, t3.destroyed ? t3.onwrite(new y("write")) : n3 ? e3._writev(i2, t3.onwrite) : e3._write(i2, a3, t3.onwrite), t3.sync = false;
          }
          function R(e3, t3, n3, r3) {
            n3 || function(e4, t4) {
              0 === t4.length && t4.needDrain && (t4.needDrain = false, e4.emit("drain"));
            }(e3, t3), t3.pendingcb--, r3(), D(e3, t3);
          }
          function w(e3, t3) {
            t3.bufferProcessing = true;
            var n3 = t3.bufferedRequest;
            if (e3._writev && n3 && n3.next) {
              var i2 = t3.bufferedRequestCount, a3 = new Array(i2), o2 = t3.corkedRequestsFree;
              o2.entry = n3;
              for (var s3 = 0, u2 = true; n3; )
                a3[s3] = n3, n3.isBuf || (u2 = false), n3 = n3.next, s3 += 1;
              a3.allBuffers = u2, I(e3, t3, true, t3.length, a3, "", o2.finish), t3.pendingcb++, t3.lastBufferedRequest = null, o2.next ? (t3.corkedRequestsFree = o2.next, o2.next = null) : t3.corkedRequestsFree = new r2(t3), t3.bufferedRequestCount = 0;
            } else {
              for (; n3; ) {
                var l2 = n3.chunk, c2 = n3.encoding, f2 = n3.callback;
                if (I(e3, t3, false, t3.objectMode ? 1 : l2.length, l2, c2, f2), n3 = n3.next, t3.bufferedRequestCount--, t3.writing)
                  break;
              }
              null === n3 && (t3.lastBufferedRequest = null);
            }
            t3.bufferedRequest = n3, t3.bufferProcessing = false;
          }
          function N(e3) {
            return e3.ending && 0 === e3.length && null === e3.bufferedRequest && !e3.finished && !e3.writing;
          }
          function C(e3, t3) {
            e3._final(function(n3) {
              t3.pendingcb--, n3 && T(e3, n3), t3.prefinished = true, e3.emit("prefinish"), D(e3, t3);
            });
          }
          function D(e3, t3) {
            var n3 = N(t3);
            if (n3 && (function(e4, t4) {
              t4.prefinished || t4.finalCalled || ("function" != typeof e4._final || t4.destroyed ? (t4.prefinished = true, e4.emit("prefinish")) : (t4.pendingcb++, t4.finalCalled = true, process.nextTick(C, e4, t4)));
            }(e3, t3), 0 === t3.pendingcb && (t3.finished = true, e3.emit("finish"), t3.autoDestroy))) {
              var r3 = e3._readableState;
              (!r3 || r3.autoDestroy && r3.endEmitted) && e3.destroy();
            }
            return n3;
          }
          n2(1765)(A, s2), b.prototype.getBuffer = function() {
            for (var e3 = this.bufferedRequest, t3 = []; e3; )
              t3.push(e3), e3 = e3.next;
            return t3;
          }, function() {
            try {
              Object.defineProperty(b.prototype, "buffer", { get: o.deprecate(function() {
                return this.getBuffer();
              }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003") });
            } catch (e3) {
            }
          }(), "function" == typeof Symbol && Symbol.hasInstance && "function" == typeof Function.prototype[Symbol.hasInstance] ? (a2 = Function.prototype[Symbol.hasInstance], Object.defineProperty(A, Symbol.hasInstance, { value: function(e3) {
            return !!a2.call(this, e3) || this === A && e3 && e3._writableState instanceof b;
          } })) : a2 = function(e3) {
            return e3 instanceof this;
          }, A.prototype.pipe = function() {
            T(this, new m());
          }, A.prototype.write = function(e3, t3, n3) {
            var r3, i2 = this._writableState, a3 = false, o2 = !i2.objectMode && (r3 = e3, u.isBuffer(r3) || r3 instanceof l);
            return o2 && !u.isBuffer(e3) && (e3 = function(e4) {
              return u.from(e4);
            }(e3)), "function" == typeof t3 && (n3 = t3, t3 = null), o2 ? t3 = "buffer" : t3 || (t3 = i2.defaultEncoding), "function" != typeof n3 && (n3 = S), i2.ending ? function(e4, t4) {
              var n4 = new v();
              T(e4, n4), process.nextTick(t4, n4);
            }(this, n3) : (o2 || function(e4, t4, n4, r4) {
              var i3;
              return null === n4 ? i3 = new E() : "string" == typeof n4 || t4.objectMode || (i3 = new g("chunk", ["string", "Buffer"], n4)), !i3 || (T(e4, i3), process.nextTick(r4, i3), false);
            }(this, i2, e3, n3)) && (i2.pendingcb++, a3 = function(e4, t4, n4, r4, i3, a4) {
              if (!n4) {
                var o3 = function(e5, t5, n5) {
                  return e5.objectMode || false === e5.decodeStrings || "string" != typeof t5 || (t5 = u.from(t5, n5)), t5;
                }(t4, r4, i3);
                r4 !== o3 && (n4 = true, i3 = "buffer", r4 = o3);
              }
              var s3 = t4.objectMode ? 1 : r4.length;
              t4.length += s3;
              var l2 = t4.length < t4.highWaterMark;
              if (l2 || (t4.needDrain = true), t4.writing || t4.corked) {
                var c2 = t4.lastBufferedRequest;
                t4.lastBufferedRequest = { chunk: r4, encoding: i3, isBuf: n4, callback: a4, next: null }, c2 ? c2.next = t4.lastBufferedRequest : t4.bufferedRequest = t4.lastBufferedRequest, t4.bufferedRequestCount += 1;
              } else
                I(e4, t4, false, s3, r4, i3, a4);
              return l2;
            }(this, i2, o2, e3, t3, n3)), a3;
          }, A.prototype.cork = function() {
            this._writableState.corked++;
          }, A.prototype.uncork = function() {
            var e3 = this._writableState;
            e3.corked && (e3.corked--, e3.writing || e3.corked || e3.bufferProcessing || !e3.bufferedRequest || w(this, e3));
          }, A.prototype.setDefaultEncoding = function(e3) {
            if ("string" == typeof e3 && (e3 = e3.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((e3 + "").toLowerCase()) > -1))
              throw new _(e3);
            return this._writableState.defaultEncoding = e3, this;
          }, Object.defineProperty(A.prototype, "writableBuffer", { enumerable: false, get: function() {
            return this._writableState && this._writableState.getBuffer();
          } }), Object.defineProperty(A.prototype, "writableHighWaterMark", { enumerable: false, get: function() {
            return this._writableState.highWaterMark;
          } }), A.prototype._write = function(e3, t3, n3) {
            n3(new h("_write()"));
          }, A.prototype._writev = null, A.prototype.end = function(e3, t3, n3) {
            var r3 = this._writableState;
            return "function" == typeof e3 ? (n3 = e3, e3 = null, t3 = null) : "function" == typeof t3 && (n3 = t3, t3 = null), null != e3 && this.write(e3, t3), r3.corked && (r3.corked = 1, this.uncork()), r3.ending || function(e4, t4, n4) {
              t4.ending = true, D(e4, t4), n4 && (t4.finished ? process.nextTick(n4) : e4.once("finish", n4)), t4.ended = true, e4.writable = false;
            }(this, r3, n3), this;
          }, Object.defineProperty(A.prototype, "writableLength", { enumerable: false, get: function() {
            return this._writableState.length;
          } }), Object.defineProperty(A.prototype, "destroyed", { enumerable: false, get: function() {
            return void 0 !== this._writableState && this._writableState.destroyed;
          }, set: function(e3) {
            this._writableState && (this._writableState.destroyed = e3);
          } }), A.prototype.destroy = c.destroy, A.prototype._undestroy = c.undestroy, A.prototype._destroy = function(e3, t3) {
            t3(e3);
          };
        }, 7299: function(e2, t2, n2) {
          "use strict";
          var r2;
          function i(e3, t3, n3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t3] = n3, e3;
          }
          var a2 = n2(8800), o = Symbol("lastResolve"), s2 = Symbol("lastReject"), u = Symbol("error"), l = Symbol("ended"), c = Symbol("lastPromise"), f = Symbol("handlePromise"), d = Symbol("stream");
          function g(e3, t3) {
            return { value: e3, done: t3 };
          }
          function h(e3) {
            var t3 = e3[o];
            if (null !== t3) {
              var n3 = e3[d].read();
              null !== n3 && (e3[c] = null, e3[o] = null, e3[s2] = null, t3(g(n3, false)));
            }
          }
          function p(e3) {
            process.nextTick(h, e3);
          }
          var m = Object.getPrototypeOf(function() {
          }), y = Object.setPrototypeOf((i(r2 = { get stream() {
            return this[d];
          }, next: function() {
            var e3 = this, t3 = this[u];
            if (null !== t3)
              return Promise.reject(t3);
            if (this[l])
              return Promise.resolve(g(void 0, true));
            if (this[d].destroyed)
              return new Promise(function(t4, n4) {
                process.nextTick(function() {
                  e3[u] ? n4(e3[u]) : t4(g(void 0, true));
                });
              });
            var n3, r3 = this[c];
            if (r3)
              n3 = new Promise(/* @__PURE__ */ function(e4, t4) {
                return function(n4, r4) {
                  e4.then(function() {
                    t4[l] ? n4(g(void 0, true)) : t4[f](n4, r4);
                  }, r4);
                };
              }(r3, this));
            else {
              var i2 = this[d].read();
              if (null !== i2)
                return Promise.resolve(g(i2, false));
              n3 = new Promise(this[f]);
            }
            return this[c] = n3, n3;
          } }, Symbol.asyncIterator, function() {
            return this;
          }), i(r2, "return", function() {
            var e3 = this;
            return new Promise(function(t3, n3) {
              e3[d].destroy(null, function(e4) {
                e4 ? n3(e4) : t3(g(void 0, true));
              });
            });
          }), r2), m);
          e2.exports = function(e3) {
            var t3, n3 = Object.create(y, (i(t3 = {}, d, { value: e3, writable: true }), i(t3, o, { value: null, writable: true }), i(t3, s2, { value: null, writable: true }), i(t3, u, { value: null, writable: true }), i(t3, l, { value: e3._readableState.endEmitted, writable: true }), i(t3, f, { value: function(e4, t4) {
              var r3 = n3[d].read();
              r3 ? (n3[c] = null, n3[o] = null, n3[s2] = null, e4(g(r3, false))) : (n3[o] = e4, n3[s2] = t4);
            }, writable: true }), t3));
            return n3[c] = null, a2(e3, function(e4) {
              if (e4 && "ERR_STREAM_PREMATURE_CLOSE" !== e4.code) {
                var t4 = n3[s2];
                return null !== t4 && (n3[c] = null, n3[o] = null, n3[s2] = null, t4(e4)), void (n3[u] = e4);
              }
              var r3 = n3[o];
              null !== r3 && (n3[c] = null, n3[o] = null, n3[s2] = null, r3(g(void 0, true))), n3[l] = true;
            }), e3.on("readable", p.bind(null, n3)), n3;
          };
        }, 8393: function(e2, t2, n2) {
          "use strict";
          function r2(e3, t3) {
            var n3 = Object.keys(e3);
            if (Object.getOwnPropertySymbols) {
              var r3 = Object.getOwnPropertySymbols(e3);
              t3 && (r3 = r3.filter(function(t4) {
                return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
              })), n3.push.apply(n3, r3);
            }
            return n3;
          }
          function i(e3, t3, n3) {
            return t3 in e3 ? Object.defineProperty(e3, t3, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t3] = n3, e3;
          }
          function a2(e3, t3) {
            for (var n3 = 0; n3 < t3.length; n3++) {
              var r3 = t3[n3];
              r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(e3, r3.key, r3);
            }
          }
          var o = n2(1549).Buffer, s2 = n2(9862).inspect, u = s2 && s2.custom || "inspect";
          e2.exports = function() {
            function e3() {
              !function(e4, t4) {
                if (!(e4 instanceof t4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e3), this.head = null, this.tail = null, this.length = 0;
            }
            var t3, n3;
            return t3 = e3, n3 = [{ key: "push", value: function(e4) {
              var t4 = { data: e4, next: null };
              this.length > 0 ? this.tail.next = t4 : this.head = t4, this.tail = t4, ++this.length;
            } }, { key: "unshift", value: function(e4) {
              var t4 = { data: e4, next: this.head };
              0 === this.length && (this.tail = t4), this.head = t4, ++this.length;
            } }, { key: "shift", value: function() {
              if (0 !== this.length) {
                var e4 = this.head.data;
                return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next, --this.length, e4;
              }
            } }, { key: "clear", value: function() {
              this.head = this.tail = null, this.length = 0;
            } }, { key: "join", value: function(e4) {
              if (0 === this.length)
                return "";
              for (var t4 = this.head, n4 = "" + t4.data; t4 = t4.next; )
                n4 += e4 + t4.data;
              return n4;
            } }, { key: "concat", value: function(e4) {
              if (0 === this.length)
                return o.alloc(0);
              for (var t4, n4, r3, i2 = o.allocUnsafe(e4 >>> 0), a3 = this.head, s3 = 0; a3; )
                t4 = a3.data, n4 = i2, r3 = s3, o.prototype.copy.call(t4, n4, r3), s3 += a3.data.length, a3 = a3.next;
              return i2;
            } }, { key: "consume", value: function(e4, t4) {
              var n4;
              return e4 < this.head.data.length ? (n4 = this.head.data.slice(0, e4), this.head.data = this.head.data.slice(e4)) : n4 = e4 === this.head.data.length ? this.shift() : t4 ? this._getString(e4) : this._getBuffer(e4), n4;
            } }, { key: "first", value: function() {
              return this.head.data;
            } }, { key: "_getString", value: function(e4) {
              var t4 = this.head, n4 = 1, r3 = t4.data;
              for (e4 -= r3.length; t4 = t4.next; ) {
                var i2 = t4.data, a3 = e4 > i2.length ? i2.length : e4;
                if (a3 === i2.length ? r3 += i2 : r3 += i2.slice(0, e4), 0 == (e4 -= a3)) {
                  a3 === i2.length ? (++n4, t4.next ? this.head = t4.next : this.head = this.tail = null) : (this.head = t4, t4.data = i2.slice(a3));
                  break;
                }
                ++n4;
              }
              return this.length -= n4, r3;
            } }, { key: "_getBuffer", value: function(e4) {
              var t4 = o.allocUnsafe(e4), n4 = this.head, r3 = 1;
              for (n4.data.copy(t4), e4 -= n4.data.length; n4 = n4.next; ) {
                var i2 = n4.data, a3 = e4 > i2.length ? i2.length : e4;
                if (i2.copy(t4, t4.length - e4, 0, a3), 0 == (e4 -= a3)) {
                  a3 === i2.length ? (++r3, n4.next ? this.head = n4.next : this.head = this.tail = null) : (this.head = n4, n4.data = i2.slice(a3));
                  break;
                }
                ++r3;
              }
              return this.length -= r3, t4;
            } }, { key: u, value: function(e4, t4) {
              return s2(this, function(e5) {
                for (var t5 = 1; t5 < arguments.length; t5++) {
                  var n4 = null != arguments[t5] ? arguments[t5] : {};
                  t5 % 2 ? r2(Object(n4), true).forEach(function(t6) {
                    i(e5, t6, n4[t6]);
                  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e5, Object.getOwnPropertyDescriptors(n4)) : r2(Object(n4)).forEach(function(t6) {
                    Object.defineProperty(e5, t6, Object.getOwnPropertyDescriptor(n4, t6));
                  });
                }
                return e5;
              }({}, t4, { depth: 0, customInspect: false }));
            } }], n3 && a2(t3.prototype, n3), e3;
          }();
        }, 6163: function(e2) {
          "use strict";
          function t2(e3, t3) {
            r2(e3, t3), n2(e3);
          }
          function n2(e3) {
            e3._writableState && !e3._writableState.emitClose || e3._readableState && !e3._readableState.emitClose || e3.emit("close");
          }
          function r2(e3, t3) {
            e3.emit("error", t3);
          }
          e2.exports = { destroy: function(e3, i) {
            var a2 = this, o = this._readableState && this._readableState.destroyed, s2 = this._writableState && this._writableState.destroyed;
            return o || s2 ? (i ? i(e3) : e3 && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = true, process.nextTick(r2, this, e3)) : process.nextTick(r2, this, e3)), this) : (this._readableState && (this._readableState.destroyed = true), this._writableState && (this._writableState.destroyed = true), this._destroy(e3 || null, function(e4) {
              !i && e4 ? a2._writableState ? a2._writableState.errorEmitted ? process.nextTick(n2, a2) : (a2._writableState.errorEmitted = true, process.nextTick(t2, a2, e4)) : process.nextTick(t2, a2, e4) : i ? (process.nextTick(n2, a2), i(e4)) : process.nextTick(n2, a2);
            }), this);
          }, undestroy: function() {
            this._readableState && (this._readableState.destroyed = false, this._readableState.reading = false, this._readableState.ended = false, this._readableState.endEmitted = false), this._writableState && (this._writableState.destroyed = false, this._writableState.ended = false, this._writableState.ending = false, this._writableState.finalCalled = false, this._writableState.prefinished = false, this._writableState.finished = false, this._writableState.errorEmitted = false);
          }, errorOrDestroy: function(e3, t3) {
            var n3 = e3._readableState, r3 = e3._writableState;
            n3 && n3.autoDestroy || r3 && r3.autoDestroy ? e3.destroy(t3) : e3.emit("error", t3);
          } };
        }, 8800: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(3690).q.ERR_STREAM_PREMATURE_CLOSE;
          function i() {
          }
          e2.exports = function e3(t3, n3, a2) {
            if ("function" == typeof n3)
              return e3(t3, null, n3);
            n3 || (n3 = {}), a2 = /* @__PURE__ */ function(e4) {
              var t4 = false;
              return function() {
                if (!t4) {
                  t4 = true;
                  for (var n4 = arguments.length, r3 = new Array(n4), i2 = 0; i2 < n4; i2++)
                    r3[i2] = arguments[i2];
                  e4.apply(this, r3);
                }
              };
            }(a2 || i);
            var o = n3.readable || false !== n3.readable && t3.readable, s2 = n3.writable || false !== n3.writable && t3.writable, u = function() {
              t3.writable || c();
            }, l = t3._writableState && t3._writableState.finished, c = function() {
              s2 = false, l = true, o || a2.call(t3);
            }, f = t3._readableState && t3._readableState.endEmitted, d = function() {
              o = false, f = true, s2 || a2.call(t3);
            }, g = function(e4) {
              a2.call(t3, e4);
            }, h = function() {
              var e4;
              return o && !f ? (t3._readableState && t3._readableState.ended || (e4 = new r2()), a2.call(t3, e4)) : s2 && !l ? (t3._writableState && t3._writableState.ended || (e4 = new r2()), a2.call(t3, e4)) : void 0;
            }, p = function() {
              t3.req.on("finish", c);
            };
            return function(e4) {
              return e4.setHeader && "function" == typeof e4.abort;
            }(t3) ? (t3.on("complete", c), t3.on("abort", h), t3.req ? p() : t3.on("request", p)) : s2 && !t3._writableState && (t3.on("end", u), t3.on("close", u)), t3.on("end", d), t3.on("finish", c), false !== n3.error && t3.on("error", g), t3.on("close", h), function() {
              t3.removeListener("complete", c), t3.removeListener("abort", h), t3.removeListener("request", p), t3.req && t3.req.removeListener("finish", c), t3.removeListener("end", u), t3.removeListener("close", u), t3.removeListener("finish", c), t3.removeListener("end", d), t3.removeListener("error", g), t3.removeListener("close", h);
            };
          };
        }, 6233: function(e2) {
          e2.exports = function() {
            throw new Error("Readable.from is not available in the browser");
          };
        }, 7295: function(e2, t2, n2) {
          "use strict";
          var r2, i = n2(3690).q, a2 = i.ERR_MISSING_ARGS, o = i.ERR_STREAM_DESTROYED;
          function s2(e3) {
            if (e3)
              throw e3;
          }
          function u(e3, t3, i2, a3) {
            a3 = /* @__PURE__ */ function(e4) {
              var t4 = false;
              return function() {
                t4 || (t4 = true, e4.apply(void 0, arguments));
              };
            }(a3);
            var s3 = false;
            e3.on("close", function() {
              s3 = true;
            }), void 0 === r2 && (r2 = n2(8800)), r2(e3, { readable: t3, writable: i2 }, function(e4) {
              if (e4)
                return a3(e4);
              s3 = true, a3();
            });
            var u2 = false;
            return function(t4) {
              if (!s3 && !u2)
                return u2 = true, function(e4) {
                  return e4.setHeader && "function" == typeof e4.abort;
                }(e3) ? e3.abort() : "function" == typeof e3.destroy ? e3.destroy() : void a3(t4 || new o("pipe"));
            };
          }
          function l(e3) {
            e3();
          }
          function c(e3, t3) {
            return e3.pipe(t3);
          }
          function f(e3) {
            return e3.length ? "function" != typeof e3[e3.length - 1] ? s2 : e3.pop() : s2;
          }
          e2.exports = function() {
            for (var e3 = arguments.length, t3 = new Array(e3), n3 = 0; n3 < e3; n3++)
              t3[n3] = arguments[n3];
            var r3, i2 = f(t3);
            if (Array.isArray(t3[0]) && (t3 = t3[0]), t3.length < 2)
              throw new a2("streams");
            var o2 = t3.map(function(e4, n4) {
              var a3 = n4 < t3.length - 1;
              return u(e4, a3, n4 > 0, function(e5) {
                r3 || (r3 = e5), e5 && o2.forEach(l), a3 || (o2.forEach(l), i2(r3));
              });
            });
            return t3.reduce(c);
          };
        }, 7269: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(3690).q.ERR_INVALID_OPT_VALUE;
          e2.exports = { getHighWaterMark: function(e3, t3, n3, i) {
            var a2 = function(e4, t4, n4) {
              return null != e4.highWaterMark ? e4.highWaterMark : t4 ? e4[n4] : null;
            }(t3, i, n3);
            if (null != a2) {
              if (!isFinite(a2) || Math.floor(a2) !== a2 || a2 < 0)
                throw new r2(i ? n3 : "highWaterMark", a2);
              return Math.floor(a2);
            }
            return e3.objectMode ? 16 : 16384;
          } };
        }, 9299: function(e2, t2, n2) {
          e2.exports = n2(1159).EventEmitter;
        }, 7503: function(e2, t2, n2) {
          "use strict";
          var r2 = n2(8387).Buffer, i = r2.isEncoding || function(e3) {
            switch ((e3 = "" + e3) && e3.toLowerCase()) {
              case "hex":
              case "utf8":
              case "utf-8":
              case "ascii":
              case "binary":
              case "base64":
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
              case "raw":
                return true;
              default:
                return false;
            }
          };
          function a2(e3) {
            var t3;
            switch (this.encoding = function(e4) {
              var t4 = function(e5) {
                if (!e5)
                  return "utf8";
                for (var t5; ; )
                  switch (e5) {
                    case "utf8":
                    case "utf-8":
                      return "utf8";
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                      return "utf16le";
                    case "latin1":
                    case "binary":
                      return "latin1";
                    case "base64":
                    case "ascii":
                    case "hex":
                      return e5;
                    default:
                      if (t5)
                        return;
                      e5 = ("" + e5).toLowerCase(), t5 = true;
                  }
              }(e4);
              if ("string" != typeof t4 && (r2.isEncoding === i || !i(e4)))
                throw new Error("Unknown encoding: " + e4);
              return t4 || e4;
            }(e3), this.encoding) {
              case "utf16le":
                this.text = u, this.end = l, t3 = 4;
                break;
              case "utf8":
                this.fillLast = s2, t3 = 4;
                break;
              case "base64":
                this.text = c, this.end = f, t3 = 3;
                break;
              default:
                return this.write = d, void (this.end = g);
            }
            this.lastNeed = 0, this.lastTotal = 0, this.lastChar = r2.allocUnsafe(t3);
          }
          function o(e3) {
            return e3 <= 127 ? 0 : e3 >> 5 == 6 ? 2 : e3 >> 4 == 14 ? 3 : e3 >> 3 == 30 ? 4 : e3 >> 6 == 2 ? -1 : -2;
          }
          function s2(e3) {
            var t3 = this.lastTotal - this.lastNeed, n3 = function(e4, t4, n4) {
              if (128 != (192 & t4[0]))
                return e4.lastNeed = 0, "";
              if (e4.lastNeed > 1 && t4.length > 1) {
                if (128 != (192 & t4[1]))
                  return e4.lastNeed = 1, "";
                if (e4.lastNeed > 2 && t4.length > 2 && 128 != (192 & t4[2]))
                  return e4.lastNeed = 2, "";
              }
            }(this, e3);
            return void 0 !== n3 ? n3 : this.lastNeed <= e3.length ? (e3.copy(this.lastChar, t3, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal)) : (e3.copy(this.lastChar, t3, 0, e3.length), void (this.lastNeed -= e3.length));
          }
          function u(e3, t3) {
            if ((e3.length - t3) % 2 == 0) {
              var n3 = e3.toString("utf16le", t3);
              if (n3) {
                var r3 = n3.charCodeAt(n3.length - 1);
                if (r3 >= 55296 && r3 <= 56319)
                  return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = e3[e3.length - 2], this.lastChar[1] = e3[e3.length - 1], n3.slice(0, -1);
              }
              return n3;
            }
            return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = e3[e3.length - 1], e3.toString("utf16le", t3, e3.length - 1);
          }
          function l(e3) {
            var t3 = e3 && e3.length ? this.write(e3) : "";
            if (this.lastNeed) {
              var n3 = this.lastTotal - this.lastNeed;
              return t3 + this.lastChar.toString("utf16le", 0, n3);
            }
            return t3;
          }
          function c(e3, t3) {
            var n3 = (e3.length - t3) % 3;
            return 0 === n3 ? e3.toString("base64", t3) : (this.lastNeed = 3 - n3, this.lastTotal = 3, 1 === n3 ? this.lastChar[0] = e3[e3.length - 1] : (this.lastChar[0] = e3[e3.length - 2], this.lastChar[1] = e3[e3.length - 1]), e3.toString("base64", t3, e3.length - n3));
          }
          function f(e3) {
            var t3 = e3 && e3.length ? this.write(e3) : "";
            return this.lastNeed ? t3 + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : t3;
          }
          function d(e3) {
            return e3.toString(this.encoding);
          }
          function g(e3) {
            return e3 && e3.length ? this.write(e3) : "";
          }
          t2.s = a2, a2.prototype.write = function(e3) {
            if (0 === e3.length)
              return "";
            var t3, n3;
            if (this.lastNeed) {
              if (void 0 === (t3 = this.fillLast(e3)))
                return "";
              n3 = this.lastNeed, this.lastNeed = 0;
            } else
              n3 = 0;
            return n3 < e3.length ? t3 ? t3 + this.text(e3, n3) : this.text(e3, n3) : t3 || "";
          }, a2.prototype.end = function(e3) {
            var t3 = e3 && e3.length ? this.write(e3) : "";
            return this.lastNeed ? t3 + "" : t3;
          }, a2.prototype.text = function(e3, t3) {
            var n3 = function(e4, t4, n4) {
              var r4 = t4.length - 1;
              if (r4 < n4)
                return 0;
              var i2 = o(t4[r4]);
              return i2 >= 0 ? (i2 > 0 && (e4.lastNeed = i2 - 1), i2) : --r4 < n4 || -2 === i2 ? 0 : (i2 = o(t4[r4])) >= 0 ? (i2 > 0 && (e4.lastNeed = i2 - 2), i2) : --r4 < n4 || -2 === i2 ? 0 : (i2 = o(t4[r4])) >= 0 ? (i2 > 0 && (2 === i2 ? i2 = 0 : e4.lastNeed = i2 - 3), i2) : 0;
            }(this, e3, t3);
            if (!this.lastNeed)
              return e3.toString("utf8", t3);
            this.lastTotal = n3;
            var r3 = e3.length - (n3 - this.lastNeed);
            return e3.copy(this.lastChar, 0, r3), e3.toString("utf8", t3, r3);
          }, a2.prototype.fillLast = function(e3) {
            if (this.lastNeed <= e3.length)
              return e3.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
            e3.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, e3.length), this.lastNeed -= e3.length;
          };
        }, 1067: function(e2, t2, n2) {
          var r2;
          !function(i, a2) {
            "use strict";
            var o = "function", s2 = "undefined", u = "object", l = "string", c = "major", f = "model", d = "name", g = "type", h = "vendor", p = "version", m = "architecture", y = "console", E = "mobile", v = "tablet", _ = "smarttv", T = "wearable", S = "embedded", b = "Amazon", A = "Apple", I = "ASUS", R = "BlackBerry", w = "Browser", N = "Chrome", C = "Firefox", D = "Google", O = "Huawei", M = "LG", P = "Microsoft", L = "Motorola", F = "Opera", x = "Samsung", k = "Sharp", U = "Sony", Z = "Xiaomi", B = "Zebra", G = "Facebook", q = "Chromium OS", Y = "Mac OS", j = function(e3) {
              for (var t3 = {}, n3 = 0; n3 < e3.length; n3++)
                t3[e3[n3].toUpperCase()] = e3[n3];
              return t3;
            }, H = function(e3, t3) {
              return typeof e3 === l && -1 !== V(t3).indexOf(V(e3));
            }, V = function(e3) {
              return e3.toLowerCase();
            }, K = function(e3, t3) {
              if (typeof e3 === l)
                return e3 = e3.replace(/^\s\s*/, ""), typeof t3 === s2 ? e3 : e3.substring(0, 500);
            }, z = function(e3, t3) {
              for (var n3, r3, i2, s3, l2, c2, f2 = 0; f2 < t3.length && !l2; ) {
                var d2 = t3[f2], g2 = t3[f2 + 1];
                for (n3 = r3 = 0; n3 < d2.length && !l2 && d2[n3]; )
                  if (l2 = d2[n3++].exec(e3))
                    for (i2 = 0; i2 < g2.length; i2++)
                      c2 = l2[++r3], typeof (s3 = g2[i2]) === u && s3.length > 0 ? 2 === s3.length ? typeof s3[1] == o ? this[s3[0]] = s3[1].call(this, c2) : this[s3[0]] = s3[1] : 3 === s3.length ? typeof s3[1] !== o || s3[1].exec && s3[1].test ? this[s3[0]] = c2 ? c2.replace(s3[1], s3[2]) : a2 : this[s3[0]] = c2 ? s3[1].call(this, c2, s3[2]) : a2 : 4 === s3.length && (this[s3[0]] = c2 ? s3[3].call(this, c2.replace(s3[1], s3[2])) : a2) : this[s3] = c2 || a2;
                f2 += 2;
              }
            }, W = function(e3, t3) {
              for (var n3 in t3)
                if (typeof t3[n3] === u && t3[n3].length > 0) {
                  for (var r3 = 0; r3 < t3[n3].length; r3++)
                    if (H(t3[n3][r3], e3))
                      return "?" === n3 ? a2 : n3;
                } else if (H(t3[n3], e3))
                  return "?" === n3 ? a2 : n3;
              return e3;
            }, X = { ME: "4.90", "NT 3.11": "NT3.51", "NT 4.0": "NT4.0", 2e3: "NT 5.0", XP: ["NT 5.1", "NT 5.2"], Vista: "NT 6.0", 7: "NT 6.1", 8: "NT 6.2", 8.1: "NT 6.3", 10: ["NT 6.4", "NT 10.0"], RT: "ARM" }, Q = { browser: [[/\b(?:crmo|crios)\/([\w\.]+)/i], [p, [d, "Chrome"]], [/edg(?:e|ios|a)?\/([\w\.]+)/i], [p, [d, "Edge"]], [/(opera mini)\/([-\w\.]+)/i, /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i, /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i], [d, p], [/opios[\/ ]+([\w\.]+)/i], [p, [d, F + " Mini"]], [/\bopr\/([\w\.]+)/i], [p, [d, F]], [/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i], [p, [d, "Baidu"]], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i, /(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i, /(?:ms|\()(ie) ([\w\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i, /(heytap|ovi)browser\/([\d\.]+)/i, /(weibo)__([\d\.]+)/i], [d, p], [/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i], [p, [d, "UC" + w]], [/microm.+\bqbcore\/([\w\.]+)/i, /\bqbcore\/([\w\.]+).+microm/i, /micromessenger\/([\w\.]+)/i], [p, [d, "WeChat"]], [/konqueror\/([\w\.]+)/i], [p, [d, "Konqueror"]], [/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i], [p, [d, "IE"]], [/ya(?:search)?browser\/([\w\.]+)/i], [p, [d, "Yandex"]], [/slbrowser\/([\w\.]+)/i], [p, [d, "Smart Lenovo " + w]], [/(avast|avg)\/([\w\.]+)/i], [[d, /(.+)/, "$1 Secure " + w], p], [/\bfocus\/([\w\.]+)/i], [p, [d, C + " Focus"]], [/\bopt\/([\w\.]+)/i], [p, [d, F + " Touch"]], [/coc_coc\w+\/([\w\.]+)/i], [p, [d, "Coc Coc"]], [/dolfin\/([\w\.]+)/i], [p, [d, "Dolphin"]], [/coast\/([\w\.]+)/i], [p, [d, F + " Coast"]], [/miuibrowser\/([\w\.]+)/i], [p, [d, "MIUI " + w]], [/fxios\/([-\w\.]+)/i], [p, [d, C]], [/\bqihu|(qi?ho?o?|360)browser/i], [[d, "360 " + w]], [/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i], [[d, /(.+)/, "$1 " + w], p], [/samsungbrowser\/([\w\.]+)/i], [p, [d, x + " Internet"]], [/(comodo_dragon)\/([\w\.]+)/i], [[d, /_/g, " "], p], [/metasr[\/ ]?([\d\.]+)/i], [p, [d, "Sogou Explorer"]], [/(sogou)mo\w+\/([\d\.]+)/i], [[d, "Sogou Mobile"], p], [/(electron)\/([\w\.]+) safari/i, /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i, /m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i], [d, p], [/(lbbrowser)/i, /\[(linkedin)app\]/i], [d], [/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i], [[d, G], p], [/(Klarna)\/([\w\.]+)/i, /(kakao(?:talk|story))[\/ ]([\w\.]+)/i, /(naver)\(.*?(\d+\.[\w\.]+).*\)/i, /safari (line)\/([\w\.]+)/i, /\b(line)\/([\w\.]+)\/iab/i, /(alipay)client\/([\w\.]+)/i, /(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i], [d, p], [/\bgsa\/([\w\.]+) .*safari\//i], [p, [d, "GSA"]], [/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i], [p, [d, "TikTok"]], [/headlesschrome(?:\/([\w\.]+)| )/i], [p, [d, N + " Headless"]], [/ wv\).+(chrome)\/([\w\.]+)/i], [[d, N + " WebView"], p], [/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i], [p, [d, "Android " + w]], [/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i], [d, p], [/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i], [p, [d, "Mobile Safari"]], [/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i], [p, d], [/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i], [d, [p, W, { "1.0": "/8", 1.2: "/1", 1.3: "/3", "2.0": "/412", "2.0.2": "/416", "2.0.3": "/417", "2.0.4": "/419", "?": "/" }]], [/(webkit|khtml)\/([\w\.]+)/i], [d, p], [/(navigator|netscape\d?)\/([-\w\.]+)/i], [[d, "Netscape"], p], [/mobile vr; rv:([\w\.]+)\).+firefox/i], [p, [d, C + " Reality"]], [/ekiohf.+(flow)\/([\w\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i, /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i, /(firefox)\/([\w\.]+)/i, /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i, /(links) \(([\w\.]+)/i, /panasonic;(viera)/i], [d, p], [/(cobalt)\/([\w\.]+)/i], [d, [p, /master.|lts./, ""]]], cpu: [[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i], [[m, "amd64"]], [/(ia32(?=;))/i], [[m, V]], [/((?:i[346]|x)86)[;\)]/i], [[m, "ia32"]], [/\b(aarch64|arm(v?8e?l?|_?64))\b/i], [[m, "arm64"]], [/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i], [[m, "armhf"]], [/windows (ce|mobile); ppc;/i], [[m, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i], [[m, /ower/, "", V]], [/(sun4\w)[;\)]/i], [[m, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i], [[m, V]]], device: [[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i], [f, [h, x], [g, v]], [/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i, /samsung[- ]([-\w]+)/i, /sec-(sgh\w+)/i], [f, [h, x], [g, E]], [/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i], [f, [h, A], [g, E]], [/\((ipad);[-\w\),; ]+apple/i, /applecoremedia\/[\w\.]+ \((ipad)/i, /\b(ipad)\d\d?,\d\d?[;\]].+ios/i], [f, [h, A], [g, v]], [/(macintosh);/i], [f, [h, A]], [/\b(sh-?[altvz]?\d\d[a-ekm]?)/i], [f, [h, k], [g, E]], [/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i], [f, [h, O], [g, v]], [/(?:huawei|honor)([-\w ]+)[;\)]/i, /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i], [f, [h, O], [g, E]], [/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i, /\b; (\w+) build\/hm\1/i, /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i, /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i, /oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i, /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i], [[f, /_/g, " "], [h, Z], [g, E]], [/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i, /\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i], [[f, /_/g, " "], [h, Z], [g, v]], [/; (\w+) bui.+ oppo/i, /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i], [f, [h, "OPPO"], [g, E]], [/vivo (\w+)(?: bui|\))/i, /\b(v[12]\d{3}\w?[at])(?: bui|;)/i], [f, [h, "Vivo"], [g, E]], [/\b(rmx[1-3]\d{3})(?: bui|;|\))/i], [f, [h, "Realme"], [g, E]], [/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i, /\bmot(?:orola)?[- ](\w*)/i, /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i], [f, [h, L], [g, E]], [/\b(mz60\d|xoom[2 ]{0,2}) build\//i], [f, [h, L], [g, v]], [/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i], [f, [h, M], [g, v]], [/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i, /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i, /\blg-?([\d\w]+) bui/i], [f, [h, M], [g, E]], [/(ideatab[-\w ]+)/i, /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i], [f, [h, "Lenovo"], [g, v]], [/(?:maemo|nokia).*(n900|lumia \d+)/i, /nokia[-_ ]?([-\w\.]*)/i], [[f, /_/g, " "], [h, "Nokia"], [g, E]], [/(pixel c)\b/i], [f, [h, D], [g, v]], [/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i], [f, [h, D], [g, E]], [/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i], [f, [h, U], [g, E]], [/sony tablet [ps]/i, /\b(?:sony)?sgp\w+(?: bui|\))/i], [[f, "Xperia Tablet"], [h, U], [g, v]], [/ (kb2005|in20[12]5|be20[12][59])\b/i, /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i], [f, [h, "OnePlus"], [g, E]], [/(alexa)webm/i, /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i, /(kf[a-z]+)( bui|\)).+silk\//i], [f, [h, b], [g, v]], [/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i], [[f, /(.+)/g, "Fire Phone $1"], [h, b], [g, E]], [/(playbook);[-\w\),; ]+(rim)/i], [f, h, [g, v]], [/\b((?:bb[a-f]|st[hv])100-\d)/i, /\(bb10; (\w+)/i], [f, [h, R], [g, E]], [/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i], [f, [h, I], [g, v]], [/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i], [f, [h, I], [g, E]], [/(nexus 9)/i], [f, [h, "HTC"], [g, v]], [/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i, /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i, /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i], [h, [f, /_/g, " "], [g, E]], [/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i], [f, [h, "Acer"], [g, v]], [/droid.+; (m[1-5] note) bui/i, /\bmz-([-\w]{2,})/i], [f, [h, "Meizu"], [g, E]], [/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i], [f, [h, "Ulefone"], [g, E]], [/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i, /(hp) ([\w ]+\w)/i, /(asus)-?(\w+)/i, /(microsoft); (lumia[\w ]+)/i, /(lenovo)[-_ ]?([-\w]+)/i, /(jolla)/i, /(oppo) ?([\w ]+) bui/i], [h, f, [g, E]], [/(kobo)\s(ereader|touch)/i, /(archos) (gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\/([\w\.]+)/i, /(nook)[\w ]+build\/(\w+)/i, /(dell) (strea[kpr\d ]*[\dko])/i, /(le[- ]+pan)[- ]+(\w{1,9}) bui/i, /(trinity)[- ]*(t\d{3}) bui/i, /(gigaset)[- ]+(q\w{1,9}) bui/i, /(vodafone) ([\w ]+)(?:\)| bui)/i], [h, f, [g, v]], [/(surface duo)/i], [f, [h, P], [g, v]], [/droid [\d\.]+; (fp\du?)(?: b|\))/i], [f, [h, "Fairphone"], [g, E]], [/(u304aa)/i], [f, [h, "AT&T"], [g, E]], [/\bsie-(\w*)/i], [f, [h, "Siemens"], [g, E]], [/\b(rct\w+) b/i], [f, [h, "RCA"], [g, v]], [/\b(venue[\d ]{2,7}) b/i], [f, [h, "Dell"], [g, v]], [/\b(q(?:mv|ta)\w+) b/i], [f, [h, "Verizon"], [g, v]], [/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i], [f, [h, "Barnes & Noble"], [g, v]], [/\b(tm\d{3}\w+) b/i], [f, [h, "NuVision"], [g, v]], [/\b(k88) b/i], [f, [h, "ZTE"], [g, v]], [/\b(nx\d{3}j) b/i], [f, [h, "ZTE"], [g, E]], [/\b(gen\d{3}) b.+49h/i], [f, [h, "Swiss"], [g, E]], [/\b(zur\d{3}) b/i], [f, [h, "Swiss"], [g, v]], [/\b((zeki)?tb.*\b) b/i], [f, [h, "Zeki"], [g, v]], [/\b([yr]\d{2}) b/i, /\b(dragon[- ]+touch |dt)(\w{5}) b/i], [[h, "Dragon Touch"], f, [g, v]], [/\b(ns-?\w{0,9}) b/i], [f, [h, "Insignia"], [g, v]], [/\b((nxa|next)-?\w{0,9}) b/i], [f, [h, "NextBook"], [g, v]], [/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i], [[h, "Voice"], f, [g, E]], [/\b(lvtel\-)?(v1[12]) b/i], [[h, "LvTel"], f, [g, E]], [/\b(ph-1) /i], [f, [h, "Essential"], [g, E]], [/\b(v(100md|700na|7011|917g).*\b) b/i], [f, [h, "Envizen"], [g, v]], [/\b(trio[-\w\. ]+) b/i], [f, [h, "MachSpeed"], [g, v]], [/\btu_(1491) b/i], [f, [h, "Rotor"], [g, v]], [/(shield[\w ]+) b/i], [f, [h, "Nvidia"], [g, v]], [/(sprint) (\w+)/i], [h, f, [g, E]], [/(kin\.[onetw]{3})/i], [[f, /\./g, " "], [h, P], [g, E]], [/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i], [f, [h, B], [g, v]], [/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i], [f, [h, B], [g, E]], [/smart-tv.+(samsung)/i], [h, [g, _]], [/hbbtv.+maple;(\d+)/i], [[f, /^/, "SmartTV"], [h, x], [g, _]], [/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i], [[h, M], [g, _]], [/(apple) ?tv/i], [h, [f, A + " TV"], [g, _]], [/crkey/i], [[f, N + "cast"], [h, D], [g, _]], [/droid.+aft(\w+)( bui|\))/i], [f, [h, b], [g, _]], [/\(dtv[\);].+(aquos)/i, /(aquos-tv[\w ]+)\)/i], [f, [h, k], [g, _]], [/(bravia[\w ]+)( bui|\))/i], [f, [h, U], [g, _]], [/(mitv-\w{5}) bui/i], [f, [h, Z], [g, _]], [/Hbbtv.*(technisat) (.*);/i], [h, f, [g, _]], [/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i, /hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i], [[h, K], [f, K], [g, _]], [/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i], [[g, _]], [/(ouya)/i, /(nintendo) ([wids3utch]+)/i], [h, f, [g, y]], [/droid.+; (shield) bui/i], [f, [h, "Nvidia"], [g, y]], [/(playstation [345portablevi]+)/i], [f, [h, U], [g, y]], [/\b(xbox(?: one)?(?!; xbox))[\); ]/i], [f, [h, P], [g, y]], [/((pebble))app/i], [h, f, [g, T]], [/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i], [f, [h, A], [g, T]], [/droid.+; (glass) \d/i], [f, [h, D], [g, T]], [/droid.+; (wt63?0{2,3})\)/i], [f, [h, B], [g, T]], [/(quest( 2| pro)?)/i], [f, [h, G], [g, T]], [/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i], [h, [g, S]], [/(aeobc)\b/i], [f, [h, b], [g, S]], [/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i], [f, [g, E]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i], [f, [g, v]], [/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i], [[g, v]], [/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i], [[g, E]], [/(android[-\w\. ]{0,9});.+buil/i], [f, [h, "Generic"]]], engine: [[/windows.+ edge\/([\w\.]+)/i], [p, [d, "EdgeHTML"]], [/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i], [p, [d, "Blink"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i, /ekioh(flow)\/([\w\.]+)/i, /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i, /(icab)[\/ ]([23]\.[\d\.]+)/i, /\b(libweb)/i], [d, p], [/rv\:([\w\.]{1,9})\b.+(gecko)/i], [p, d]], os: [[/microsoft (windows) (vista|xp)/i], [d, p], [/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i], [d, [p, W, X]], [/windows nt 6\.2; (arm)/i, /windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i, /(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i], [[p, W, X], [d, "Windows"]], [/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i, /(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i, /cfnetwork\/.+darwin/i], [[p, /_/g, "."], [d, "iOS"]], [/(mac os x) ?([\w\. ]*)/i, /(macintosh|mac_powerpc\b)(?!.+haiku)/i], [[d, Y], [p, /_/g, "."]], [/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i], [p, d], [/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i, /(blackberry)\w*\/([\w\.]*)/i, /(tizen|kaios)[\/ ]([\w\.]+)/i, /\((series40);/i], [d, p], [/\(bb(10);/i], [p, [d, R]], [/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i], [p, [d, "Symbian"]], [/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i], [p, [d, C + " OS"]], [/web0s;.+rt(tv)/i, /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i], [p, [d, "webOS"]], [/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i], [p, [d, "watchOS"]], [/crkey\/([\d\.]+)/i], [p, [d, N + "cast"]], [/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i], [[d, q], p], [/panasonic;(viera)/i, /(netrange)mmh/i, /(nettv)\/(\d+\.[\w\.]+)/i, /(nintendo|playstation) ([wids345portablevuch]+)/i, /(xbox); +xbox ([^\);]+)/i, /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i, /(mint)[\/\(\) ]?(\w*)/i, /(mageia|vectorlinux)[; ]/i, /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i, /(hurd|linux) ?([\w\.]*)/i, /(gnu) ?([\w\.]*)/i, /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, /(haiku) (\w+)/i], [d, p], [/(sunos) ?([\w\.\d]*)/i], [[d, "Solaris"], p], [/((?:open)?solaris)[-\/ ]?([\w\.]*)/i, /(aix) ((\d)(?=\.|\)| )[\w\.])*/i, /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, /(unix) ?([\w\.]*)/i], [d, p]] }, J = function(e3, t3) {
              if (typeof e3 === u && (t3 = e3, e3 = a2), !(this instanceof J))
                return new J(e3, t3).getResult();
              var n3 = typeof i !== s2 && i.navigator ? i.navigator : a2, r3 = e3 || (n3 && n3.userAgent ? n3.userAgent : ""), y2 = n3 && n3.userAgentData ? n3.userAgentData : a2, _2 = t3 ? function(e4, t4) {
                var n4 = {};
                for (var r4 in e4)
                  t4[r4] && t4[r4].length % 2 == 0 ? n4[r4] = t4[r4].concat(e4[r4]) : n4[r4] = e4[r4];
                return n4;
              }(Q, t3) : Q, T2 = n3 && n3.userAgent == r3;
              return this.getBrowser = function() {
                var e4, t4 = {};
                return t4[d] = a2, t4[p] = a2, z.call(t4, r3, _2.browser), t4[c] = typeof (e4 = t4[p]) === l ? e4.replace(/[^\d\.]/g, "").split(".")[0] : a2, T2 && n3 && n3.brave && typeof n3.brave.isBrave == o && (t4[d] = "Brave"), t4;
              }, this.getCPU = function() {
                var e4 = {};
                return e4[m] = a2, z.call(e4, r3, _2.cpu), e4;
              }, this.getDevice = function() {
                var e4 = {};
                return e4[h] = a2, e4[f] = a2, e4[g] = a2, z.call(e4, r3, _2.device), T2 && !e4[g] && y2 && y2.mobile && (e4[g] = E), T2 && "Macintosh" == e4[f] && n3 && typeof n3.standalone !== s2 && n3.maxTouchPoints && n3.maxTouchPoints > 2 && (e4[f] = "iPad", e4[g] = v), e4;
              }, this.getEngine = function() {
                var e4 = {};
                return e4[d] = a2, e4[p] = a2, z.call(e4, r3, _2.engine), e4;
              }, this.getOS = function() {
                var e4 = {};
                return e4[d] = a2, e4[p] = a2, z.call(e4, r3, _2.os), T2 && !e4[d] && y2 && "Unknown" != y2.platform && (e4[d] = y2.platform.replace(/chrome os/i, q).replace(/macos/i, Y)), e4;
              }, this.getResult = function() {
                return { ua: this.getUA(), browser: this.getBrowser(), engine: this.getEngine(), os: this.getOS(), device: this.getDevice(), cpu: this.getCPU() };
              }, this.getUA = function() {
                return r3;
              }, this.setUA = function(e4) {
                return r3 = typeof e4 === l && e4.length > 500 ? K(e4, 500) : e4, this;
              }, this.setUA(r3), this;
            };
            J.VERSION = "1.0.37", J.BROWSER = j([d, p, c]), J.CPU = j([m]), J.DEVICE = j([f, h, g, y, E, _, v, T, S]), J.ENGINE = J.OS = j([d, p]), typeof t2 !== s2 ? (e2.exports && (t2 = e2.exports = J), t2.UAParser = J) : n2.amdO ? (r2 = (function() {
              return J;
            }).call(t2, n2, t2, e2)) === a2 || (e2.exports = r2) : typeof i !== s2 && (i.UAParser = J);
            var $ = typeof i !== s2 && (i.jQuery || i.Zepto);
            if ($ && !$.ua) {
              var ee = new J();
              $.ua = ee.getResult(), $.ua.get = function() {
                return ee.getUA();
              }, $.ua.set = function(e3) {
                ee.setUA(e3);
                var t3 = ee.getResult();
                for (var n3 in t3)
                  $.ua[n3] = t3[n3];
              };
            }
          }("object" == typeof window ? window : this);
        }, 7839: function(e2, t2, n2) {
          function r2(e3) {
            try {
              if (!n2.g.localStorage)
                return false;
            } catch (e4) {
              return false;
            }
            var t3 = n2.g.localStorage[e3];
            return null != t3 && "true" === String(t3).toLowerCase();
          }
          e2.exports = function(e3, t3) {
            if (r2("noDeprecation"))
              return e3;
            var n3 = false;
            return function() {
              if (!n3) {
                if (r2("throwDeprecation"))
                  throw new Error(t3);
                r2("traceDeprecation") ? console.trace(t3) : console.warn(t3), n3 = true;
              }
              return e3.apply(this, arguments);
            };
          };
        }, 9862: function() {
        }, 964: function() {
        }, 3165: function(e2) {
          "use strict";
          e2.exports = JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]');
        }, 5813: function(e2) {
          "use strict";
          e2.exports = JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]');
        }, 9460: function(e2) {
          "use strict";
          e2.exports = JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}');
        }, 7778: function(e2) {
          "use strict";
          e2.exports = JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]');
        }, 8589: function(e2) {
          "use strict";
          e2.exports = JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}');
        }, 858: function(e2) {
          "use strict";
          e2.exports = JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]');
        } }, t = {};
        function n(r2) {
          var i = t[r2];
          if (void 0 !== i)
            return i.exports;
          var a2 = t[r2] = { exports: {} };
          return e[r2].call(a2.exports, a2, a2.exports, n), a2.exports;
        }
        n.amdO = {}, n.n = function(e2) {
          var t2 = e2 && e2.__esModule ? function() {
            return e2.default;
          } : function() {
            return e2;
          };
          return n.d(t2, { a: t2 }), t2;
        }, n.d = function(e2, t2) {
          for (var r2 in t2)
            n.o(t2, r2) && !n.o(e2, r2) && Object.defineProperty(e2, r2, { enumerable: true, get: t2[r2] });
        }, n.g = function() {
          if ("object" == typeof globalThis)
            return globalThis;
          try {
            return this || new Function("return this")();
          } catch (e2) {
            if ("object" == typeof window)
              return window;
          }
        }(), n.o = function(e2, t2) {
          return Object.prototype.hasOwnProperty.call(e2, t2);
        };
        var r = {};
        return function() {
          "use strict";
          n.d(r, { default: function() {
            return c;
          } }), n(8416);
          var e2, t2 = n(1715), i = n(8080), a2 = n(1737), o = n(1139), s2 = /* @__PURE__ */ function() {
            var e3, t3 = "application/dash+xml";
            function n2(n3, r3, i2) {
              if (!n3 || !/^VIDEO$/i.test(n3.nodeName))
                return null;
              if (n3._dashjs_player)
                return n3._dashjs_player;
              var a3, s3 = n3.id || n3.name || "video element";
              if (!(r3 = r3 || [].slice.call(n3.querySelectorAll("source")).filter(function(e4) {
                return e4.type == t3;
              })[0]) && n3.src)
                (r3 = document.createElement("source")).src = n3.src;
              else if (!r3 && !n3.src)
                return null;
              return i2 = i2 || {}, (a3 = (0, o.Z)(i2).create()).initialize(n3, r3.src, n3.autoplay), e3 || (e3 = a3.getDebug().getLogger()), e3.debug("Converted " + s3 + " to dash.js player and added content: " + r3.src), n3._dashjs_player = a3, a3;
            }
            function r2(e4) {
              return /^VIDEO$/i.test(e4.nodeName) ? e4 : r2(e4.parentNode);
            }
            return { create: n2, createAll: function(e4, i2) {
              var a3 = [];
              e4 = e4 || "[data-dashjs-player]";
              for (var o2 = (i2 = i2 || document).querySelectorAll(e4), s3 = 0; s3 < o2.length; s3++) {
                var u2 = n2(o2[s3], null);
                a3.push(u2);
              }
              for (var l2 = i2.querySelectorAll('source[type="' + t3 + '"]'), c2 = 0; c2 < l2.length; c2++) {
                var f = n2(r2(l2[c2]), null);
                a3.push(f);
              }
              return a3;
            } };
          }();
          !("undefined" != typeof window && window && window.dashjs && window.dashjs.skipAutoCreate) && "undefined" != typeof window && window && window.addEventListener && ("complete" === window.document.readyState ? window.dashjs ? s2.createAll() : e2 = window.setInterval(function() {
            window.dashjs && (window.clearInterval(e2), s2.createAll());
          }, 500) : window.addEventListener("load", function e3() {
            window.removeEventListener("load", e3), s2.createAll();
          }));
          var u = s2, l = n(6398);
          dashjs.Protection = a2.default, dashjs.MetricsReporting = i.default, dashjs.MediaPlayerFactory = u, dashjs.Debug = l.Z, dashjs.supportsMediaSource = t2.B;
          var c = dashjs;
        }(), r.default;
      }();
    });
  }
});
export default require_dash_all_min();
/*! Bundled license information:

dashjs/dist/dash.all.min.js:
  (*! For license information please see dash.all.min.js.LICENSE.txt *)
*/
//# sourceMappingURL=dashjs.js.map
